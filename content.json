{"pages":[{"title":"","text":"ä¸ªäººä»‹ç» åŸºæœ¬ä¿¡æ¯ éƒ‘åš / ç”· / 1996 ä¸“ç§‘ / æˆéƒ½çººç»‡é«˜ç­‰ä¸“ç§‘å­¦æ ¡ ï¼ˆå¤§äºŒè‡ªå­¦,å¤§ä¸‰æ¥ç§æ´»,æ¯•ä¸šå‚åŠ å·¥ä½œï¼‰ å·¥ä½œå¹´é™ / ç»éªŒï¼š3å¹´&emsp;2019.04-è‡³ä»Š æœŸæœ›èŒä½ï¼šWebå‰ç«¯ç¨‹åºå‘˜ / å·¥ç¨‹å¸ˆ æœŸæœ›è–ªèµ„ï¼š17k Emailï¼š130141963@qq.com&emsp;&emsp;QQï¼š130141963&emsp;&emsp;VXï¼šTabbyCute404 è‡ªæˆ‘æŠ€èƒ½åˆ†æ htmlï¼šæœ€å¼€å§‹çš„é¡¹ç›®éƒ¨åˆ†æ˜¯åŸç”Ÿhtmlï¼Œjsï¼Œcssï¼Œjqç­‰ç­‰ä¼ ç»Ÿçš„å¤šé¡µé¢å¼€å‘æ–¹å¼å¤§å¤šæ•°éƒ½æ˜¯äº›æ´»åŠ¨ï¼Œè¡¨å•ï¼Œä¸‹è½½é¡µï¼Œæ¨å¹¿é¡µï¼ŒæŠ¥å‘Šé¡µï¼› gulpï¼šç”¨äºæ—©æœŸçš„å¤šé¡µé¢é¡¹ç›®æ‰“åŒ…ï¼Œæ–¹ä¾¿æ‚ä¹±çš„htmlå’Œå„ç§æ–‡ä»¶çš„é›†ä¸­ç®¡ç†ï¼› vueï¼švue2.xä¹‹å‰åŸºæœ¬ä¸Šéƒ½ç”¨çš„vue2.xï¼Œè¿‘ä¸€ä¸¤å¹´é¡¹ç›®åŸºæœ¬ä¸Šéƒ½æ˜¯vue3.xäº†ï¼›æœ‰è‡ªå·±çš„vueæ¨¡æ¿ï¼ˆvue3+vite+tsï¼‰ï¼Œä¸»è¦æ˜¯åšå¥½äº†æƒé™ç®¡ç†(å‰ç«¯æƒé™å’Œåç«¯æƒé™)å’Œä¸€äº›å¸¸ç”¨çš„åŸºç¡€æ¨¡å—ï¼Œä»£ç ä¼˜ç¾æ•´æ´èƒ½å¿«é€Ÿçš„å¼€å§‹é¡¹ç›®ï¼› reactï¼šreactåšçš„é¡¹ç›®ä¸æ˜¯å¾ˆå¤šï¼Œä¹Ÿéƒ½æ˜¯äº›å¸¸è§„çš„åå°ï¼ŒåŠä¸ªå³æ—¶é€šè®¯åº”ç”¨(æ²¡å†™å®Œè¢«æ´¾å»èµ¶å…¶ä»–é¡¹ç›®)ï¼Œé¡¹ç›®é‡åˆ°çš„é—®é¢˜åŸºæœ¬ä¸Šéƒ½èƒ½è‡ªå·±è§£å†³ï¼› å°ç¨‹åºï¼šé’‰é’‰å°ç¨‹åºï¼Œç™¾åº¦å°ç¨‹åºï¼Œæ”¯ä»˜å®å°ç¨‹åºç­‰ç­‰ç­‰ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€ä¸ªå¥—è·¯æœ‰äº›è¿æ ‡ç­¾éƒ½æ²¡æ”¹~ï¼Œæœ€å¼€å§‹ç”¨çš„åŸç”Ÿï¼Œåæ¥åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„uniappï¼ŒçœŸé¦™ï¼ h5ï¼šæœ€å¼€å§‹ç”¨vueå’Œreactï¼Œåæ¥ä¹Ÿç”¨uniappï¼Œå†™å†™h5ï¼Œå…¬ä¼—å·å•¥çš„è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚ uniappï¼šå†™appçš„æ—¶å€™æœ€å¼€å§‹ç”¨çš„uniappï¼ˆvueé¡µé¢webviewå¼•æ“æ¸²æŸ“ï¼‰ï¼Œåæ…¢æ…¢ç†Ÿæ‚‰äº†ï¼ˆç”¨çš„nvueåŸç”Ÿæ¨¡å¼ï¼‰ï¼›å½“ç„¶uniappå†™appæˆ‘æ˜¯ä¸æ¨èçš„ï¼Œuniappä¸»è¦åšå°ç¨‹åº(å„ç§)ï¼Œèƒ½å†™å®‰å“uniappåŸç”Ÿæ’ä»¶ï¼Œå°†å®‰å“sdkè½¬uniappæ’ä»¶ï¼Œh5ï¼Œå…¬ä¼—å·ï¼Œåšåšè½»é‡çº§appä¹Ÿè¿˜è¡Œï¼Œä½†å¹¶ä¸æ˜¯å¾ˆæ¨è~ flutterï¼šæœ€å¼€å§‹å‡ºäºå…´è¶£å­¦ä¹ ï¼Œåæ¥å‘ç°flutterå®Œç¾å¼¥è¡¥äº†è‡ªå·±åœ¨å¤§å‹å¤æ‚appä¸ŠæŠ€æœ¯ç©ºç¼ºï¼Œèƒ½å†™flutteræ’ä»¶ï¼› Nuxtjsï¼šä¸»è¦ç”¨åœ¨éœ€è¦æŸäº›åšSEOä¼˜åŒ–çš„é¡¹ç›®ä¸Šé¢ï¼Œæ¯”å¦‚å®˜ç½‘ï¼Œå•†åŸï¼Œæ–‡ç« ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰è¿™äº›é¡¹ç›®ï¼Œå¤§å¤šæ•°éƒ½æ˜¯adminåå°ï¼› webassemblyï¼šä¸€èˆ¬ç”¨äºå¤§å‹é¡¹ç›®æ€§èƒ½ç“¶é¢ˆåœ°æ–¹ä¼˜åŒ–æˆ–è€…é«˜è®¡ç®—çš„åœ°æ–¹ï¼› å½“ç„¶æŠ€æœ¯æ ˆä¸ä»£è¡¨æ‰€æœ‰ã€‚ç»éªŒï¼Œé˜…è¯»æ–‡æ¡£èƒ½åŠ›ï¼Œå…¶ä»–çš„èƒ½åŠ›ä¹Ÿç›¸å½“çš„é‡è¦ï¼Œå›½å†…å¾ˆé‡è¦çš„å¾®ä¿¡ç”Ÿæ€ï¼Œæ¯”å¦‚å¾®ä¿¡æ”¯ä»˜ï¼Œå…¬ä¼—å·å°ç¨‹åºä¹‹é—´ç›¸äº’è·³è½¬ï¼Œå…¬ä¼—å·ç™»å½•ï¼Œå…¬ä¼—å·æ”¯ä»˜ç­‰ç­‰ï¼›è¿˜æœ‰UIæ¡†æ¶å…¶å®ç”¨æ³•éƒ½ä¸€æ ·ï¼Œçœ‹æ–‡æ¡£å³å¯ï¼› ä¼˜åŒ–èƒ½åŠ›ã€‚ä¸€ä¸ªé¡¹ç›®åœ¨åˆæœŸå¯èƒ½å¾ˆå¿«å°±å®Œæˆäº†ï¼Œä½†æ˜¯ç”±äºäººå‘˜å¤æ‚ï¼Œå·¥æœŸçŸ­å¯èƒ½å¯¼è‡´ä¸€äº›ï¼Œä»£ç æ··ä¹±ï¼Œåˆ†æ•£ï¼Œé‡å¤ç­‰ç­‰è¿™æ—¶å€™éƒ¨åˆ†ä»£ç å°è£…å’Œæ¨¡å—åŒ–å°±å˜å¾—å¾ˆæœ‰å¿…è¦ï¼›æ—¶é•¿è¿˜ä¼šä¼´éšç€æ‰“åŒ…è¿‡åè¿‡å¤§ï¼Œå¯åŠ¨æ…¢ç­‰ç­‰ä¹Ÿéœ€è¦æˆ‘ä»¬è¿›è¡Œä¼˜åŒ–ï¼› é¡¹ç›®éƒ¨ç½²ã€‚å¦‚æœåç«¯éœ€è¦å‰ç«¯è‡ªå·±éƒ¨ç½²ï¼Œæœ€å¼€å§‹å°±ä¼ ç»Ÿçš„éƒ¨ç½²æ–¹å¼ï¼Œnginxå¯¼å‘é™æ€ç›®å½•ï¼›åæ¥ä½¿ç”¨å®å¡”è¿›è¡Œé¡¹ç›®ç®¡ç†ï¼ˆå³ä½¿æˆ‘ä»¬ä¸ç”¨phpï¼‰ï¼›ç°åœ¨ä½¿ç”¨dockerï¼ˆdockeråœ¨å‰ç«¯å¾ˆæœ‰äº‰è®®ï¼Œéƒ¨åˆ†äººè®¤ä¸ºå‰ç«¯ä¸éœ€è¦ä½¿ç”¨dockerï¼Œä¸ªäººè§‚ç‚¹æ˜¯ï¼Œå¦‚æœä¸€ä¸ªé¡¹ç›®éœ€è¦é•¿æœŸäº¤ä»˜ä½¿ç”¨dockerè¿˜æ˜¯æŒºä¸é”™çš„ï¼‰æ–¹ä¾¿å¿«æ·ï¼› åç«¯ï¼ˆgolangå­¦ä¹ ingï¼‰ã€‚åç«¯èƒ½åŠ›ä¸€èˆ¬ä¸ç”¨åšå…¬å¸ç”Ÿäº§åŠ›ï¼ˆå› ä¸ºå¤§éƒ¨åˆ†å…¬å¸éƒ½æ˜¯javaï¼‰ï¼Œä¸€èˆ¬åšäº›è‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚ä¹‹å‰åšè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨(å¥³æœ‹å‹ä¸“å±)ï¼›ä¸ºå…¬å¸çˆ¬å–æŸä¸ªç½‘ç«™ä¿¡æ¯ï¼›ä¸ºé¡¹ç›®æ³¨å†Œæœºå™¨äººç”¨æˆ·ï¼›å½“ç„¶å¯¹äºå®é™…å·¥ä½œä¸­å®šä½é¡¹ç›®é”™è¯¯å’Œé—®é¢˜è§£å†³ä¹Ÿæ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„ã€‚ è‡ªæˆ‘è¯„ä»· è‡ªå­¦èƒ½åŠ›å¼ºï¼Œç‹¬ç«‹è§£å†³é—®é¢˜èƒ½åŠ›çªå‡ºï¼Œèƒ½ç»™é¡¹ç›®å›¢é˜Ÿå›°éš¾çš„æ—¶å€™åŠæ—¶ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ å–œæ¬¢å­¦ä¹ æ–°æŠ€æœ¯ï¼Œç»å¸¸äº†è§£å’Œå­¦ä¹ å‰æ²¿çš„æŠ€æœ¯ã€‚æœ‰äº›ä¸œè¥¿å¯èƒ½æ²¡æœ‰æ—¶é—´å»å­¦ä¹ ã€‚ä½†æ˜¯äº†è§£è¿‡äº†ï¼Œèƒ½å¿«é€Ÿçš„å®šä½é—®é¢˜ï¼Œæˆ–è€…ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚è¿™ç‚¹å¾ˆé‡è¦~ å–œæ¬¢è‡ªå·±åŠ¨æ‰‹å°è£…é«˜å¯ç”¨çš„ä»£ç ï¼Œä¸ºä»¥åçš„å¼€å‘æé«˜æ•ˆç‡ã€‚ å–œæ¬¢æŒ‘æˆ˜æœªçŸ¥çš„é¡¹ç›®ï¼Œä¸€èˆ¬çš„é¡¹ç›®åƒç¯‡ä¸€å¾‹ï¼Œè¿‡äºå¸¸è§„æ²¡ä»€ä¹ˆæ„æ€ï¼Œå–œæ¬¢åšç‚¹ä¸ä¸€æ ·çš„ ~ æœ‰è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›å’Œå›¢é˜Ÿåˆä½œèƒ½åŠ›ï¼Œæ€§æ ¼éšå’Œï¼Œè®¤çœŸè´Ÿè´£ã€‚å¯¹äºåŒäº‹çš„éœ€è¦æœ‰æ±‚å¿…åº”ã€‚ æŠ—å‹èƒ½åŠ›å¼ºï¼Œæœ‰ä¿¡å¿ƒåœ¨ä¸åŒçš„å·¥ä½œå¼ºåº¦ä¸‹è¿›è¡Œå¼€å‘å·¥ä½œï¼Œå¹´è½»ï¼ä¸å¤šbb å¯¹æ–°å…¬å¸çš„é€‚åº”èƒ½åŠ›å¼ºï¼Œè‡ªå­¦èƒ½åŠ›æå¼ºï¼Œèƒ½å¿«é€Ÿèå…¥å›¢é˜Ÿã€‚ é¡¹ç›®ç»éªŒ è‡ªå­¦èƒ½åŠ›å¼ºï¼Œå–œæ¬¢æŒ‘æˆ˜æœªçŸ¥ï¼Œé¡¹ç›®ç»å†ä¸°å¯Œï¼Œä¸Šçº¿é¡¹ç›®æ•°é‡ã€ç±»åˆ«ç¹å¤š(å„ç§å„æ ·çš„é¡¹ç›®éƒ½åšè¿‡)ï¼Œåœ¨è‡ªå·±çœ‹æ¥ç®—æ˜¯æ¯”è¾ƒä¸°å¯Œå¤šå½©ã€‚ ä»¥ä¸‹é¡¹ç›®å‡ä¸ºè‡ªå·±ä¸ºå…¬å¸çš„&nbsp;ç‹¬ç«‹äº§å‡º&nbsp;é¡¹ç›®ä¸­çš„éƒ¨åˆ†ï¼ˆå¾ˆå¤šæ—¶å€™éƒ½æ˜¯ä¸€ä¸ªäººä¸€ä¸ªé¡¹ç›®ï¼Œå¼ºåº¦å¾ˆé«˜ã€‚ï¼‰ï¼Œå›¢é˜Ÿé¡¹ç›®ä¸äºˆä»‹ç»ã€‚ 2022-04-09&emsp;ä»æ–°ç¾äº‘é¡¹ç›®éƒ¨æ¢åˆ°é¡¹ç›®äºŒéƒ¨ï¼Œä¸ºé¡¹ç›®äºŒéƒ¨æä¾›å¼€å‘ã€‚ ã€ŠMOYOã€‹webç‰ˆæœ¬ã€‚å› ä¸ºè¿‘æœŸéœ€è¦æµè§ˆå™¨çš„æ”¯æŒï¼Œå‡†å¤‡å‡ºä¸€ä¸ªæµè§ˆå™¨çš„ç²¾ç®€ç‰ˆã€‚å› ä¸ºéƒ¨åˆ†åŸå› å†™äº†ä¸€åŠè¢«åŒäº‹æ¥æ‰‹äº†ï¼Œç›®å‰æœªä¸Šçº¿ï¼Œä¼°è®¡å¿«äº† React / Ant Design ã€ŠMOYOã€‹é£éŸ³IMæ–°æ¬¾ã€‚ç§»åŠ¨ç«¯-Uniappã€‚å…¬å¸å†…éƒ¨çš„IMç³»ç»Ÿã€‚ä¸ºå…¬å¸æ¸¸æˆç¾¤å’Œæµ·å¤–å›¢é˜Ÿæä¾›äº¤æµå¹³å°ã€‚é¡¹ç›®æ¯”ä¸€èˆ¬çš„IMç³»ç»Ÿè¦å¤šå‡ºä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ï¼Œç”±äºIMé¡¹ç›®æ¯”ä¸€èˆ¬çš„é¡¹ç›®æ›´åŠ çš„å¤æ‚ã€‚uniappè¿‡äºè½»é‡ï¼Œæ€§èƒ½å—é™ï¼Œåšimè¿™ç§å¤§å‹ï¼Œioå¯†é›†ï¼Œä¸šåŠ¡å¤æ‚çš„é¡¹ç›®ç¡®å®ä¸å¥½ï¼ˆæ¨èè€æ¿ç”¨Flutteræˆ–è€…åŸç”Ÿï¼Œè€æ¿è§‰å¾—Flutterè¿‡äºå†·é—¨ï¼Œæˆæœ¬è¾ƒé«˜ï¼‰ã€‚è™½ç„¶æœ‰h5+åŠ æŒä½†æ˜¯ä»ç„¶æœ‰å¾ˆå¤šåœ°æ–¹å¾ˆéš¾å»å®ç°ï¼Œæ¯”å¦‚å¯¹æ–‡ä»¶çš„åŠ å¯†è§£å¯†ï¼Œå³ä¾¿æœ‰äº†h5+ åœ¨uniappçš„iOè¯»å†™ç›¸å½“äºæ²¡æœ‰ï¼Œå¾ˆéš¾ç›´æ¥å¯¹äºŒè¿›åˆ¶è¿›è¡Œæ“ä½œã€‚åœ¨å®‰å“ç«¯æˆ‘éƒ½è‡ªå·±é‡‡ç”¨åŸç”Ÿå®‰å“å†™çš„Uniappæ’ä»¶æ¥å®ç°å¯¹æ–‡ä»¶çš„åŠ å¯†ã€‚iOSç«¯åˆ™æ˜¯ç”±å…¬å¸çš„iosåŒäº‹å®Œæˆçš„Uniappæ’ä»¶ã€‚åæœŸå»ºè®®ç”¨flutteré‡æ„ã€‚å“¦å¯¹äº†ï¼æˆ‘ä»¬iOSï¼ŒAndoridï¼Œpcçš„sdkéƒ½æ˜¯ç”¨çš„åŒä¸€å¥—goä»£ç ç¼–è¯‘å‡ºæ¥çš„ï¼ï¼ï¼ï¼ iOS / Android / Uniapp / go ã€ŠMOYOã€‹é£éŸ³IMæ–°æ¬¾ã€‚ç§»åŠ¨ç«¯-Flutterã€‚åœ¨æˆ‘çš„å¼ºçƒˆæ¨èä¸‹ï¼Œä¸€ä¸ªäººç‹¬ç«‹é‡‡ç”¨flutterå¯¹ä¹‹å‰çš„imé¡¹ç›®è¿›è¡Œé‡æ„ã€‚ios(å•†åº—æœç´¢MOYOé»„è‰²å›¾æ ‡çš„é‚£ä¸ª)ï¼Œå®‰å“å‡å·²ä¸Šæ¶ï¼ŒåŠŸèƒ½å•¥çš„åŸºæœ¬ä¸€æ ·ï¼æ€§èƒ½æ›´å¥½ï¼Œå°¤å…¶æ˜¯åŠ å¯†éƒ¨åˆ†ï¼Œé‡æ–°å†™äº†PC(electron ts)å’Œdartä¹‹é—´çš„åŠ å¯†è§„åˆ™ï¼Œdartçš„ioæ“ä½œå’Œå…¶ä»–ä¸»æµçš„è¯­è¨€åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œæ“ä½œsqlä¹Ÿæ›´æ–¹ä¾¿ï¼Œæœ€é‡è¦æ˜¯çš„å®‰å“å’Œiosé«˜åº¦ç»Ÿä¸€ï¼ï¼ï¼ä¸è¿‡å› ä¸ºä»¬åç«¯ä¸šåŠ¡çš„çš„åŸå› ï¼Œéƒ¨åˆ†httpæ¥å£(ésoket)åœ°æ–¹æœ‰ç‚¹é—®é¢˜ã€‚æ€»çš„æ¥è¯´ï¼Œæ—¶é—´æœ‰ç‚¹ç‚¹èµ¶ï¼Œéƒ¨åˆ†uiç•¥æ˜¾ç²—ç³™ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤§å‹é¡¹ç›®äº†ã€‚ Flutter / Android / iOS ã€ŠHot Moneyã€‹å®˜ç½‘ã€‚è€æ¿è¯´ä¸ºäº†å’Œç«äº‰å¯¹æ‰‹æŠ¢å å¸‚åœºï¼ˆæµ·å¤–å¸‚åœºç«äº‰æ¿€ä¸æ¿€çƒˆä¿ºä¸çŸ¥é“ï¼Œæ‰“å·¥ï¼ï¼‰å¿…é¡»åšSEOçš„ä¼˜åŒ–æ”¶é›†ç”¨æˆ·ï¼Œè£‚å¼€ï¼ç»è¿‡æˆ‘çš„è€ƒè™‘ï¼Œå‡†å¤‡é‡‡ç”¨NextJSæ¥å®Œæˆæ­¤é¡¹ç›®ã€‚å¼€å§‹é‡‡ç”¨ Nuxt3.0+TS å‘ç°é—®é¢˜çœŸçš„å·¨å¤š(å¯èƒ½æ˜¯å› ä¸ºBateç‰ˆ)ï¼Œç½‘ä¸Šçš„æ–‡æ¡£ä¹Ÿå°‘ï¼Œåæ¥é€€å›åˆ°Nuxt2.0ã€‚æ¯•ç«Ÿèµ¶æ—¶é—´ã€‚ NuxtJS / Ant Design / Googleç™»å½• / Faceç™»å½• / Lottie ã€ŠHot Moneyã€‹æ˜¯è‡ªå·±å…¬å¸é¢å¯¹æµ·å¤–æ¸¸æˆå¸‚åœºçš„ä¸€æ¬¾æ¸¸æˆå¯¹æˆ˜å¹³å°ï¼Œç©å®¶å¯ä»¥åœ¨ä¸Šé¢è¿›è¡Œæ¸¸æˆå¯¹æˆ˜ï¼Œå’Œé‚€è¯·ç©å®¶ï¼Œè·å¾—å¥–åŠ±ã€‚h5éƒ¨åˆ†å°±æ˜¯ä¸ºé¡¹ç›®æä¾›é‚€è¯·ï¼Œæ³¨å†Œï¼ˆFaceBookï¼ŒGoogleï¼‰ï¼Œç©å®¶åŒ¹é…ï¼Œå¯¹æˆ˜ç­‰æœåŠ¡ã€‚ç¬¬ä¸€æ¬¡å¯¹æ¥Googleç™»å½•å’ŒFaceç™»å½•ã€‚ Vue3.x + Vite + Pinia / Varlet(Materialè´¨æ„Ÿçš„UIå¾ˆé€‚åˆæµ·å¤–) / Googleç™»å½• / Faceç™»å½• / Lottie 2021-09-01&emsp;åŠ å…¥åˆ›ä¸äº’åŠ¨çš„æ–°ç¾äº‘é¡¹ç›®éƒ¨ã€‚æ­¤å…¬å¸ä¸»è¦æ˜¯ä»¥æµ·å¤–æ¸¸æˆé¡¹ç›®ä¸ºä¸»ï¼Œä½†æ˜¯æˆ‘åŠ å…¥çš„æ˜¯æ–°ç¾äº‘é¡¹ç›®ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯è‡ªå·±çš„é¡¹ç›®åŒ»ç–—å¥åº·è¡Œä¸šï¼Œå‰ç«¯vue2.xä¸ºä¸»adminåå°ï¼Œåç«¯æ˜¯javaã€‚æ„Ÿè§‰æŒºå¥½çš„~è¿™é‡Œç»ˆç©¶æ˜¯æˆ‘ä¸€ä¸ªäººæ‰¿æ‹…äº†æ‰€æœ‰ï¼Œè¿™æ®µæ—¶é—´çœŸçš„ç´¯éº»äº†ï¼ ã€Šæ–°ç¾äº‘å•†åŸã€‹ã€‚å¯ä»¥ç›´æ¥æœå°ç¨‹åº&gt;æ–°ç¾äº‘å•†åŸï¼Œè¿™æ˜¯æˆéƒ½æ–°ç¾äº‘å¥åº·ç§‘æŠ€æœ‰é™å…¬å¸çš„çº¿ä¸Šå•†åŸï¼ˆæœ¬è´¨æ˜¯ä¸€ä¸ªçº¿ä¸ŠSaaSå•†åŸï¼‰ï¼Œä¸šåŠ¡é€»è¾‘ç¨æ˜¾å¤æ‚ã€‚ Vue / Uniapp / uView / å¾®ä¿¡å°ç¨‹åº ã€Šæ°›å›´ç¾å­¦ã€‹ã€‚å¯ä»¥ç›´æ¥æœå°ç¨‹åº&gt;æ°›å›´ç¾å­¦ï¼Œåœ¨çº¿åŒ»ç–—ç¾å®¹å•†åŸï¼Œå®¢æˆ·é€šè¿‡å°ç¨‹åºè´­ä¹°ä¸‹å•ï¼Œç„¶åé¢„çº¦åˆ°åº—åšé¡¹ç›®ï¼Œç„¶ååˆ†äº«è¯„è®ºç­‰ç­‰ç›¸å…³ç”Ÿæ€åœˆå­ã€‚ Vue / Uniapp / uView / å¾®ä¿¡å°ç¨‹åº ã€Šæ–°ç¾äº‘æ”¶é“¶å¹³æ¿ç«¯ã€‹ã€‚ç»™é—¨åº—çš„å‰å°å’Œé—¨åº—åŠ©ç†çš„å¹³æ¿æä¾›æœåŠ¡ã€‚é¡¹ç›®ç®€å•ï¼Œä¸»è¦åŠŸèƒ½ï¼šç”¨äºç»™å®¢æˆ·ä»‹ç»æˆ‘ä»¬å…¬å¸ï¼Œç»™é€šè¿‡åå°ç³»ç»Ÿç»™å®¢æˆ·æ‰“å°å•æ®ï¼Œå¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¶ä»˜æ¬¾ç­‰ã€‚ iPad / Uniapp / uView / iOS ã€Šæ–°ç¾äº‘æ”¶é“¶åå°ã€‹ã€‚æ–°ç¾äº‘SaaSç³»ç»Ÿçš„è®¢å•å¤„ç†ä¸­å¿ƒã€‚ vue2.x / Element UI 2021-08-25&emsp;åšé˜³ç¦»èŒã€‚ 2021-04-24&emsp;åŠ å…¥åšé˜³ã€‚æˆéƒ½æ˜¯åˆ†å…¬å¸ï¼Œæ¯å…¬å¸éš¶å±å…°å·ã€‚ä¸»è¦ä¸šåŠ¡æ˜¯æ”¿åºœçš„é¡¹ç›®ï¼Œä¸ºä»–ä»¬ä½¿ç”¨äº†å…¬å¸ç¬¬ä¸€ä¸ªFlutteré¡¹ç›®ï¼Œå‰ç«¯vueä¸ºä¸»ï¼Œå…¶ä»–çš„åŒ…æ‹¬JQï¼Œè¿˜æœ‰å¾ˆå¤šåŸç”Ÿçš„htmlé¡µé¢ã€‚åç«¯æ˜¯javaã€‚ ã€ŠæŸåœ°æ¶ˆé˜²é˜Ÿæ•°å­—æ¶ˆé˜²OAç³»ç»Ÿã€‹ã€‚å¤§æ¦‚åŒ…æ‹¬æ¶ˆé˜²å‘˜ç”Ÿçš„æ´»ç›‘æ§ç®¡ç†åŒ…æ‹¬é¥®é£Ÿï¼Œä¼‘æ¯æ—¶é—´ï¼Œå‡æœŸç®¡ç†ï¼Œè£…å¤‡ç»´æŠ¤è¿›åº¦ï¼Œå½“å‰å¯ç”¨è½¦è¾†ï¼Œè½¦è¾†ä¿å…»æ—¥æœŸå’Œè¿›åº¦ç­‰ç­‰â€¦ Vue / JQ / Ant Design Vue / VantUI ã€ŠæŸçœå…¬å®‰å…APPå†…ç½®åœ°å›¾ã€‹ã€‚è¿™ä¸ªé¡¹ç›®å¾ˆç‰¹æ®Šï¼Œä»–æ˜¯æ˜Ÿç«å¹³å°(çœå…å†…éƒ¨å‚å•†)çš„ Hybrid App æ··åˆé¡µé¢ï¼Œè™½ç„¶é¡¹ç›®ä¸å¤§åªæ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘åšäº†è¿™ä¹ˆä¹…å‰ç«¯ï¼Œå†™è¿‡æœ€çƒ‚çš„é¡¹ç›®äº†ï¼Œå› ä¸ºè€æ¿å¼ºåˆ¶è¦æ±‚ä½¿ç”¨åŸç”Ÿhtml+jsçš„æ¥å®Œæˆï¼ï¼ï¼ï¼ï¼ï¼Œå¯¼è‡´æœ€åæˆä¸ºäº†ä¸€ä¸ªæ¥è¿‘4000+è¡Œçš„htmlæ–‡ä»¶ï¼Œè‡ªå·±éƒ½æ„Ÿè§‰ä¸å¦¥ä¸€ç‚¹éƒ½ä¸ç¬¦åˆé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œé€šè¿‡å±‚å±‚ç»§æ‰¿è®©å®ç°äº†ä¸€ä¸ªå•ä¾‹çš„classé¡¹ç›®ç»“æ„æ›´å‹å¥½(å› ä¸ºåé¢è¿˜ä¼šæœ‰å…¶ä»–é˜Ÿå‹ç”¨åˆ°),ä¼ ä¸Šåå°æµ‹è¯•ï¼Œå› ä¸ºéœ€è¦è¿‡5æ¬¡çœå…çš„gatewayï¼Œåœ¨ç¬¬ä¸‰æ¬¡å¡ä½äº†ï¼Œè§„åˆ’è·¯çº¿æ¥å£ä¸€ç›´ä¸é€šå…¶ä»–åŠŸèƒ½æ­£å¸¸ï¼Œä¸€ç›´æ²¡äººè§£å†³ï¼Œè€æ¿ä¸ç­‰äº†ï¼Œè¿˜æ²¡åšå®Œå°±ç»™æˆ‘åˆ†é…å…¶ä»–çš„é¡¹ç›®å»äº†ï¼Œä¸»è¦ç¼ºäººï¼Œæ²¡äººäº†å•Š~ Html + Javascript + Es6 ã€ŠæŸåœ°æ¶ˆé˜²é˜Ÿæ•°å­—æ¶ˆé˜²APPã€‹åä¸ºå‚å•†ç‰¹ä¾›å®‰å“æ‰‹æœºã€‚é¡¹ç›®ä¸»ä½“ç”¨ä½¿ç”¨flutterï¼Œå†…åµŒå„ç§H5é¡µé¢ï¼Œéƒ¨åˆ†åŠŸèƒ½åŒ…æ‹¬çœ‹æŸåœ°è·¯å£ç›‘æ§ï¼Œè¢«æ ‡è®°äººå‘˜ä½ç½®ï¼Œæ”¿åºœå•ä½ä½ç½®â€¦ Flutter / Vue(h5ç›‘æ§ç³»ç»Ÿ) / uniapp(h5ç”Ÿæ´»ç³»ç»Ÿ) / VantUI / uView 2021-04-10&emsp;ä»å¤–åŒ…å…¬å¸ç¦»èŒï¼Œè¿½æ±‚æ›´é«˜çš„æŒ‘æˆ˜ã€‚å¤–åŒ…å…¬å¸ä¸šåŠ¡å¾ˆæ‚ä¹Ÿå¾ˆå¤šã€‚å¤–åŒ…ç”Ÿæ¶¯ä¸­å……æ»¡äº†å……æ»¡äº†æœªçŸ¥å’ŒæŒ‘æˆ˜éš¾åº¦æŒºé«˜çš„ï¼Œåœ¨è¿™é‡Œæˆé•¿äº†å¾ˆå¤šæŒºé”»ç‚¼äººçš„ï¼Œæ„Ÿè°¢~ ä»Šåä»»é‡ä»»é“è¿œã€‚åŠ æ²¹ï¼ 2019-04-20&emsp;åˆå‡ºèŒ…åºï¼Œä»»èŒäºç»µé˜³å››å·éº¦èŠ’ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸ã€‚ä¸»è¦ä¸šåŠ¡æ˜¯å°ç¨‹åºï¼Œappï¼Œh5ï¼Œå‰ç«¯ä¾§é‡äºuniappï¼Œåç«¯ä¸»è¦æ˜¯phpï¼Œä¸šåŠ¡é‡å¿ƒä¸»è¦æ”¾åœ¨ç§»åŠ¨ç«¯å¤–åŒ…ä¸Šé¢ã€‚å¤–åŒ…é¡¹ç›®å‡Œä¹±ç¹æ‚ï¼Œé¡¹ç›®æœ‰å¾ˆå¤šç‘•ç–µã€‚é¡¹ç›®å‡Œä¹±ç¹å¤šï¼Œé¡¹ç›®è´¨é‡ä¸€èˆ¬ï¼Œä»¥ä¸‹ä»…æ˜¯ä¸ªäººä¸ªåˆ«é¡¹ç›®å¹¶éæ‰€æœ‰ã€‚ ã€Šç‚¹è¶£ç¯ä¿å›æ”¶ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;ç‚¹è¶£ç¯ä¿å›æ”¶ã€‚ä¸€æ¬¾åœ¨çº¿é¢„çº¦åºŸå“å›æ”¶å¾®ä¿¡å°ç¨‹åºï¼Œé™„åŠ åŠŸèƒ½ï¼Œä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼ŒåŒ…å«å›æ”¶å‘˜ç«¯(ä¸Šé—¨å›æ”¶å‘˜éœ€è¦è¿›è¡Œå¤„ç†å›æ”¶ä»˜è´¹ç­‰)ï¼Œå†…åµŒç§¯åˆ†å•†åŸã€‚ åŸç”Ÿå¾®ä¿¡å°ç¨‹åº / ColorUI / uniapp(H5ç§¯åˆ†å•†åŸ) ã€ŠEå°ä¼´é™ªè¯Šã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;Eå°ä¼´é™ªè¯Šã€‚æ˜¯æˆéƒ½çš„ä¸€æ¬¾åœ¨çº¿é¢„çº¦åŒ»ç”Ÿï¼Œé™ªè¯Šï¼Œè¯Šå‰çº¦å·ï¼Œç»“æœé€æ£€ï¼Œè·‘è…¿ï¼Œä¸€ç«™å¼åŠ©åŒ»æœåŠ¡ã€‚ Uniapp / ColorUI ã€Šçäº‹æ— å¿§ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;çäº‹æ— å¿§ã€‚ä¸€æ¬¾åœ¨çº¿å®¶æ”¿æœåŠ¡å¹³å°ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨çº¿é¢„çº¦å„ç§å®¶æ”¿æœåŠ¡ã€‚ Uniapp / ColorUI / uView ã€Šç‰§çº¸äººå›æ”¶ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;ç‰§çº¸äººå›æ”¶ã€‚ä¸€æ¬¾åœ¨çº¿é¢„çº¦åºŸå“å›æ”¶å¾®ä¿¡å°ç¨‹åºï¼Œé™„åŠ åŠŸèƒ½ï¼Œä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼ŒåŒ…å«å›æ”¶å‘˜ç«¯(ä¸Šé—¨å›æ”¶å‘˜éœ€è¦è¿›è¡Œå¤„ç†å›æ”¶ä»˜è´¹ç­‰)ï¼Œå†…åµŒç§¯åˆ†å•†åŸã€‚ åŸç”Ÿå¾®ä¿¡å°ç¨‹åº / ColorUI ã€Šè‰ºè•Šå¥½è´§æ‹¼å›¢ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;è‰ºè•Šå¥½è´§æ‹¼å›¢ã€‚ä¸€æ¬¾åœ¨çº¿å•†åŸï¼Œæœ¬è´¨ä¸Šå¯¹é™„è¿‘çš„ä¾¿åˆ©åº—æä¾›æ‹¼å›¢çš„å¹³å°ã€‚å¸¸è§„ç”µå•†é¡¹ç›®ã€‚ Uniapp / ColorUI / uView ã€Šæœ‰ä½å¤©ä¸€ä»å’Œã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;æœ‰ä½å¤©ä¸€ä»å’Œã€‚åœ¨çº¿è£…ä¿®å¹³å°ï¼Œç”¨æˆ·å¯å®šåˆ¶æ ·å¼ï¼Œåœºæ™¯å®šåˆ¶ï¼ŒæŸ¥çœ‹è£…ä¿®å®æ—¶æƒ…å†µï¼Œå®¢æœï¼Œè£…ä¿®è¿›åº¦ã€‚ Uniapp / ColorUI / uView ã€Šåˆ›å®¢åœ°æ‘Šå•†é™¢ã€‹ã€‚å¾®ä¿¡å…¬ä¼—å·æœ&gt;åˆ›å®¢åœ°æ‘Šå•†é™¢ã€‚ä¸€æ¬¾çŸ¥è¯†ä»˜è´¹å¹³å°ã€‚ä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼Œåœ¨çº¿å­¦ä¹ ï¼Œåˆ·é¢˜ï¼Œçœ‹è§†é¢‘ã€‚ uniapp / uview / è¥¿ç“œæ’­æ”¾å™¨ ã€Šéº¦èŠ’è£…ä¿®ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;éº¦èŠ’è£…ä¿®ã€‚ä¸€æ¬¾åœ¨çº¿è£…ä¿®é¢„çº¦å¹³å°ï¼Œèƒ½æŸ¥çœ‹å„ç§è£…ä¿®æ¡ˆä¾‹ï¼ŒæŸ¥çœ‹å½“å‰è£…ä¿®è¿›åº¦å’Œå…¶ä»–çš„è£…ä¿®æ¡ˆä¾‹(vrçœ‹æˆ¿å¤–æ¥çš„ä»˜è´¹æºç ) å¾®ä¿¡å°ç¨‹åº ã€Šå¸ˆæ´¾ã€‹ã€‚åº”ç”¨å¸‚åœº(éƒ¨åˆ†å‚å•†åº”ç”¨å¸‚åœºæ²¡ä¸Šå»)/å¾®ä¿¡å…¬ä¼—å·æœ&gt;å¸ˆæ´¾ã€‚uniappè·¨ç«¯é¡¹ç›®appç«¯ï¼Œå¾®ä¿¡å…¬ä¼—å·h5ç«¯ã€‚ä¸€æ¬¾åœ¨çº¿æˆäººè€ƒè¯•çš„ä»˜è´¹å¹³å°åŒ…æ‹¬ï¼Œåœ¨çº¿åˆ·é¢˜ï¼Œçœ‹é¢˜ï¼Œè€ƒè¯•ï¼Œå­¦ä¹ è®¡åˆ’å®šåˆ¶ï¼Œé”™é¢˜é‡ç»ƒï¼ŒçœŸé¢˜åœ¨çº¿ç»ƒï¼ŒçœŸé¢˜ä¸‹è½½ã€‚ uniapp / uview &emsp;&emsp;æ„Ÿè°¢æ‚¨äº†è§£æˆ‘ï¼Œbye~ğŸ˜Š","link":"/about/index.html"},{"title":"tags","text":"","link":"/tags/index.html"},{"title":"archives","text":"","link":"/archives/index.html"},{"title":"","text":"é—²æ¥æ— äº‹ï¼Œå†™å†™åšå®¢ï¼Œè®°å½•ä¸‹è‡ªå·±çš„æˆé•¿ç»å†ã€‚ ç®€å•çš„ä»‹ç»ä¸‹è‡ªå·±ï¼Œæœ¬äººä¸€ä»‹ç²—äººï¼Œä»å°åˆ°å¤§å­¦ä¸šå¹¶ä¸ä¼˜å¼‚æ¯”ä¸å¾—ä»€ä¹ˆå­¦éœ¸æˆ–æ˜¯ä»€ä¹ˆä¹–å­©å­ï¼Œå› ä¸ºæ€»æ˜¯å¯¹ä¸€äº›ä»€ä¹ˆâ€œæ—é—¨å·¦é“â€å……æ»¡çƒ­æƒ…ã€‚è‡ªç„¶æˆ‘è„šä¸‹çš„è·¯ä¸æ˜¯é‚£ä¹ˆå¹³å¦ï¼Œæœ‰æ— æ•°çš„è¿·èŒ«ï¼Œæ— æ•°çš„ç–²æƒ«ï¼Œæ— æ•°çš„åå·ï¼Œç”Ÿæ´»çš„å¸¸æ€å°±æ˜¯åœ¨å†²ç ´è¿·èŒ«çœ‹åˆ°å¸Œæœ›ï¼Œå°±æ˜¯èµ°å‡ºç–²æƒ«è“¬å‹ƒå‘ä¸Šï¼Œå°±æ˜¯è¸å¹³åå·èµ°å‘æ–°çš„è¾‰ç…Œã€‚æˆ‘ä»¬éœ€è¦æœ‰é˜³å…‰ç…§äº®å‰è¡Œçš„æ–¹å‘ï¼Œæˆ‘ä»¬éœ€è¦æœ‰åœŸå£¤ä¾›ç»™ç”Ÿç”Ÿä¸æ¯çš„èƒ½é‡ï¼Œéœ€è¦æ™ºæ…§å¸®åŠ©æˆ‘ä»¬å˜æ¸…æ··ä¹±å¦‚éº»çš„çº·æ‰°ã€‚æˆ‘çš„ç”Ÿæ´»ä¸åº”è¯¥æ­¢æ­¥äºæ­¤ã€‚ç”Ÿå‘½çš„æ¿€æµå·²ç»æ¶Œç°åˆ°ä¸‡ä¸ˆå³­å£ï¼Œåªè¦å†å‰è¿›ä¸€æ­¥å°±ä¼šå˜æˆå£®ä¸½çš„ç€‘å¸ƒï¼Œæˆ‘æ—¶å¸¸é¼“åŠ±è‡ªå·±ï¼Œå‘å‰å§ï¼Œè¡èµ·ç”Ÿå‘½ä¹‹èˆŸä¸å¿…ä¾æ‹å’Œä¿¡æ³Šç ´æµªçš„èˆ¹è‡ªä¼šä¸€è·¯å¼€æ”¾å¸¸æ–°çš„èŠ±æœµã€‚ åœ¨æ¥è¯´è¯´æˆ‘çš„èŒä¸šç”Ÿæ¶¯å§ã€‚åº”è¯¥ç®—æ˜¯å¤§äºŒå¼€å§‹ï¼Œä»å¤§äºŒå¼€å§‹å–œæ¬¢ä¸Šç¼–ç¨‹çš„ï¼Œæˆ‘çš„åˆè¡·å¾ˆç®€å•ï¼Œå¾ˆå•çº¯è§‰å¾—ä¼šå†™ä»£ç å¾ˆé…·ã€‚ç»è¿‡äº†è§£ï¼Œå…¥å‘äº†å‰ç«¯ï¼Œå³ä½¿å‰ç«¯å·²ç»å¾ˆç®€å•ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªåˆå­¦è€…ä»æ„Ÿè§‰å¾ˆéš¾ï¼Œæ„Ÿè§‰åœ¨æŠ˜ç£¨è‡ªå·±â€¦â€¦ä½†æ˜¯è¶ŠæŠ˜ç£¨ï¼Œæˆ‘è¶Šå…´å¥‹ï¼Œåˆ«è¯¯ä¼šï¼Œæˆ‘å¹¶éä»€ä¹ˆå˜æ€ï¼Œæˆ‘ä¸æ˜¯å˜æ€ä¹Ÿä¸æ˜¯å—è™ç‹‚ã€‚å¤§ä¸‰å¼€å§‹æ¥ä¸€ç‚¹å¤–åŒ…ï¼Œæ¥åˆ·ç‚¹ç»éªŒ,åŒæ—¶å¾ˆäº«å—æ¯æ¬¡å¾æœå›°éš¾æ—¶å€™å¸¦æ¥çš„æˆå°±æ„Ÿå’Œæ»¡è¶³æ„Ÿã€‚è¿™å¯èƒ½å°±æ˜¯æ”¯æ’‘æˆ‘ä¸€è·¯è‡ªå­¦è¿‡æ¥çš„åŠ¨åŠ›ã€‚ä½†æ˜¯è‡³ä»Šæ²¡åæ‚”è¿‡ã€‚ ä¸çŸ¥ä¸è§‰ä¸­å·¥ä½œè‡³ä»Šå·²ç»æœ‰äº›å¹´å¤´ï¼Œä½†æ˜¯æ—¶é—´æ²¡èƒ½å†²æ·¡æˆ‘å¯¹ç¼–ç¨‹çš„çƒ­çˆ±ï¼Œä¹Ÿå¾ˆé«˜å…´å½“æ—¶é€‰æ‹©äº†è‡ªå·±å–œæ¬¢çš„è·¯ï¼Œåœ¨é—²æš‡ä¹‹ä½™ï¼Œæˆ‘ä»ç„¶åŠªåŠ›ä¸æ–­è¿›å–æ–°çš„çŸ¥è¯†ï¼Œä¸æ–­æ‰©å¤§è‡ªå·±çš„èŒƒå›´ï¼Œè¿™ä»½çƒ­çˆ±ä»¥åŠå¿ƒä¸­çš„çƒ­æƒ…ä¸æ¯«ä¸è¾“å½“å¹´ã€‚å³ä½¿æˆ‘çŸ¥é“æˆ‘è‡ªå·±ä¹Ÿè®¸ï¼Œä¹Ÿè®¸æ²¡æœ‰è¿™ä¸ªå¤©èµ‹ï¼Œä½†æ˜¯å‡­ç€è¿™ä»½çƒ­çˆ±ï¼Œæˆ‘ä»ç„¶ä¼šæ‹¼å°½å…¨åŠ›ï¼Œå»å’†å“®ï¼Œå»å¥”è·‘ï¼Œæ°¸ä¸åœæ­‡ï¼Œæ‹¼å‘½çƒ­çˆ±ã€‚ è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ æ¥æ—¥æ±Ÿæ¹–è§ã€‚ 2020-01-01 22:25:14","link":"/home/index.html"},{"title":"categories","text":"","link":"/categories/index.html"},{"title":"","text":"Vue3UIåº“/ç›¸å…³å·¥å…·/å¯è§†åŒ–/ç”Ÿæ€å…¨åˆ†äº« æŠ€æœ¯èƒ–æ•´ç†åˆ†äº« Web UIåº“ ElementUI Plusä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 3.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“ https://element-plus.org/zh-CN/ Ant Design of VueAnt Design çš„ Vue å®ç°ï¼Œå¼€å‘å’ŒæœåŠ¡äºä¼ä¸šçº§åå°äº§å“ https://www.antdv.com/docs/vue/introduce-cn BalmUIåŸºäºè°·æ­Œçš„ Material Designï¼Œé™„å¸¦ Vue æ’ä»¶å’ŒæŒ‡ä»¤ï¼Œä»¥åŠä»ç®€å•åˆ°å¤æ‚çš„é«˜åº¦å¯å®šåˆ¶ç»„ä»¶ https://next-material.balmjs.com/ Naive UIå›¾æ£®Vue3çš„ç»„ä»¶åº“ï¼Œæ–‡æ¡£å®Œæ•´ï¼Œæˆ‘é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨ https://www.naiveui.com/zh-CN/os-theme arco.designå­—èŠ‚è·³åŠ¨ä¼ä¸šçº§äº§å“è®¾è®¡ç³»ç»Ÿï¼Œæ”¯æŒReactå’ŒVueåŒç‰ˆæœ¬ https://arco.design/ 6, Quasarè½»æ¾æ„å»ºé«˜æ€§èƒ½å’Œé«˜è´¨é‡çš„Vue.js 3ç”¨æˆ·ç•Œé¢ï¼Œå¥½ç”¨ï¼Œä½†æ²¡æœ‰ä¸­æ–‡æ–‡æ¡£ https://quasar.dev/ iDUXVue3.x çš„ UI ç»„ä»¶åº“ï¼Œå®Œå…¨ä½¿ç”¨ TypeScript å¼€å‘ https://idux.site/ TDesignè…¾è®¯ä¸šåŠ¡å›¢é˜Ÿåœ¨æœåŠ¡ä¸šåŠ¡è¿‡ç¨‹ä¸­æ²‰æ·€çš„ä¸€å¥—ä¼ä¸šçº§è®¾è®¡ä½“ç³» https://tdesign.tencent.com/ https://tdesign.tencent.com/vue-next/overview PrimeVueæ˜“äºä½¿ç”¨ã€å¤šåŠŸèƒ½ã€é«˜æ€§èƒ½çš„ Vue UI ç»„ä»¶åº“ https://www.primefaces.org/primevue/ DevUIåä¸ºåŸºäº Vue3 å’Œ DevUI è®¾è®¡çš„ UI ç»„ä»¶ https://vue-devui.github.io/ vuestic-uiVue 3 çš„å…è´¹å’Œå¼€æº UI åº“ ,UIéå¸¸å¥½çœ‹ï¼Œå¹¶ä¸”æœ‰å¯ç”¨åå°ç®¡ç†ç•Œé¢ã€‚ https://vuestic.dev/ Headless UIå®Œå…¨æ— æ ·å¼ã€å®Œå…¨å¯è®¿é—®çš„ UI ç»„ä»¶ï¼Œæ—¨åœ¨ä¸ Tailwind CSS å®Œç¾é›†æˆã€‚ https://headlessui.com/ View UI PlusåŸºäº Vue.js 3 çš„ä¼ä¸šçº§ UI ç»„ä»¶åº“å’Œå‰ç«¯è§£å†³æ–¹æ¡ˆ https://www.iviewui.com/ ç§»åŠ¨UIåº“ Vantæœ‰èµè½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ç»„ä»¶åº“ https://vant-contrib.gitee.io/vant/#/zh-CN NutUIäº¬ä¸œé£æ ¼çš„è½»é‡çº§ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ï¼Œéå¸¸é€‚åˆç§»åŠ¨ç«¯ç”µå•†ä½¿ç”¨ã€‚ https://nutui.jd.com/#/ VarletMaterial é£æ ¼ç§»åŠ¨ç«¯ç»„ä»¶åº“ ï¼Œæ–‡æ¡£éå¸¸é½å…¨ã€‚ https://varlet.gitee.io/varlet-ui/#/zh-CN/home nutui-bingoäº¬ä¸œåŸºäº NutUI çš„æŠ½å¥–ç»„ä»¶åº“ï¼ŒåŠ©åŠ›è¥é”€æ´»åŠ¨å’Œå°æ¸¸æˆåœºæ™¯ã€‚ https://nutui.jd.com/bingo/#/ ç›¸å…³å·¥å…· unplugin-vue-componentsantfu æŒ‰éœ€ç»„ä»¶è‡ªåŠ¨å¯¼å…¥ï¼Œå¼€ç®±å³ç”¨åœ°æ”¯æŒ Vue 2 å’Œ Vue 3ï¼ŒTree-shakableï¼Œåªæ³¨å†Œä½ ä½¿ç”¨çš„ç»„ä»¶ï¼Œé™„æœ‰æµè¡ŒUI åº“çš„å†…ç½®è§£æå™¨ã€‚ https://www.npmjs.com/package/unplugin-vue-components vuex-persistedstateåœ¨é¡µé¢é‡æ–°åŠ è½½ä¹‹é—´ä¿æŒå¹¶é‡è½½æ‚¨çš„ Vuex çŠ¶æ€ https://github.com/robinvdvleuten/vuex-persistedstate vuex-persistæ”¯æŒ Typescript çš„Vuexæ’ä»¶ï¼Œå®ƒèƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºçš„çŠ¶æ€ä¿å­˜åˆ°æŒä¹…å­˜å‚¨ä¸­ï¼Œä¾‹å¦‚ Cookies æˆ– localStorage https://championswimmer.in/vuex-persist/ @vueuse/gestureæ‰‹åŠ¿åº“ï¼Œä½¿åº”ç”¨ç¨‹åºå…·æœ‰äº¤äº’æ€§ https://gesture.vueuse.org/ unplugin-auto-importantfu è‡ªåŠ¨å¯¼å…¥ Viteã€Webpackã€Rollup å’Œ esbuild çš„ APIã€‚æ”¯æŒ TypeScriptã€‚ https://github.com/antfu/unplugin-auto-import pinia-plugin-persistedstatePinia å•†åº—çš„å¯é…ç½®æŒä¹…æ€§ https://github.com/prazdevs/pinia-plugin-persistedstate https://vue-termui.dev/ä¸€ä¸ªåŸºäº Vue.js çš„ç»ˆç«¯ UI æ¡†æ¶ï¼Œå¯è®©æ‚¨è½»æ¾æ„å»ºç°ä»£ç»ˆç«¯åº”ç”¨ç¨‹åº https://vue-termui.dev/ å¯è§†åŒ– PdfvuerDF æŸ¥çœ‹å™¨ï¼Œä½¿ç”¨ Mozilla çš„ PDF.jsï¼Œæ”¯æŒ Vue2 å’Œ Vue3 https://arkokoley.github.io/pdfvuer/ vue3-marqueeæ— ç¼æ»šåŠ¨ç»„ä»¶ https://vue3-marquee.vercel.app/ Vue-EChartsç™¾åº¦ECharts çš„ Vue.js ç»„ä»¶ã€‚ é…ç½®å‚è€ƒEchartså®˜æ–¹ åŸºäº ECharts v5+ å¼€å‘ï¼Œé€‚ç”¨äºVue.js 2/3ã€‚ https://vue-echarts.dev/ iconparkå­—èŠ‚è·³åŠ¨å‡ºå“ï¼Œå°†ä¸€ä¸ªSVGå›¾æ ‡è½¬åŒ–ä¸ºå¤šä¸ªä¸»é¢˜ï¼Œå¹¶ç”ŸæˆReactå›¾æ ‡ï¼ŒVueå›¾æ ‡ï¼Œsvgå›¾æ ‡ https://iconpark.oceanengine.com/home æ’ä»¶ vue-multiselect-nextVue.js çš„é€šç”¨é€‰æ‹©/å¤šé€‰/æ ‡è®°ç»„ä»¶ https://vue-multiselect.js.org/ vue-print-nbç”¨äºå°åˆ·ã€ç®€å•ã€å¿«é€Ÿã€æ–¹ä¾¿ã€è½»ä¾¿çš„æŒ‡ä»¤åŒ…è£…å™¨ https://github.com/Power-kxLee/vue-print-nb vue-i18n-nextVue3çš„å›½é™…åŒ–æ’ä»¶ https://vue-i18n.intlify.dev/ vue-cropperç®€å•çš„vueå›¾ç‰‡è£å‰ªæ’ä»¶ http://github.xyxiao.cn/vue-cropper/example/ Vue Grid LayoutVue.js çš„ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿ https://jbaysolutions.github.io/ Vue Qrcode Readerå…è®¸åœ¨ä¸ç¦»å¼€æµè§ˆå™¨çš„æƒ…å†µä¸‹æ£€æµ‹å’Œè§£ç äºŒç»´ç  https://gruhn.github.io/vue-qrcode-reader/ Makeit CaptchaåŸºäº Vue3 + Vite + Canvas å¼€å‘çš„æ»‘å—éªŒè¯ç ï¼ŒåŠ¨æ€ç”ŸæˆéªŒè¯æ»‘å—ï¼Œç»“åˆåç«¯çš„äºŒæ¬¡æ ¡éªŒï¼Œèƒ½æœ‰æ•ˆçš„é¿å…è¢«æŠ“å–æ¨¡æ‹ŸéªŒè¯https://admin.makeit.vip/components/captcha vue3-clipboardVue 3 çš„ clipboard.js https://github.com/soerenmartius/vue3-clipboard vue.draggableåŸºäºSortable.jsçš„Vue 3æ‹–æ”¾ç»„ä»¶ https://sortablejs.github.io/vue.draggable.next/#/simple BetterScrollè§£å†³ç§»åŠ¨ç«¯ï¼ˆå·²æ”¯æŒ PCï¼‰å„ç§æ»šåŠ¨åœºæ™¯éœ€æ±‚çš„æ’ä»¶ã€‚ https://better-scroll.github.io/docs/zh-CN/ ç›¸å…³ç”Ÿæ€ Vue æ’ä»¶åº“https://www.vue365.cn/ Piniaè½»é‡çº§çŠ¶æ€ç®¡ç†åº“ï¼ŒAPI è®¾è®¡æ›´æ¥è¿‘Vuex 5çš„ææ¡ˆ https://pinia.vuejs.org/ Nuxt ModulesNuxt å‘ç°æˆ‘ä»¬çš„æ¨¡å—åˆ—è¡¨ä»¥å¢å¼ºæ‚¨çš„Nuxt é¡¹ç›® https://modules.nuxtjs.org/ Nuxt 3è½»é‡çº§åº”ç”¨æ¡†æ¶,å¯ç”¨æ¥åˆ›å»ºæœåŠ¡ç«¯æ¸²æŸ“ (SSR) åº”ç”¨ https://v3.nuxtjs.org/ vuepressVue é©±åŠ¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ https://v2.vuepress.vuejs.org/zh/ VueUseå¼ºå¤§çš„ Vue ç»„åˆå®ç”¨ç¨‹åºé›†åˆ https://vueuse.org/ åŠ¨ç”» vue-starportå¸¦æœ‰åŠ¨ç”»çš„è·¨è·¯ç”±å…±äº«ç»„ä»¶ https://vue-starport.netlify.app/ @vueuse/motionVue Composables è®©ä½ çš„ç»„ä»¶åŠ¨èµ·æ¥ https://motion.vueuse.org/ éŸ³è§†é¢‘ @vueuse/soundç”¨äºæ’­æ”¾éŸ³æ•ˆçš„ Vue ç»„åˆ https://sound.vueuse.org/","link":"/assets/%E8%B5%84%E6%96%99/vue3.html"},{"title":"","text":"mdè½¬pdf ä¸ªäººä»‹ç»åŸºæœ¬ä¿¡æ¯ éƒ‘åš / ç”· / 1996 ä¸“ç§‘ / æˆéƒ½çººç»‡é«˜ç­‰ä¸“ç§‘å­¦æ ¡ ï¼ˆå¤§äºŒè‡ªå­¦,å¤§ä¸‰æ¥ç§æ´»,æ¯•ä¸šå‚åŠ å·¥ä½œï¼‰ å·¥ä½œå¹´é™ / ç»éªŒï¼š3å¹´&emsp;2019.04-è‡³ä»Š æœŸæœ›èŒä½ï¼šWebå‰ç«¯ç¨‹åºå‘˜ / å·¥ç¨‹å¸ˆ æœŸæœ›è–ªèµ„ï¼š17k Emailï¼š130141963@qq.com&emsp;&emsp;QQï¼š130141963&emsp;&emsp;VXï¼šTabbyCute404&emsp;&emsp;ç”µè¯ï¼š17381586202 ä¸ªäººä¸»é¡µhttps://tabbycute.github.io/about. ç‚¹å‡»è·³è½¬ è‡ªæˆ‘æŠ€èƒ½åˆ†æ htmlï¼šæœ€å¼€å§‹çš„é¡¹ç›®éƒ½æ˜¯åŸç”Ÿhtmlï¼Œjsï¼Œcssï¼Œjqç­‰ç­‰ä¼ ç»Ÿçš„å¤šé¡µé¢å¼€å‘æ–¹å¼å¤§å¤šæ•°éƒ½æ˜¯äº›æ´»åŠ¨ï¼Œè¡¨å•ï¼Œä¸‹è½½é¡µï¼Œæ¨å¹¿é¡µï¼ŒæŠ¥å‘Šé¡µï¼› gulpï¼šç”¨äºæ—©æœŸçš„å¤šé¡µé¢é¡¹ç›®æ‰“åŒ…ï¼Œæ–¹ä¾¿æ‚ä¹±çš„htmlå’Œå„ç§æ–‡ä»¶çš„é›†ä¸­ç®¡ç†ï¼› vueï¼šä¹‹å‰åŸºæœ¬ä¸Šéƒ½ç”¨çš„vue2.xï¼Œè¿‘ä¸€ä¸¤å¹´é¡¹ç›®åŸºæœ¬ä¸Šéƒ½æ˜¯vue3.xäº†ï¼›æœ‰è‡ªå·±çš„vueæ¨¡æ¿ï¼ˆvue3+vite+tsï¼‰ï¼Œä¸»è¦æ˜¯åšå¥½äº†æƒé™ç®¡ç†(å‰ç«¯æƒé™å’Œåç«¯æƒé™)å’Œä¸€äº›å¸¸ç”¨çš„åŸºç¡€æ¨¡å—ï¼Œä»£ç ä¼˜ç¾æ•´æ´èƒ½å¿«é€Ÿçš„å¼€å§‹é¡¹ç›®ï¼› reactï¼šreactåšçš„é¡¹ç›®ä¸æ˜¯å¾ˆå¤šï¼Œä¹Ÿéƒ½æ˜¯äº›å¸¸è§„çš„åå°ï¼ŒåŠä¸ªå³æ—¶é€šè®¯åº”ç”¨(æ²¡å†™å®Œè¢«æ´¾å»èµ¶å…¶ä»–é¡¹ç›®)ï¼Œé¡¹ç›®é‡åˆ°çš„é—®é¢˜åŸºæœ¬ä¸Šéƒ½èƒ½è‡ªå·±è§£å†³ï¼› å°ç¨‹åºï¼šé’‰é’‰å°ç¨‹åºï¼Œç™¾åº¦å°ç¨‹åºï¼Œæ”¯ä»˜å®å°ç¨‹åºç­‰ç­‰ç­‰ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€ä¸ªå¥—è·¯æœ‰äº›è¿æ ‡ç­¾éƒ½æ²¡æ”¹~ï¼Œæœ€å¼€å§‹ç”¨çš„åŸç”Ÿï¼Œåæ¥åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„uniappï¼ŒçœŸé¦™ï¼ h5ï¼šæœ€å¼€å§‹ç”¨vueå’Œreactï¼Œåæ¥ä¹Ÿç”¨uniappï¼Œå†™å†™h5ï¼Œå…¬ä¼—å·å•¥çš„è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚ uniappï¼šå†™appçš„æ—¶å€™æœ€å¼€å§‹ç”¨çš„uniappï¼ˆvueé¡µé¢webviewå¼•æ“æ¸²æŸ“ï¼‰ï¼Œåæ…¢æ…¢ç†Ÿæ‚‰äº†ï¼ˆç”¨çš„nvueåŸç”Ÿæ¨¡å¼ï¼‰ï¼›å½“ç„¶uniappå†™appæˆ‘æ˜¯ä¸æ¨èçš„ï¼Œuniappä¸»è¦åšå°ç¨‹åº(å„ç§)ï¼Œh5ï¼Œå…¬ä¼—å·ï¼Œåšåšè½»é‡çº§appä¹Ÿè¿˜è¡Œï¼Œä½†å¹¶ä¸æ˜¯å¾ˆæ¨è~ flutterï¼šæœ€å¼€å§‹å‡ºäºå…´è¶£å­¦ä¹ ï¼Œåæ¥å‘ç°flutterå®Œç¾å¼¥è¡¥äº†è‡ªå·±åœ¨å¤§å‹å¤æ‚appä¸ŠæŠ€æœ¯ç©ºç¼ºï¼›è¿˜è¢«å¼ºè¡Œè¡¥äº†ä¸€äº›åŸç”ŸçŸ¥è¯†ï¼› Nuxtjsï¼šä¸»è¦ç”¨åœ¨éœ€è¦æŸäº›åšSEOä¼˜åŒ–çš„é¡¹ç›®ä¸Šé¢ï¼Œæ¯”å¦‚å®˜ç½‘ï¼Œå•†åŸï¼Œæ–‡ç« ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰è¿™äº›é¡¹ç›®ï¼Œå¤§å¤šæ•°éƒ½æ˜¯adminåå°ï¼› å½“ç„¶æŠ€æœ¯æ ˆä¸ä»£è¡¨æ‰€æœ‰ã€‚ç»éªŒï¼Œé˜…è¯»æ–‡æ¡£èƒ½åŠ›ï¼Œå…¶ä»–çš„èƒ½åŠ›ä¹Ÿç›¸å½“çš„é‡è¦ï¼Œå›½å†…å¾ˆé‡è¦çš„å¾®ä¿¡ç”Ÿæ€ï¼Œæ¯”å¦‚å¾®ä¿¡æ”¯ä»˜ï¼Œå…¬ä¼—å·å°ç¨‹åºä¹‹é—´ç›¸äº’è·³è½¬ï¼Œå…¬ä¼—å·ç™»å½•ï¼Œå…¬ä¼—å·æ”¯ä»˜ç­‰ç­‰ï¼›è¿˜æœ‰UIæ¡†æ¶å…¶å®ç”¨æ³•éƒ½ä¸€æ ·ï¼Œçœ‹æ–‡æ¡£å³å¯ï¼› é¡¹ç›®éƒ¨ç½²ã€‚å¦‚æœåç«¯éœ€è¦å‰ç«¯è‡ªå·±éƒ¨ç½²ï¼Œæœ€å¼€å§‹å°±ä¼ ç»Ÿçš„éƒ¨ç½²æ–¹å¼ï¼Œnginxå¯¼å‘é™æ€ç›®å½•ï¼›åæ¥ä½¿ç”¨å®å¡”è¿›è¡Œé¡¹ç›®ç®¡ç†ï¼ˆå³ä½¿æˆ‘ä»¬ä¸ç”¨phpï¼‰ï¼›ç°åœ¨ä½¿ç”¨dockerï¼ˆdockeråœ¨å‰ç«¯å¾ˆæœ‰äº‰è®®ï¼Œéƒ¨åˆ†äººè®¤ä¸ºå‰ç«¯ä¸éœ€è¦ä½¿ç”¨dockerï¼Œä¸ªäººè§‚ç‚¹æ˜¯ï¼Œå¦‚æœä¸€ä¸ªé¡¹ç›®éœ€è¦é•¿æœŸäº¤ä»˜ä½¿ç”¨dockerè¿˜æ˜¯æŒºä¸é”™çš„ï¼‰æ–¹ä¾¿å¿«æ·ï¼› åç«¯ï¼ˆgolangå­¦ä¹ ingï¼‰ã€‚åç«¯èƒ½åŠ›ä¸€èˆ¬ä¸ç”¨åšå…¬å¸ç”Ÿäº§åŠ›ï¼ˆå› ä¸ºå¤§éƒ¨åˆ†å…¬å¸éƒ½æ˜¯javaï¼‰ï¼Œä¸€èˆ¬åšäº›è‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚ä¹‹å‰åšè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨(å¥³æœ‹å‹ä¸“å±)ï¼›ä¸ºå…¬å¸çˆ¬å–æŸä¸ªç½‘ç«™ä¿¡æ¯ï¼›ä¸ºé¡¹ç›®æ³¨å†Œæœºå™¨äººç”¨æˆ·ï¼›å½“ç„¶å¯¹äºå®é™…å·¥ä½œä¸­å®šä½é¡¹ç›®é”™è¯¯å’Œé—®é¢˜è§£å†³ä¹Ÿæ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„ã€‚ è‡ªæˆ‘è¯„ä»· è‡ªå­¦èƒ½åŠ›å¼ºï¼Œç‹¬ç«‹è§£å†³é—®é¢˜èƒ½åŠ›çªå‡ºï¼Œèƒ½ç»™é¡¹ç›®å›¢é˜Ÿå›°éš¾çš„æ—¶å€™åŠæ—¶ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ å–œæ¬¢å­¦ä¹ æ–°æŠ€æœ¯ï¼Œç»å¸¸äº†è§£å’Œå­¦ä¹ å‰æ²¿çš„æŠ€æœ¯ã€‚æœ‰äº›ä¸œè¥¿å¯èƒ½æ²¡æœ‰æ—¶é—´å»å­¦ä¹ ã€‚ä½†æ˜¯äº†è§£è¿‡äº†ï¼Œèƒ½å¿«é€Ÿçš„å®šä½é—®é¢˜ï¼Œæˆ–è€…ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚è¿™ç‚¹å¾ˆé‡è¦~ å–œæ¬¢è‡ªå·±åŠ¨æ‰‹å°è£…é«˜å¯ç”¨çš„ä»£ç ï¼Œä¸ºä»¥åçš„å¼€å‘æé«˜æ•ˆç‡ã€‚ å–œæ¬¢æŒ‘æˆ˜æœªçŸ¥çš„é¡¹ç›®ï¼Œä¸€èˆ¬çš„é¡¹ç›®åƒç¯‡ä¸€å¾‹ï¼Œè¿‡äºå¸¸è§„æ²¡ä»€ä¹ˆæ„æ€ï¼Œå–œæ¬¢åšç‚¹ä¸ä¸€æ ·çš„ ~ æœ‰è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›å’Œå›¢é˜Ÿåˆä½œèƒ½åŠ›ï¼Œæ€§æ ¼éšå’Œï¼Œè®¤çœŸè´Ÿè´£ã€‚å¯¹äºåŒäº‹çš„éœ€è¦æœ‰æ±‚å¿…åº”ã€‚ æŠ—å‹èƒ½åŠ›å¼ºï¼Œæœ‰ä¿¡å¿ƒåœ¨ä¸åŒçš„å·¥ä½œå¼ºåº¦ä¸‹è¿›è¡Œå¼€å‘å·¥ä½œï¼Œå¹´è½»ï¼ä¸å¤šbb å¯¹æ–°å…¬å¸çš„é€‚åº”èƒ½åŠ›å¼ºï¼Œè‡ªå­¦èƒ½åŠ›æå¼ºï¼Œèƒ½å¿«é€Ÿèå…¥å›¢é˜Ÿã€‚ é¡¹ç›®ç»éªŒè‡ªå­¦èƒ½åŠ›å¼ºï¼Œå–œæ¬¢æŒ‘æˆ˜æœªçŸ¥ï¼Œé¡¹ç›®ç»å†ä¸°å¯Œï¼Œä¸Šçº¿é¡¹ç›®æ•°é‡ã€ç±»åˆ«ç¹å¤š(å„ç§å„æ ·çš„é¡¹ç›®éƒ½åšè¿‡)ï¼Œåœ¨è‡ªå·±çœ‹æ¥ç®—æ˜¯æ¯”è¾ƒä¸°å¯Œå¤šå½©ã€‚ ä»¥ä¸‹é¡¹ç›®å‡ä¸ºè‡ªå·±ä¸ºå…¬å¸çš„ç‹¬ç«‹äº§å‡ºé¡¹ç›®ä¸­çš„éƒ¨åˆ†ï¼ˆå¾ˆå¤šæ—¶å€™éƒ½æ˜¯ä¸€ä¸ªäººä¸€ä¸ªé¡¹ç›®ï¼Œå¼ºåº¦å¾ˆé«˜ã€‚ï¼‰ï¼Œå›¢é˜Ÿé¡¹ç›®ä¸äºˆä»‹ç»ã€‚ 2022-04-09&emsp;ä»æ–°ç¾äº‘é¡¹ç›®éƒ¨æ¢åˆ°é¡¹ç›®äºŒéƒ¨ï¼Œä¸ºé¡¹ç›®äºŒéƒ¨å¼€å‘ã€‚ ã€ŠMOYOã€‹webç‰ˆæœ¬ã€‚å› ä¸ºè¿‘æœŸéœ€è¦æµè§ˆå™¨çš„æ”¯æŒï¼Œå‡†å¤‡å‡ºä¸€ä¸ªæµè§ˆå™¨çš„ç²¾ç®€ç‰ˆã€‚å› ä¸ºéƒ¨åˆ†åŸå› å†™äº†ä¸€åŠè¢«åŒäº‹æ¥æ‰‹äº†ï¼Œç›®å‰æœªä¸Šçº¿ï¼Œä¼°è®¡å¿«äº† React / Ant Design ã€ŠMOYOã€‹é£éŸ³IMæ–°æ¬¾ã€‚ç§»åŠ¨ç«¯-Uniappã€‚å…¬å¸å†…éƒ¨çš„IMç³»ç»Ÿã€‚ä¸ºå…¬å¸æ¸¸æˆç¾¤å’Œæµ·å¤–å›¢é˜Ÿæä¾›äº¤æµå¹³å°ã€‚é¡¹ç›®æ¯”ä¸€èˆ¬çš„IMç³»ç»Ÿè¦å¤šå‡ºä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ï¼Œç”±äºIMé¡¹ç›®æ¯”ä¸€èˆ¬çš„é¡¹ç›®æ›´åŠ çš„å¤æ‚ã€‚uniappè¿‡äºè½»é‡ï¼Œæ€§èƒ½å—é™ï¼Œåšimè¿™ç§å¤§å‹ï¼Œioå¯†é›†ï¼Œä¸šåŠ¡å¤æ‚çš„é¡¹ç›®ç¡®å®ä¸å¥½ï¼ˆæ¨èè€æ¿ç”¨Flutteræˆ–è€…åŸç”Ÿï¼Œè€æ¿è§‰å¾—Flutterè¿‡äºå†·é—¨ï¼Œæˆæœ¬è¾ƒé«˜ï¼‰ã€‚è™½ç„¶æœ‰h5+åŠ æŒä½†æ˜¯ä»ç„¶æœ‰å¾ˆå¤šåœ°æ–¹å¾ˆéš¾å»å®ç°ï¼Œæ¯”å¦‚å¯¹æ–‡ä»¶çš„åŠ å¯†è§£å¯†ï¼Œå³ä¾¿æœ‰äº†h5+ åœ¨uniappçš„iOè¯»å†™ç›¸å½“äºæ²¡æœ‰ï¼Œå¾ˆéš¾ç›´æ¥å¯¹äºŒè¿›åˆ¶è¿›è¡Œæ“ä½œã€‚åœ¨å®‰å“ç«¯æˆ‘éƒ½è‡ªå·±é‡‡ç”¨åŸç”Ÿå®‰å“å†™çš„Uniappæ’ä»¶æ¥å®ç°å¯¹æ–‡ä»¶çš„åŠ å¯†ã€‚iOSç«¯åˆ™æ˜¯ç”±å…¬å¸çš„iosåŒäº‹å®Œæˆçš„Uniappæ’ä»¶ã€‚åæœŸå»ºè®®ç”¨flutteré‡æ„ã€‚å“¦å¯¹äº†ï¼æˆ‘ä»¬iOSï¼ŒAndoridï¼Œpcçš„sdkéƒ½æ˜¯ç”¨çš„åŒä¸€å¥—goä»£ç ç¼–è¯‘å‡ºæ¥çš„ï¼ï¼ï¼ï¼ iOS / Android / Uniapp / go ã€ŠMOYOã€‹é£éŸ³IMæ–°æ¬¾ã€‚ç§»åŠ¨ç«¯-Flutterã€‚åœ¨æˆ‘çš„å¼ºçƒˆæ¨èä¸‹ï¼Œä¸€ä¸ªäººç‹¬ç«‹é‡‡ç”¨flutterå¯¹ä¹‹å‰çš„imé¡¹ç›®è¿›è¡Œé‡æ„ã€‚ios(å•†åº—æœç´¢MOYOé»„è‰²å›¾æ ‡çš„é‚£ä¸ª)ï¼Œå®‰å“å‡å·²ä¸Šæ¶ï¼ŒåŠŸèƒ½å•¥çš„åŸºæœ¬ä¸€æ ·ï¼æ€§èƒ½æ›´å¥½ï¼Œå°¤å…¶æ˜¯åŠ å¯†éƒ¨åˆ†ï¼Œé‡æ–°å†™äº†PC(electron ts)å’Œdartä¹‹é—´çš„åŠ å¯†è§„åˆ™ï¼Œdartçš„ioæ“ä½œå’Œå…¶ä»–ä¸»æµçš„è¯­è¨€åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œæ“ä½œsqlä¹Ÿæ›´æ–¹ä¾¿ï¼Œæœ€é‡è¦æ˜¯çš„å®‰å“å’Œiosé«˜åº¦ç»Ÿä¸€ï¼ï¼ï¼ä¸è¿‡å› ä¸ºä»¬åç«¯ä¸šåŠ¡çš„çš„åŸå› ï¼Œéƒ¨åˆ†httpæ¥å£(ésoket)åœ°æ–¹æœ‰ç‚¹é—®é¢˜ã€‚æ€»çš„æ¥è¯´ï¼Œæ—¶é—´æœ‰ç‚¹ç‚¹èµ¶ï¼Œéƒ¨åˆ†uiç•¥æ˜¾ç²—ç³™ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤§å‹é¡¹ç›®äº†ã€‚ Flutter / Android / iOS ã€ŠHot Moneyã€‹å®˜ç½‘ã€‚è€æ¿è¯´ä¸ºäº†å’Œç«äº‰å¯¹æ‰‹æŠ¢å å¸‚åœºï¼ˆæµ·å¤–å¸‚åœºç«äº‰æ¿€ä¸æ¿€çƒˆä¿ºä¸çŸ¥é“ï¼Œæ‰“å·¥ï¼ï¼‰å¿…é¡»åšSEOçš„ä¼˜åŒ–æ”¶é›†ç”¨æˆ·ï¼Œè£‚å¼€ï¼ç»è¿‡æˆ‘çš„è€ƒè™‘ï¼Œå‡†å¤‡é‡‡ç”¨NextJSæ¥å®Œæˆæ­¤é¡¹ç›®ã€‚å¼€å§‹é‡‡ç”¨ Nuxt3.0+TS å‘ç°é—®é¢˜çœŸçš„å·¨å¤š(å¯èƒ½æ˜¯å› ä¸ºBateç‰ˆ)ï¼Œç½‘ä¸Šçš„æ–‡æ¡£ä¹Ÿå°‘ï¼Œåæ¥é€€å›åˆ°Nuxt2.0ã€‚æ¯•ç«Ÿèµ¶æ—¶é—´ã€‚ NuxtJS / Ant Design / Googleç™»å½• / Faceç™»å½• / Lottie ã€ŠHot Moneyã€‹æ˜¯è‡ªå·±å…¬å¸é¢å¯¹æµ·å¤–æ¸¸æˆå¸‚åœºçš„ä¸€æ¬¾æ¸¸æˆå¯¹æˆ˜å¹³å°ï¼Œç©å®¶å¯ä»¥åœ¨ä¸Šé¢è¿›è¡Œæ¸¸æˆå¯¹æˆ˜ï¼Œå’Œé‚€è¯·ç©å®¶ï¼Œè·å¾—å¥–åŠ±ã€‚h5éƒ¨åˆ†å°±æ˜¯ä¸ºé¡¹ç›®æä¾›é‚€è¯·ï¼Œæ³¨å†Œï¼ˆFaceBookï¼ŒGoogleï¼‰ï¼Œç©å®¶åŒ¹é…ï¼Œå¯¹æˆ˜ç­‰æœåŠ¡ã€‚ç¬¬ä¸€æ¬¡å¯¹æ¥Googleç™»å½•å’ŒFaceç™»å½•ã€‚ Vue3.x + Vite + Pinia / Varlet(Materialè´¨æ„Ÿçš„UIå¾ˆé€‚åˆæµ·å¤–) / Googleç™»å½• / Faceç™»å½• / Lottie 2021-09-01&emsp;åŠ å…¥åˆ›ä¸äº’åŠ¨çš„æ–°ç¾äº‘é¡¹ç›®éƒ¨ã€‚æ­¤å…¬å¸ä¸»è¦æ˜¯ä»¥æµ·å¤–æ¸¸æˆé¡¹ç›®ä¸ºä¸»ï¼Œä½†æ˜¯æˆ‘åŠ å…¥çš„æ˜¯æ–°ç¾äº‘é¡¹ç›®ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯è‡ªå·±çš„é¡¹ç›®åŒ»ç–—å¥åº·è¡Œä¸šï¼Œå‰ç«¯vue2.xä¸ºä¸»adminåå°ï¼Œåç«¯æ˜¯javaã€‚æ„Ÿè§‰æŒºå¥½çš„~è¿™é‡Œç»ˆç©¶æ˜¯æˆ‘ä¸€ä¸ªäººæ‰¿æ‹…äº†æ‰€æœ‰ï¼Œè¿™æ®µæ—¶é—´çœŸçš„ç´¯éº»äº†ï¼ ã€Šæ–°ç¾äº‘å•†åŸã€‹ã€‚å¯ä»¥ç›´æ¥æœå°ç¨‹åº&gt;æ–°ç¾äº‘å•†åŸï¼Œè¿™æ˜¯æˆéƒ½æ–°ç¾äº‘å¥åº·ç§‘æŠ€æœ‰é™å…¬å¸çš„çº¿ä¸Šå•†åŸï¼ˆæœ¬è´¨æ˜¯ä¸€ä¸ªçº¿ä¸ŠSaaSå•†åŸï¼‰ï¼Œä¸šåŠ¡é€»è¾‘ç¨æ˜¾å¤æ‚ã€‚ Vue / Uniapp / uView / å¾®ä¿¡å°ç¨‹åº ã€Šæ°›å›´ç¾å­¦ã€‹ã€‚å¯ä»¥ç›´æ¥æœå°ç¨‹åº&gt;æ°›å›´ç¾å­¦ï¼Œåœ¨çº¿åŒ»ç–—ç¾å®¹å•†åŸï¼Œå®¢æˆ·é€šè¿‡å°ç¨‹åºè´­ä¹°ä¸‹å•ï¼Œç„¶åé¢„çº¦åˆ°åº—åšé¡¹ç›®ï¼Œç„¶ååˆ†äº«è¯„è®ºç­‰ç­‰ç›¸å…³ç”Ÿæ€åœˆå­ã€‚ Vue / Uniapp / uView / å¾®ä¿¡å°ç¨‹åº ã€Šæ–°ç¾äº‘æ”¶é“¶å¹³æ¿ç«¯ã€‹ã€‚ç»™é—¨åº—çš„å‰å°å’Œé—¨åº—åŠ©ç†çš„å¹³æ¿æä¾›æœåŠ¡ã€‚é¡¹ç›®ç®€å•ï¼Œä¸»è¦åŠŸèƒ½ï¼šç”¨äºç»™å®¢æˆ·ä»‹ç»æˆ‘ä»¬å…¬å¸ï¼Œç»™é€šè¿‡åå°ç³»ç»Ÿç»™å®¢æˆ·æ‰“å°å•æ®ï¼Œå¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¶ä»˜æ¬¾ç­‰ã€‚ iPad / Uniapp / uView / iOS ã€Šæ–°ç¾äº‘æ”¶é“¶åå°ã€‹ã€‚æ–°ç¾äº‘SaaSç³»ç»Ÿçš„è®¢å•å¤„ç†ä¸­å¿ƒã€‚ vue2.x / Element UI 2021-08-25&emsp;åšé˜³ç¦»èŒã€‚2021-04-24&emsp;åŠ å…¥åšé˜³ã€‚æˆéƒ½æ˜¯åˆ†å…¬å¸ï¼Œæ¯å…¬å¸éš¶å±å…°å·ã€‚ä¸»è¦ä¸šåŠ¡æ˜¯æ”¿åºœçš„é¡¹ç›®ï¼Œä¸ºä»–ä»¬ä½¿ç”¨äº†å…¬å¸ç¬¬ä¸€ä¸ªFlutteré¡¹ç›®ï¼Œå‰ç«¯vueä¸ºä¸»ï¼Œå…¶ä»–çš„åŒ…æ‹¬JQï¼Œè¿˜æœ‰å¾ˆå¤šåŸç”Ÿçš„htmlé¡µé¢ã€‚åç«¯æ˜¯javaã€‚ ã€ŠæŸåœ°æ¶ˆé˜²é˜Ÿæ•°å­—æ¶ˆé˜²OAç³»ç»Ÿã€‹ã€‚å¤§æ¦‚åŒ…æ‹¬æ¶ˆé˜²å‘˜ç”Ÿçš„æ´»ç›‘æ§ç®¡ç†åŒ…æ‹¬é¥®é£Ÿï¼Œä¼‘æ¯æ—¶é—´ï¼Œå‡æœŸç®¡ç†ï¼Œè£…å¤‡ç»´æŠ¤è¿›åº¦ï¼Œå½“å‰å¯ç”¨è½¦è¾†ï¼Œè½¦è¾†ä¿å…»æ—¥æœŸå’Œè¿›åº¦ç­‰ç­‰â€¦ Vue / JQ / Ant Design Vue / VantUI ã€ŠæŸçœå…¬å®‰å…APPå†…ç½®åœ°å›¾ã€‹ã€‚è¿™ä¸ªé¡¹ç›®å¾ˆç‰¹æ®Šï¼Œä»–æ˜¯æ˜Ÿç«å¹³å°(çœå…å†…éƒ¨å‚å•†)çš„ Hybrid App æ··åˆé¡µé¢ï¼Œè™½ç„¶é¡¹ç›®ä¸å¤§åªæ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘åšäº†è¿™ä¹ˆä¹…å‰ç«¯ï¼Œå†™è¿‡æœ€çƒ‚çš„é¡¹ç›®äº†ï¼Œå› ä¸ºè€æ¿å¼ºåˆ¶è¦æ±‚ä½¿ç”¨åŸç”Ÿhtml+jsçš„æ¥å®Œæˆï¼ï¼ï¼ï¼ï¼ï¼Œå¯¼è‡´æœ€åæˆä¸ºäº†ä¸€ä¸ªæ¥è¿‘4000+è¡Œçš„htmlæ–‡ä»¶ï¼Œè‡ªå·±éƒ½æ„Ÿè§‰ä¸å¦¥ä¸€ç‚¹éƒ½ä¸ç¬¦åˆé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œé€šè¿‡å±‚å±‚ç»§æ‰¿è®©å®ç°äº†ä¸€ä¸ªå•ä¾‹çš„classé¡¹ç›®ç»“æ„æ›´å‹å¥½(å› ä¸ºåé¢è¿˜ä¼šæœ‰å…¶ä»–é˜Ÿå‹ç”¨åˆ°),ä¼ ä¸Šåå°æµ‹è¯•ï¼Œå› ä¸ºéœ€è¦è¿‡5æ¬¡çœå…çš„gatewayï¼Œåœ¨ç¬¬ä¸‰æ¬¡å¡ä½äº†ï¼Œè§„åˆ’è·¯çº¿æ¥å£ä¸€ç›´ä¸é€šå…¶ä»–åŠŸèƒ½æ­£å¸¸ï¼Œä¸€ç›´æ²¡äººè§£å†³ï¼Œè€æ¿ä¸ç­‰äº†ï¼Œè¿˜æ²¡åšå®Œå°±ç»™æˆ‘åˆ†é…å…¶ä»–çš„é¡¹ç›®å»äº†ï¼Œä¸»è¦ç¼ºäººï¼Œæ²¡äººäº†å•Š~ Html + Javascript + Es6 ã€ŠæŸåœ°æ¶ˆé˜²é˜Ÿæ•°å­—æ¶ˆé˜²APPã€‹åä¸ºå‚å•†ç‰¹ä¾›å®‰å“æ‰‹æœºã€‚é¡¹ç›®ä¸»ä½“ç”¨ä½¿ç”¨flutterï¼Œå†…åµŒå„ç§H5é¡µé¢ï¼Œéƒ¨åˆ†åŠŸèƒ½åŒ…æ‹¬çœ‹æŸåœ°è·¯å£ç›‘æ§ï¼Œè¢«æ ‡è®°äººå‘˜ä½ç½®ï¼Œæ”¿åºœå•ä½ä½ç½®â€¦ Flutter / Vue(h5ç›‘æ§ç³»ç»Ÿ) / uniapp(h5ç”Ÿæ´»ç³»ç»Ÿ) / VantUI / uView 2021-04-10&emsp;ä»å¤–åŒ…å…¬å¸ç¦»èŒï¼Œè¿½æ±‚æ›´é«˜çš„æŒ‘æˆ˜ã€‚å¤–åŒ…å…¬å¸ä¸šåŠ¡å¾ˆæ‚ä¹Ÿå¾ˆå¤šã€‚å¤–åŒ…ç”Ÿæ¶¯ä¸­å……æ»¡äº†å……æ»¡äº†æœªçŸ¥å’ŒæŒ‘æˆ˜éš¾åº¦æŒºé«˜çš„ï¼Œåœ¨è¿™é‡Œæˆé•¿äº†å¾ˆå¤šæŒºé”»ç‚¼äººçš„ï¼Œæ„Ÿè°¢~ ä»Šåä»»é‡ä»»é“è¿œã€‚åŠ æ²¹ï¼2019-04-20&emsp;åˆå‡ºèŒ…åºï¼Œä»»èŒäºç»µé˜³å››å·éº¦èŠ’ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸ã€‚ä¸»è¦ä¸šåŠ¡æ˜¯å°ç¨‹åºï¼Œappï¼Œh5ï¼Œå‰ç«¯ä¾§é‡äºuniappï¼Œåç«¯ä¸»è¦æ˜¯phpï¼Œä¸šåŠ¡é‡å¿ƒä¸»è¦æ”¾åœ¨ç§»åŠ¨ç«¯å¤–åŒ…ä¸Šé¢ã€‚å¤–åŒ…é¡¹ç›®å‡Œä¹±ç¹æ‚ï¼Œé¡¹ç›®æœ‰å¾ˆå¤šç‘•ç–µã€‚é¡¹ç›®å‡Œä¹±ç¹å¤šï¼Œé¡¹ç›®è´¨é‡ä¸€èˆ¬ï¼Œä»¥ä¸‹ä»…æ˜¯ä¸ªäººä¸ªåˆ«é¡¹ç›®å¹¶éæ‰€æœ‰ã€‚ ã€Šç‚¹è¶£ç¯ä¿å›æ”¶ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;ç‚¹è¶£ç¯ä¿å›æ”¶ã€‚ä¸€æ¬¾åœ¨çº¿é¢„çº¦åºŸå“å›æ”¶å¾®ä¿¡å°ç¨‹åºï¼Œé™„åŠ åŠŸèƒ½ï¼Œä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼ŒåŒ…å«å›æ”¶å‘˜ç«¯(ä¸Šé—¨å›æ”¶å‘˜éœ€è¦è¿›è¡Œå¤„ç†å›æ”¶ä»˜è´¹ç­‰)ï¼Œå†…åµŒç§¯åˆ†å•†åŸã€‚ åŸç”Ÿå¾®ä¿¡å°ç¨‹åº / ColorUI / uniapp(H5ç§¯åˆ†å•†åŸ) ã€ŠEå°ä¼´é™ªè¯Šã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;Eå°ä¼´é™ªè¯Šã€‚æ˜¯æˆéƒ½çš„ä¸€æ¬¾åœ¨çº¿é¢„çº¦åŒ»ç”Ÿï¼Œé™ªè¯Šï¼Œè¯Šå‰çº¦å·ï¼Œç»“æœé€æ£€ï¼Œè·‘è…¿ï¼Œä¸€ç«™å¼åŠ©åŒ»æœåŠ¡ã€‚ Uniapp / ColorUI ã€Šçäº‹æ— å¿§ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;çäº‹æ— å¿§ã€‚ä¸€æ¬¾åœ¨çº¿å®¶æ”¿æœåŠ¡å¹³å°ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨çº¿é¢„çº¦å„ç§å®¶æ”¿æœåŠ¡ã€‚ Uniapp / ColorUI / uView ã€Šç‰§çº¸äººå›æ”¶ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;ç‰§çº¸äººå›æ”¶ã€‚ä¸€æ¬¾åœ¨çº¿é¢„çº¦åºŸå“å›æ”¶å¾®ä¿¡å°ç¨‹åºï¼Œé™„åŠ åŠŸèƒ½ï¼Œä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼ŒåŒ…å«å›æ”¶å‘˜ç«¯(ä¸Šé—¨å›æ”¶å‘˜éœ€è¦è¿›è¡Œå¤„ç†å›æ”¶ä»˜è´¹ç­‰)ï¼Œå†…åµŒç§¯åˆ†å•†åŸã€‚ åŸç”Ÿå¾®ä¿¡å°ç¨‹åº / ColorUI ã€Šè‰ºè•Šå¥½è´§æ‹¼å›¢ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;è‰ºè•Šå¥½è´§æ‹¼å›¢ã€‚ä¸€æ¬¾åœ¨çº¿å•†åŸï¼Œæœ¬è´¨ä¸Šå¯¹é™„è¿‘çš„ä¾¿åˆ©åº—æä¾›æ‹¼å›¢çš„å¹³å°ã€‚å¸¸è§„ç”µå•†é¡¹ç›®ã€‚ Uniapp / ColorUI / uView ã€Šæœ‰ä½å¤©ä¸€ä»å’Œã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;æœ‰ä½å¤©ä¸€ä»å’Œã€‚åœ¨çº¿è£…ä¿®å¹³å°ï¼Œç”¨æˆ·å¯å®šåˆ¶æ ·å¼ï¼Œåœºæ™¯å®šåˆ¶ï¼ŒæŸ¥çœ‹è£…ä¿®å®æ—¶æƒ…å†µï¼Œå®¢æœï¼Œè£…ä¿®è¿›åº¦ã€‚ Uniapp / ColorUI / uView ã€Šåˆ›å®¢åœ°æ‘Šå•†é™¢ã€‹ã€‚å¾®ä¿¡å…¬ä¼—å·æœ&gt;åˆ›å®¢åœ°æ‘Šå•†é™¢ã€‚ä¸€æ¬¾çŸ¥è¯†ä»˜è´¹å¹³å°ã€‚ä¸Šä¸‹çº§ç§¯åˆ†å…³ç³»ï¼Œåœ¨çº¿å­¦ä¹ ï¼Œåˆ·é¢˜ï¼Œçœ‹è§†é¢‘ã€‚ uniapp / uview / è¥¿ç“œæ’­æ”¾å™¨ ã€Šéº¦èŠ’è£…ä¿®ã€‹ã€‚å¾®ä¿¡å°ç¨‹åºæœ&gt;éº¦èŠ’è£…ä¿®ã€‚ä¸€æ¬¾åœ¨çº¿è£…ä¿®é¢„çº¦å¹³å°ï¼Œèƒ½æŸ¥çœ‹å„ç§è£…ä¿®æ¡ˆä¾‹ï¼ŒæŸ¥çœ‹å½“å‰è£…ä¿®è¿›åº¦å’Œå…¶ä»–çš„è£…ä¿®æ¡ˆä¾‹(vrçœ‹æˆ¿å¤–æ¥çš„ä»˜è´¹æºç ) å¾®ä¿¡å°ç¨‹åº ã€Šå¸ˆæ´¾ã€‹ã€‚åº”ç”¨å¸‚åœº(éƒ¨åˆ†å‚å•†åº”ç”¨å¸‚åœºæ²¡ä¸Šå»)/å¾®ä¿¡å…¬ä¼—å·æœ&gt;å¸ˆæ´¾ã€‚uniappè·¨ç«¯é¡¹ç›®appç«¯ï¼Œå¾®ä¿¡å…¬ä¼—å·h5ç«¯ã€‚ä¸€æ¬¾åœ¨çº¿æˆäººè€ƒè¯•çš„ä»˜è´¹å¹³å°åŒ…æ‹¬ï¼Œåœ¨çº¿åˆ·é¢˜ï¼Œçœ‹é¢˜ï¼Œè€ƒè¯•ï¼Œå­¦ä¹ è®¡åˆ’å®šåˆ¶ï¼Œé”™é¢˜é‡ç»ƒï¼ŒçœŸé¢˜åœ¨çº¿ç»ƒï¼ŒçœŸé¢˜ä¸‹è½½ã€‚ uniapp / uview &emsp;&emsp;æ„Ÿè°¢æ‚¨äº†è§£æˆ‘ï¼Œbye~ğŸ˜Š","link":"/about/%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86.html"},{"title":"","text":"///é€’å½’è·å–æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„å­æ–‡ä»¶ final directory = Directory(â€œ${HiveUtils.rootPath}/${info.conversationID}â€);final files = _listFiles(directory);print(files.length); List _listFiles(Directory dir) { final List files = []; dir.listSync().forEach((entity) { if (entity is File) { files.add(entity); } else if (entity is Directory) { files.addAll(_listFiles(entity)); } }); return files;}","link":"/%E6%9A%82%E5%AD%98/flutter%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0.html"},{"title":"","text":"ios11+ å›¾ç‰‡è½¬ç è§†é¢‘è½¬ç ","link":"/%E6%9A%82%E5%AD%98/ios%E7%89%B9%E6%9C%89%E8%A7%86%E9%A2%91%EF%BC%8C%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E8%BD%AC%E7%A0%81.html"},{"title":"","text":"ssè…¾è®¯åœ°å›¾é€‰ç‚¹ import â€˜dart:asyncâ€™;import â€˜dart:uiâ€™; import â€˜package:amap_search_muka/amap_search_muka.dartâ€™ as Search;import â€˜package:flutter/cupertino.dartâ€™;import â€˜package:flutter/material.dartâ€™; import â€˜package:flutter/services.dartâ€™;import â€˜package:dio/dio.dartâ€™; ///å®šä½import â€˜package:amap_flutter_location/amap_flutter_location.dartâ€™; ///åœ°å›¾import â€˜package:amap_flutter_map/amap_flutter_map.dartâ€™;import â€˜package:amap_flutter_base/amap_flutter_base.dartâ€™; ////// import â€˜package:amap_search_muka/amap_search_muka.dartâ€™;/** https://lbs.amap.com/api/flutter/guide/positioning-flutter-plug-in/interface-info https://developer.amap.com/api/webservice/guide/api/search#around AMapApiKey amapApiKeys = AMapApiKey(iosKey: '',androidKey: ''); package:amap_flutter_base/amap_flutter_base.dart å¦‚æœRunning Gradle task 'assembleDebug'... å¡ä½ android/build.gradle ä¿®æ”¹ buildscript{ repositories { // google() // mavenCentral() maven { url 'https://maven.aliyun.com/repository/public' } maven { url 'https://maven.aliyun.com/repository/google' } } } allprojects { repositories { // google() // mavenCentral() maven { url 'https://maven.aliyun.com/repository/public' } maven { url 'https://maven.aliyun.com/repository/google' } } } æŠ¥é”™ E/AndroidRuntime(10624): FATAL EXCEPTION: main E/AndroidRuntime(10624): Process: com.example.urtest, PID: 10624 E/AndroidRuntime(10624): java.lang.NoClassDefFoundError: Failed resolution of: Lcom/amap/api/maps/AMapOptions; E/AndroidRuntime(10624): at com.amap.flutter.map.AMapOptionsBuilder.&lt;init&gt;(AMapOptionsBuilder.java:27) E/AndroidRuntime(10624): at com.amap.flutter.map.AMapPlatformViewFactory.create(AMapPlatformViewFactory.java:35) E/AndroidRuntime(10624): at io.flutter.plugin.platform.PlatformViewsController$1.createForTextureLayer(PlatformViewsController.java:197) E/AndroidRuntime(10624): at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:122) E/AndroidRuntime(10624): at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:60) E/AndroidRuntime(10624): at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:262) æ²¡æœ‰åœ¨gradleä¸­å¼•å…¥ä¾èµ– implementation 'com.amap.api:3dmap:latest.integration' implementation 'com.amap.api:location:latest.integration' æŠ¥é”™ Duplicate class com.amap.api.fence.DistrictItem found in modules jetified-3dmap-9.6.0 (com.amap.api:3dmap:9.6.0) and jetified-location-6.2.0 (com.amap.api:location:6.2.0) è¿™ä¸¤ä¸ªä¸­æœ‰é‡å¤çš„æ¨¡å—,åªç”¨3dè¿™ä¸ªï¼Œä»–å·²ç»æœ‰å®šä½çš„apiäº†ï¼ŒçœŸçš„å‘ implementation 'com.amap.api:3dmap:latest.integration' ç¡®ä¿æœ‰æƒé™è¿˜åœ¨æŠ¥é”™ _locationPlugin.startLocation(); {callbackTime: 2023-03-21 15:23:42, errorCode: 12, errorInfo: ç¼ºå°‘å®šä½æƒé™ è¯·åˆ°http://lbs.amap.com/api/android-location-sdk/guide/utilities/errorcode/æŸ¥çœ‹é”™è¯¯ç è¯´æ˜,é”™è¯¯è¯¦ç»†ä¿¡æ¯:å®šä½æƒé™è¢«ç¦ç”¨,è¯·æˆäºˆåº”ç”¨å®šä½æƒé™ #1201#pm110101#å®šä½æƒé™è¢«ç¦ç”¨,è¯·æˆäºˆåº”ç”¨å®šä½æƒé™ #1201#pm110101} ç”³è¯·äº†æƒé™è¿‡åflutter clean ç„¶åå†è¿è¡Œ æœç´¢å‡ºæ¥æ²¡æœ‰è·ç¦»çš„,å¦‚æœéœ€è¦åˆ™ä½¿ç”¨å¸¦è‡ªå·±ç»çº¬åº¦çš„é‚£ä¸ªapi åœ°å›¾æˆªå›¾çš„apiï¼Œåœ¨mapControllerä¸Šé¢æ‰¾ */ void main() { runApp(const MyApp());} class MyApp extends StatelessWidget { const MyApp({Key? key}) : super(key: key); @override Widget build(BuildContext context) { return MaterialApp( title: â€˜Flutter Demoâ€™, theme: ThemeData( primarySwatch: Colors.blue, ), home: const MyHomePage(title: â€˜Flutter Demo Home Pageâ€™), ); }} class MyHomePage extends StatefulWidget{ const MyHomePage({Key? key, required this.title}) : super(key: key); final String title; @override State createState() =&gt; _MyHomePageState();} class _MyHomePageState extends State with WidgetsBindingObserver { ///åœ°å›¾key late AMapApiKey amapApiKeys; ///å®‰å“key String androidKey=â€***************â€; ///åœ°å›¾çš„å°ºå¯¸ double mHeight=450.0; ///ä¸­å¿ƒç‚¹ AMapController? mapController; //å®ä¾‹åŒ–æ’ä»¶ AMapFlutterLocation _locationPlugin = new AMapFlutterLocation(); //åˆ—è¡¨æ»šåŠ¨æ§åˆ¶å™¨ ScrollController _scrollController=ScrollController(); //åˆå§‹åŒ–åœ°å›¾çš„ä½ç½®ï¼Œä»å…¶ä»–é¡µé¢å¸¦è¿‡æ¥ LatLng? initLatLng = LatLng(30.557742819309727, 104.05296365106575); //å½“å‰çš„ä½ç½® LatLng? curLatLng = null; //å½“å‰è·å–çš„poiåˆ—è¡¨ LatLng? sLatlng=null; String? keyword=null; List sPoiList=[]; int sPoioffset=15; int sPoiPage=1; bool isLoad=true; CancelToken? cancelToken=null; //å½“å‰å½“å‰é€‰ä¸­çš„åˆ—è¡¨indexï¼› int curIndex=0; FocusNode focusNode=FocusNode(); TextEditingController tcontroller=TextEditingController(); Future loadmore() async { cancelToken?.cancel(); if(sLatlng==null&amp;&amp;keyword==null)return false; if(isLoad==false)return false; try{ cancelToken=CancelToken(); List data; if(sLatlng!=null){ data = await Search.AMapSearch.searchAround( Search.LatLng(sLatlng!.latitude,sLatlng!.longitude), radius: 2000, page: sPoiPage, pageSize:sPoioffset, ); }else{ data = await Search.AMapSearch.searchKeyword( keyword!, page: sPoiPage, pageSize:sPoioffset, cityLimit: true ); } if(data.length!=sPoioffset)isLoad=false; setState(() {sPoiList.addAll(data);}); sPoiPage++; return true; }catch(e){ cancelToken=null; print(e); return false; } } Future initSearch({LatLng? pot,String? ckey})async{ setState(() { sPoiList=[]; }); keyword=ckey; curIndex=0; sLatlng=pot; sPoiPage=1; isLoad=true; return loadmore(); } void PageInit()async{ // Search.AMapSearch.setApiKey(androidKey, â€œiosKeyâ€); ///åˆå§‹åŒ–å®šä½ AMapFlutterLocation.setApiKey(androidKey, â€œâ€); AMapFlutterLocation.updatePrivacyAgree(true); AMapFlutterLocation.updatePrivacyShow(true, true); ///åˆå§‹åŒ–å®šä½sdk _locationPlugin.onLocationChanged().listen((Map&lt;String, Object&gt; result) { // _locationPlugin.stopLocation(); try{ setState(() { if(curLatLng==null){ curLatLng=LatLng(result[â€œlatitudeâ€] as double,result[â€œlongitudeâ€] as double); initSearch(pot: curLatLng); }else{curLatLng=LatLng(result[â€œlatitudeâ€] as double,result[â€œlongitudeâ€] as double);} }); }catch(e){} }); ///å¼€å§‹å®šä½ _locationPlugin.startLocation(); ///è®¾ç½®åœ°å›¾key import â€˜package:amap_flutter_base/amap_flutter_base.dartâ€™; amapApiKeys = AMapApiKey(iosKey: â€˜â€™,androidKey: androidKey); ///æ»šåŠ¨ç›‘å¬ _scrollController.addListener(() {if (_scrollController.position.pixels == _scrollController.position.maxScrollExtent)loadmore();}); } @override void dispose() { super.dispose(); _scrollController.dispose(); _locationPlugin.stopLocation(); _locationPlugin.destroy(); mapController?.disponse(); WidgetsBinding.instance.removeObserver(this); focusNode.unfocus(); focusNode.dispose(); tcontroller.dispose(); } @override void initState() { super.initState(); ///æ³¨å†Œobs WidgetsBinding.instance.addObserver(this); ///sè¾“å…¥ç›‘å¬FocusScope.of(context).requestFocus(focusNode);focusNode.unfocus(); focusNode.addListener((){if (focusNode.hasFocus) {}else{}}); //çŠ¶æ€æ  // SystemUiOverlayStyle systemUiOverlayStyle = SystemUiOverlayStyle( // statusBarColor: Colors.transparent, // statusBarBrightness:Brightness.light, // systemNavigationBarIconBrightness: Brightness.light, // statusBarIconBrightness: Brightness.dark, // ); // SystemChrome.setSystemUIOverlayStyle(systemUiOverlayStyle); PageInit(); } @override void didChangeMetrics() { super.didChangeMetrics(); WidgetsBinding.instance.addPostFrameCallback((_) { if(MediaQuery.of(context).viewInsets.bottom==0){///å…³é—­é”®ç›˜ focusNode.unfocus(); setState(() {mHeight+=100;}); }else{///æ˜¾ç¤ºé”®ç›˜ setState(() {mHeight-=100;}); } }); } @override Widget build(BuildContext context) { double _sw=MediaQuery.of(context).size.height; double _sb=MediaQuery.of(context).padding.bottom; return Scaffold( body: SafeArea( top: false, bottom: true, child: SingleChildScrollView( child:SizedBox( height:_sw-_sb, child: Column( children: [ AnimatedContainer( width: double.infinity, height: mHeight, curve: Curves.ease, duration:Duration(milliseconds:150), child: Stack( children: [ Positioned.fill( child:AMapWidget( //åˆå§‹åŒ–æ—¶çš„åœ°å›¾ä¸­å¿ƒç‚¹ initialCameraPosition : CameraPosition(target:initLatLng!, zoom: 16), ///[hasContains] éšç§æƒæ”¿ç­–æ˜¯å¦åŒ…å«é«˜å¾·å¼€å¹³éšç§æƒæ”¿ç­–[hasShow] éšç§æƒæ”¿ç­–æ˜¯å¦å¼¹çª—å±•ç¤ºå‘ŠçŸ¥ç”¨æˆ·[hasAgree] éšç§æƒæ”¿ç­–æ˜¯å¦å·²ç»å–å¾—ç”¨æˆ·åŒæ„ privacyStatement: AMapPrivacyStatement(hasContains: true, hasShow: true, hasAgree: true), apiKey:amapApiKeys, scaleEnabled:true, // æ™®é€šåœ°å›¾normal,å«æ˜Ÿåœ°å›¾satellite,å¤œé—´è§†å›¾night,å¯¼èˆªè§†å›¾ navi,å…¬äº¤è§†å›¾bus, mapType: MapType.normal, // ç¼©æ”¾çº§åˆ«èŒƒå›´ minMaxZoomPreference: MinMaxZoomPreference(3, 20), onMapCreated: (AMapController controller) {mapController = controller;}, onTap:(e){ initSearch(pot: e); /// æ¸…æ¥šè¾“å…¥æ¡†çš„æ–‡å­—ï¼› tcontroller.clear(); /// é€€å‡ºç„¦ç‚¹ focusNode.unfocus(); /// é•œå¤´ç§»åŠ¨ mapController?.moveCamera(CameraUpdate.newLatLng(e)); }, onPoiTouched: (e){ if(e.latLng==null)return; keyword=null; /// æ¸…æ¥šè¾“å…¥æ¡†çš„æ–‡å­—ï¼› tcontroller.clear(); /// é€€å‡ºç„¦ç‚¹ focusNode.unfocus(); /// é•œå¤´ç§»åŠ¨ mapController?.moveCamera(CameraUpdate.newLatLng(e.latLng!)); /// initSearch(pot: e.latLng); }, onCameraMoveEnd:(e)async{ if(e.target==null)return; if(keyword!=null){ keyword=null; return; } /// æ¸…æ¥šè¾“å…¥æ¡†çš„æ–‡å­—ï¼› tcontroller.clear(); /// é€€å‡ºç„¦ç‚¹ focusNode.unfocus(); /// é•œå¤´ç§»åŠ¨ mapController?.moveCamera(CameraUpdate.newLatLng(e.target)); /// æˆ‘çš„ initSearch(pot: e.target); }, ) ), Center(child:Transform.translate(offset: Offset(0, -15.0), child:Image.asset(â€œassets/images/position.pngâ€,width:35))), Positioned( left: 10, top: mHeight-80, child:GestureDetector( onTap: (){ tcontroller.clear(); focusNode.unfocus(); mapController?.moveCamera(CameraUpdate.newLatLng(curLatLng??initLatLng!)); }, child: Container( width: 38, height: 38, decoration: BoxDecoration(color: Colors.white,borderRadius: BorderRadius.circular(10)), child:Center(child:Icon(Icons.my_location_outlined,color: Colors.black,size:23),), ), ) ), Positioned( left: 10, right: 10, top: MediaQuery.of(context).padding.top+10, child:Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [ GestureDetector( child:Container( decoration: BoxDecoration(color: Colors.transparent,borderRadius: BorderRadius.circular(5)), width: 60,height: 30, // child: Center(child:Text(â€œå–æ¶ˆâ€,style:TextStyle(color:Colors.white))), child: Center(child:Text(â€œå–æ¶ˆâ€)), ), ), GestureDetector( child:Container( decoration: BoxDecoration(color: Colors.red,borderRadius: BorderRadius.circular(5)), width: 60,height: 30, child: Center(child:Text(â€œå‘é€â€,style:TextStyle(color:Colors.white))), ), ), ], ) ) ], ), ), Expanded( child:Column( children: [ Padding( padding: EdgeInsets.symmetric(horizontal:15), child: Container( margin: EdgeInsets.symmetric(vertical:10), height: 35, decoration: BoxDecoration( color: Color(0xFFF1F1F1), borderRadius: BorderRadius.circular(5), ), child:Padding( padding: EdgeInsets.symmetric(horizontal: 10), child: Center( child: TextField( focusNode: focusNode, controller:tcontroller, maxLines: 1, textInputAction:TextInputAction.search, decoration:InputDecoration( isCollapsed: true, fillColor: Colors.transparent, filled:true, border: InputBorder.none, hintText:â€æœç´¢åœ°ç‚¹â€, hintStyle: TextStyle(color:Color(0x80808080),fontWeight:FontWeight.w400,fontSize:14), contentPadding:EdgeInsets.symmetric(vertical:5), ), onSubmitted:(e)async{ if(e==â€â€)return; var res = await initSearch(ckey:e); if(!res)return; /// é€€å‡ºè°ƒç‚¹ focusNode.unfocus(); /// é•œå¤´ç§»åŠ¨ mapController?.moveCamera(CameraUpdate.newLatLng(LatLng(sPoiList[0].latLng.latitude,sPoiList[0].latLng.longitude))); /// æœç´¢ }, ), ), ), ), ), // SizedBox(height:10), // if(sPoiList.length!=0)Expanded( Expanded( child:ListView.builder( physics: BouncingScrollPhysics(), padding:EdgeInsets.only(top:10), itemBuilder:(c,i){ if(i&gt;=sPoiList.length){ return _getMoreWidget(); } var item=sPoiList[i]; return GestureDetector( onTap:(){ setState(() {curIndex=i;}); mapController?.moveCamera(CameraUpdate.newLatLng(LatLng(item.latLng.latitude, item.latLng.longitude))); }, child: Row( children: [ Expanded(child:Container( padding: EdgeInsets.symmetric(horizontal:15,vertical:5), decoration: BoxDecoration( // color: Colors.red, border: Border(bottom:BorderSide(color:Color(0xFFF1F1F1),width:0.5)) ), child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: [ Text(â€œ${item.name}â€,style: TextStyle(fontSize:14),maxLines:2,overflow:TextOverflow.ellipsis), SizedBox(height:2), Text(â€œ${item.distance&gt;=0?â€™${item.distance}m | â€˜:â€â€}${item.address}â€,maxLines:1,overflow:TextOverflow.ellipsis,style:TextStyle(fontSize:12,color: Color(0xFF808080))), ], ), )), Icon(Icons.done_rounded,size:16,color:curIndex==i?Colors.green:Colors.transparent), SizedBox(width:15), ], ), ); }, itemCount: sPoiList.length+1, controller: _scrollController, ), ), ], ) ), ], ), ), ), ) ); } String getDistance(int d){ if(d&gt;1000)return â€œ${(d/1000).toInt()}kmâ€; return â€œ${d}mâ€; } Widget _getMoreWidget() { return Center( child: Padding( padding: EdgeInsets.symmetric(vertical:20,horizontal:0), child:Row( mainAxisAlignment: MainAxisAlignment.center, crossAxisAlignment: CrossAxisAlignment.center, children:[ if(isLoad)SizedBox( child:CircularProgressIndicator(strokeWidth: 1.0,color:Color(0x60808080)), width: 15, height: 15, ), if(isLoad)SizedBox(width:10), if(isLoad)Text(â€˜åŠ è½½ä¸­â€¦â€™,style: TextStyle(fontSize:12.0,color:Color(0x80808080))), if(!isLoad)Text(â€˜æš‚æ— æ›´å¤šâ€¦â€™,style: TextStyle(fontSize:12.0,color:Color(0x80808080))), ], ), ), ); }}","link":"/%E6%9A%82%E5%AD%98/20230323.html"}],"posts":[{"title":"Hexo Tagsè‡ªåŠ¨æ‘˜è¦","text":"ä½¿ç”¨æ’ä»¶hexo-excerptå®ç° 1cnpm install hexo-excerpt --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼ˆé¡¹ç›®çš„_config.ymlï¼‰ 12345excerpt: depth: 3 excerpt_excludes: [] more_excludes: [] hideWholePostExcerpts: true","link":"/2020/07/05/20200705hexo%E8%87%AA%E5%8A%A8%E6%91%98%E8%A6%81/"},{"title":"JSON.stringifyçš„è¯¦è§£","text":"JSON.stringifyå°½ç„¶æœ‰3ä¸ªå‚æ•°çš„å•Šä¸€ç›´éƒ½ä»¥ä¸ºåªæœ‰ä¸€ä¸ªã€‚(value[, replacer [, space]]) å‚æ•°ä¸€æ²¡ä»€ä¹ˆå¥½è¯´çš„,ä½†æ˜¯æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ éæ•°ç»„å¯¹è±¡çš„å±æ€§ä¸èƒ½ä¿è¯ä»¥ç‰¹å®šçš„é¡ºåºå‡ºç°åœ¨åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ä¸­ï¼ˆå¯¹è±¡çš„å±æ€§çš„é¡ºåºå¯èƒ½ä¼šæ”¹å˜ï¼‰12var data = {name:&quot;tabby&quot;,hobs:[&quot;ç¯®çƒ&quot;,&quot;è¶³çƒ&quot;],other:{a:1,b:2,c:3}};JSON.stringify(data); å¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„åŸå§‹å€¼ã€‚ undefinedã€ä»»æ„çš„å‡½æ•° ã€ symbol é”®å€¼å¯¹ã€ä¸å¯æšä¸¾çš„å±æ€§ã€ åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè¢«å¿½ç•¥ï¼ˆå‡ºç°åœ¨éæ•°ç»„å¯¹è±¡çš„å±æ€§å€¼ä¸­æ—¶ï¼‰æˆ–è€…è¢«è½¬æ¢æˆ nullï¼ˆå‡ºç°åœ¨æ•°ç»„ä¸­æ—¶ï¼‰ã€‚12345678var obj = {&quot;t1&quot;:undefined,&quot;t2&quot;:function(a){var a=10;return a},&quot;t3&quot;:Symbol(&quot;asdada&quot;),&quot;t4&quot;:{&quot;fnc&quot;:function(a){var a=10;return a},a:1},[Symbol(&quot;t5&quot;)]: &quot;t5&quot;};console.log(JSON.stringify(obj)) //{&quot;t4&quot;:{&quot;a&quot;:1}}var arr = [undefined,Symbol(&quot;aaa&quot;),function(){},{&quot;fnc&quot;:function(a){var a=10;return a},a:1}];console.log(JSON.stringify(arr))//[null,null,null,{&quot;a&quot;:1}]JSON.stringify( Object.create(null, { t1: { value: 't1', enumerable: false }, t2: { value: 't2', enumerable: true } }) );//{&quot;t2&quot;:&quot;t2&quot;} å‚æ•°äºŒ å½“ç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°çš„æ—¶å€™ï¼Œæ¯ä¸ªâ€œkeyâ€ï¼Œâ€œvalueâ€éƒ½ä¼šç»è¿‡è¯¥å‡½æ•°çš„è½¬æ¢å’Œå¤„ç†ï¼Œ1234567891011121314151617181920212223242526272829303132333435363738394041var data = { name: &quot;tabby&quot;, t1: { a: 1, b: 2, c: [&quot;cccc&quot;, 2] }};var b = JSON.stringify(data, function (key, val) { console.log(&quot;key is %s&quot;, key); console.log(&quot;val is %s , type is %s&quot;,val,typeof (val)); console.log(&quot;-----------------------------------------------------&quot;); return val;});console.log(b)//è¾“å‡ºå¦‚ä¸‹key is val is { name: 'tabby', t1: [Object] } , type is object-----------------------------------------------------key is nameval is tabby , type is string-----------------------------------------------------key is t1val is { a: 1, b: 2, c: [Array] } , type is object-----------------------------------------------------key is aval is 1 , type is number-----------------------------------------------------key is bval is 2 , type is number-----------------------------------------------------key is cval is [ 'cccc', 2 ] , type is object-----------------------------------------------------key is 0val is cccc , type is string-----------------------------------------------------key is 1val is 2 , type is number-----------------------------------------------------{&quot;name&quot;:&quot;tabby&quot;,&quot;t1&quot;:{&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:[&quot;cccc&quot;,2]}} å½“ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°ç»„çš„æ—¶å€™12345678910111213var data = { name: &quot;tabby&quot;, t1: { a: 1, b: 2, c: [&quot;cccc&quot;, 1,{d:1,c:&quot;å˜»å˜»å˜»&quot;}] }, t2:&quot;AAAAA&quot;};var b = JSON.stringify(data, [&quot;name&quot;, &quot;t1&quot;,&quot;c&quot;, &quot;cccc&quot;]);console.log(b){&quot;name&quot;:&quot;tabby&quot;,&quot;t1&quot;:{&quot;c&quot;:[&quot;cccc&quot;,1,{&quot;c&quot;:&quot;å˜»å˜»å˜»&quot;}]}} å‚æ•°ä¸‰æ§åˆ¶åºåˆ—åŒ–æ ¼å¼è¿‡åçš„ç¼©è¿›1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465var data = { name: &quot;tabby&quot;, t1: { a: 1, b: 2, c: [&quot;cccc&quot;, 1,{d:1,c:&quot;å˜»å˜»å˜»&quot;}] }, t2:&quot;AAAAA&quot;};var b = JSON.stringify(data,null,5);console.log(b)///{ &quot;name&quot;: &quot;tabby&quot;, &quot;t1&quot;: { &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: [ &quot;cccc&quot;, 1, { &quot;d&quot;: 1, &quot;c&quot;: &quot;å˜»å˜»å˜»&quot; } ] }, &quot;t2&quot;: &quot;AAAAA&quot;}var b = JSON.stringify(data,null,&quot;***&quot;);console.log(b)///{***&quot;name&quot;: &quot;tabby&quot;,***&quot;t1&quot;: {******&quot;a&quot;: 1,******&quot;b&quot;: 2,******&quot;c&quot;: [*********&quot;cccc&quot;,*********1,*********{************&quot;d&quot;: 1,************&quot;c&quot;: &quot;å˜»å˜»å˜»&quot;*********}******]***},***&quot;t2&quot;: &quot;AAAAA&quot;}var b = JSON.stringify(data,null,&quot;\\t&quot;);console.log(b){ &quot;name&quot;: &quot;tabby&quot;, &quot;t1&quot;: { &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: [ &quot;cccc&quot;, 1, { &quot;d&quot;: 1, &quot;c&quot;: &quot;å˜»å˜»å˜»&quot; } ] }, &quot;t2&quot;: &quot;AAAAA&quot;} toJSON()12345678910111213141516var data = { name: &quot;tabby&quot;, t1: { a: 1, b: 2, c: [&quot;cccc&quot;, 1,{d:1,c:&quot;å˜»å˜»å˜»&quot;}] }, t2:&quot;AAAAA&quot;, toJSON:function(){ return &quot;æˆ‘æ˜¯åºåˆ—åŒ–è¿‡åçš„æ•°æ®&quot;; }};var b = JSON.stringify(data);console.log(b)&quot;æˆ‘æ˜¯åºåˆ—åŒ–è¿‡åçš„æ•°æ®&quot;","link":"/2020/10/01/20201001JSON.stringify%E7%9A%84%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0/"},{"title":"å¦‚ä½•ä½¿ç”¨è½¯é”®ç›˜è‡ªå®šä¹‰Inputæ¡†","text":"æœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡è§ä¸€ä¸ªé—®é¢˜ï¼Œé¡µé¢éœ€æ±‚æ˜¯è¾“å…¥é‚€è¯·ç ï¼Œè¦èƒ½æ˜¯æ–‡æœ¬ï¼Œè€Œä¸”è¾“å…¥çš„æ—¶å€™ä¸Šé¢çš„å­—ç¬¦è¦æœ‰åŠ¨ç”»æ•ˆæœã€‚ æ„Ÿè§‰å®ç°çš„æ–¹æ³•æ¯”è¾ƒlowï¼Œä½†æ˜¯ç®€å•å•Šã€‚å“ˆå“ˆå“ˆ å…ˆçœ‹è®¾è®¡å›¾ å¦‚æ­¤ä¸€æ¥uniappçš„inputæ¡†æ˜¯è‚¯å®šæ— æ³•æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œåœ¨åŸç”Ÿçš„Androidæˆ–è€…iosä¸Šé¢æˆ–è€…flutterä¸Šé¢ï¼Œè¿™éƒ½ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œä½†æ˜¯è¦åœ¨uniappä¸Šè¿™ä¸ªç¬¬ä¸€æ—¶é—´æˆ‘æƒ³åˆ°äº†å‡ ç§æ–¹æ³• æ–¹æ¡ˆä¸€ï¼šé¦–å…ˆè®©ä»–å®šä½åœ¨ä¸‹å›¾ä½ç½®z-indexä¸º1ï¼Œå½“inputèšç„¦äº‹ä»¶è§¦å‘çš„æ—¶å€™ç›´æ¥ç»™ä»–z-indexä¸º-1è®©åœ¨æ•°å­—æ¡†åé¢è—èµ·æ¥ï¼Œç»“æœæ•ˆæœä¸è§¦å‘ï¼Œè¿™ä¸ªæ–¹æ¡ˆç›´æ¥passã€‚ æ–¹æ¡ˆäºŒï¼šæ€è·¯å¦‚ä¸Šï¼Œæˆ‘è®©ä»–åœ¨èšç„¦çš„æ—¶å€™æŠŠä»–ä¸€é“å±å¹•å¤–é¢ã€‚ç»“æœå‡ºç°äº†ä¸ªå°´å°¬çš„æƒ…å†µï¼Œè®©inputè¾“å…¥æ¡†å˜åŒ–çš„æ—¶å€™è§†è§’ç›´æ¥æ‹‰è¿‡å»äº†ã€‚æ„Ÿå…´è¶£å¯ä»¥è‡ªå·±å»å°è¯•ã€‚æ€»ä¹‹å°±æ˜¯passã€‚ æœ€ç»ˆæ–¹æ¡ˆï¼šç›´æ¥è®©ä»–å®½åº¦è¶…å‡ºå±å¹•å¤–è®¾ç½®é€æ˜åº¦ä¸º0è¿™æ ·ç”¨æˆ·ä¹Ÿæ˜¯æ— æ„ŸçŸ¥çš„ã€‚æœ€ç»ˆä¸´æ—¶çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œå¾…å®šè¿™ä¸ªæ–¹æ¡ˆã€‚ ä»£ç å¦‚ä¸‹(é¡¹ç›®ä¸­çš„ä¸šåŠ¡ä»£ç ï¼Œæ— å…³çš„éœ€è¦åˆ æ‰) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;template&gt; &lt;view class=&quot;content&quot;&gt; &lt;view class=&quot;input&quot;&gt; &lt;view v-for=&quot;i in maxLength&quot; class=&quot;item&quot;&gt; &lt;view class=&quot;num&quot; v-if=&quot;inum[i-1]&quot;&gt;{{inum[i-1]}}&lt;/view&gt; &lt;view class=&quot;con&quot; v-if=&quot;value.length+1===i&quot;&gt;&lt;/view&gt; &lt;/view&gt; &lt;input v-if=&quot;nativeKey&quot; v-model=&quot;inputValue&quot; @input=&quot;change&quot; class=&quot;input&quot; confirm-type=&quot;done&quot; /&gt; &lt;/view&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt; export default { props:{ value:{ type:String, default:&quot;&quot; }, maxLength:{ type:Number, default:6, }, nativeKey:{ type:Boolean, default:false, }, }, data(){ return { inputValue:&quot;&quot;, } }, computed:{ inum(){ var arr = this.value.split(&quot;&quot;) return arr } }, methods:{ change(e){ var v=e.detail.value //åˆ¤æ–­å½“å‰æ˜¯å¦åœ¨åˆ é™¤ if(v.length&lt;=this.maxLength){ console.log(2,v.length) this.$emit(&quot;input&quot;,v.substring(0,7)) } } } }&lt;/script&gt;&lt;style scoped lang=&quot;stylus&quot;&gt;.input display flex align-items center justify-content space-between position relative overflow hidden input display block position absolute background-color red width 900% height 100% top 0 left -800% zIndex 10 caret-color rgba(0,0,0,0) opacity 0 user-select:none;.item width 68rpx height 90rpx border-bottom 2rpx solid #cccccc display flex justify-content center align-items center .con width: 6rpx; height: 40rpx; background: #0A293E; border-radius: 2rpx; // margin-bottom 24rpx .num font-size 48rpx font-family: PingFangSC-Medium, PingFang SC; font-weight: 500; animation:scale-out-bl .15s cubic-bezier(.55,.085,.68,.53) 0.01s reverse both&lt;/style&gt;","link":"/2020/11/09/20201109%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%BD%AF%E9%94%AE%E7%9B%98%E8%87%AA%E5%AE%9A%E4%B9%89Input%E6%A1%86/"},{"title":"æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æœºåˆ¶EventLoopåŠå…¶ç›¸å…³ç†è§£","text":"ä»»åŠ¡é˜Ÿåˆ—é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç™½ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š JSåˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ã€‚ åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆã€‚ ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ç®¡ç†ç€ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œåªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚ ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ˆæ­¤æ—¶JSå¼•æ“ç©ºé—²ï¼‰ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å¯è¿è¡Œçš„å¼‚æ­¥ä»»åŠ¡æ·»åŠ åˆ°å¯æ‰§è¡Œæ ˆä¸­ï¼Œå¼€å§‹æ‰§è¡Œã€‚ æ ¹æ®è§„èŒƒï¼Œäº‹ä»¶å¾ªç¯æ˜¯é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—çš„æœºåˆ¶æ¥è¿›è¡Œåè°ƒçš„ã€‚ä¸€ä¸ª Event Loop ä¸­ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—(task queue)ï¼Œä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¾¿æ˜¯ä¸€ç³»åˆ—æœ‰åºä»»åŠ¡(task)çš„é›†åˆï¼›æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä»»åŠ¡æº(task source)ï¼Œæºè‡ªåŒä¸€ä¸ªä»»åŠ¡æºçš„ task å¿…é¡»æ”¾åˆ°åŒä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œä»ä¸åŒæºæ¥çš„åˆ™è¢«æ·»åŠ åˆ°ä¸åŒé˜Ÿåˆ—ã€‚ setTimeout/Promise ç­‰APIä¾¿æ˜¯ä»»åŠ¡æºï¼Œè€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ä»–ä»¬æŒ‡å®šçš„å…·ä½“æ‰§è¡Œä»»åŠ¡ã€‚ äº‹ä»¶å¾ªç¯EventLoopäº‹ä»¶å¾ªç¯çš„æ¦‚å¿µéå¸¸ç®€å•ã€‚å®ƒæ˜¯ä¸€ä¸ªåœ¨ JavaScript å¼•æ“ç­‰å¾…ä»»åŠ¡ï¼Œæ‰§è¡Œä»»åŠ¡å’Œè¿›å…¥ä¼‘çœ çŠ¶æ€ç­‰å¾…æ›´å¤šä»»åŠ¡è¿™å‡ ä¸ªçŠ¶æ€ä¹‹é—´è½¬æ¢çš„æ— é™å¾ªç¯ã€‚ 1.å½“æœ‰ä»»åŠ¡æ—¶ã€‚ä»æœ€å…ˆè¿›å…¥çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚ 2.ä¼‘çœ ç›´åˆ°å‡ºç°ä»»åŠ¡ï¼Œç„¶åè½¬åˆ°ç¬¬ 1 æ­¥ã€‚å½“æˆ‘ä»¬æµè§ˆä¸€ä¸ªç½‘é¡µæ—¶å°±æ˜¯ä¸Šè¿°è¿™ç§å½¢å¼ã€‚JavaScript å¼•æ“å¤§å¤šæ•°æ—¶å€™ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå®ƒä»…åœ¨è„šæœ¬/å¤„ç†ç¨‹åº/äº‹ä»¶æ¿€æ´»æ—¶æ‰§è¡Œã€‚ å½“å¤–éƒ¨è„šæœ¬ã€‚æ¯”å¦‚é¡µé¢çš„scriptè„šæœ¬åŠ è½½å®Œæˆæ—¶ï¼Œä»»åŠ¡å°±æ˜¯æ‰§è¡Œå®ƒã€‚ å½“ç”¨æˆ·ç§»åŠ¨é¼ æ ‡æ—¶ï¼Œä»»åŠ¡å°±æ˜¯æ´¾ç”Ÿå‡º mousemove äº‹ä»¶å’Œæ‰§è¡Œå¤„ç†ç¨‹åºã€‚ å½“å®‰æ’çš„ï¼ˆscheduledï¼‰setTimeout æ—¶é—´åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å°±æ˜¯æ‰§è¡Œå…¶å›è°ƒã€‚ è®¾ç½®ä»»åŠ¡ â€”â€” å¼•æ“å¤„ç†å®ƒä»¬ â€”â€” ç„¶åç­‰å¾…æ›´å¤šä»»åŠ¡ï¼ˆå³ä¼‘çœ ï¼Œå‡ ä¹ä¸æ¶ˆè€— CPU èµ„æºï¼‰ã€‚ä¸€ä¸ªä»»åŠ¡åˆ°æ¥æ—¶ï¼Œå¼•æ“å¯èƒ½æ­£å¤„äºç¹å¿™çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªä»»åŠ¡å°±ä¼šè¢«æ’å…¥é˜Ÿåˆ—ã€‚å¤šä¸ªä»»åŠ¡ç»„æˆäº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå³æ‰€è°“çš„â€œå®ä»»åŠ¡é˜Ÿåˆ—â€ã€‚ åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯æ“ä½œç§°ä¸º tickï¼Œæ¯ä¸€æ¬¡ tick çš„ä»»åŠ¡å¤„ç†æ¨¡å‹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä½†å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼ˆæ ˆä¸­æ²¡æœ‰å°±ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ï¼‰ æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°å¾®ä»»åŠ¡ï¼Œå°±å°†å®ƒæ·»åŠ åˆ°å¾®ä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œç«‹å³æ‰§è¡Œå½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆä¾æ¬¡æ‰§è¡Œï¼‰ å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ£€æŸ¥æ¸²æŸ“ï¼Œç„¶åGUIçº¿ç¨‹æ¥ç®¡æ¸²æŸ“ æ¸²æŸ“å®Œæ¯•åï¼ŒJSçº¿ç¨‹ç»§ç»­æ¥ç®¡ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ï¼‰ å®ä»»åŠ¡(macrotaskæˆ–è€…task)å’Œå¾®ä»»åŠ¡(microtask)å®ä»»åŠ¡(task)å®ä»»åŠ¡(task)å¯ä»¥ç†è§£æ˜¯æ¯æ¬¡æ‰§è¡Œæ ˆæ‰§è¡Œçš„ä»£ç å°±æ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆåŒ…æ‹¬æ¯æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªäº‹ä»¶å›è°ƒå¹¶æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼‰ã€‚ æµè§ˆå™¨ä¸ºäº†èƒ½å¤Ÿä½¿å¾—JSå†…éƒ¨taskä¸DOMä»»åŠ¡èƒ½å¤Ÿæœ‰åºçš„æ‰§è¡Œï¼Œä¼šåœ¨ä¸€ä¸ªtaskæ‰§è¡Œç»“æŸåï¼Œåœ¨ä¸‹ä¸€ä¸ªtask æ‰§è¡Œå¼€å§‹å‰ï¼Œå¯¹é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œæµç¨‹å¦‚ä¸‹ï¼š 1task-&gt;microtaskå¾®ä»»åŠ¡æ‰§è¡Œ-&gt;æ¸²æŸ“-&gt;task-&gt; taskä¸»è¦åŒ…å«ï¼šscript(æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UIäº¤äº’äº‹ä»¶ã€postMessageã€MessageChannelã€setImmediate(Node.js ç¯å¢ƒ) å¾®ä»»åŠ¡(microtask)å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰å¯ä»¥ç†è§£æ˜¯åœ¨å½“å‰ task æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½“å‰taskä»»åŠ¡åï¼Œä¸‹ä¸€ä¸ªtaskä¹‹å‰ï¼Œåœ¨æ¸²æŸ“ä¹‹å‰ã€‚ æ‰§è¡Œé¡ºåºä¸º:å¾®ä»»åŠ¡-å®ä»»åŠ¡-UIæ¸²æŸ“ taskï¼ˆåŠ è½½scriptæ ‡ç­¾ï¼‰-&gt;microtaskå¾®ä»»åŠ¡æ‰§è¡Œ-&gt;UIæ¸²æŸ“-&gt;task-&gt; ä¸Šé¢å…ˆæ˜¯å®ä»»åŠ¡ï¼Œå› ä¸ºå½“å‰æ²¡æœ‰ä»»åŠ¡ï¼Œè¿™ä¸ªtaskæ˜¯ä»»åŠ¡æºæˆ–è€…è¯´æ˜¯åœ¨åŠ è½½ä»»åŠ¡ï¼Œå¹¶éè¿æ³•è§„åˆ™ å¾®ä»»åŠ¡ä»…æ¥è‡ªäºæˆ‘ä»¬çš„ä»£ç ã€‚å®ƒä»¬é€šå¸¸æ˜¯ç”± promise åˆ›å»ºçš„ï¼šå¯¹ .then/catch/finally å¤„ç†ç¨‹åºçš„æ‰§è¡Œä¼šæˆä¸ºå¾®ä»»åŠ¡ã€‚å¾®ä»»åŠ¡ä¹Ÿè¢«ç”¨äº await çš„â€œå¹•åâ€ï¼Œå› ä¸ºå®ƒæ˜¯ promise å¤„ç†çš„å¦ä¸€ç§å½¢å¼ã€‚ microtaskä¸»è¦åŒ…å«ï¼šPromise.thenã€MutaionObserverã€queueMicrotaskã€process.nextTick(Node.js ç¯å¢ƒ) ä¸‹é¢çš„srciptåŠ è½½ï¼Œmousemoveï¼Œsettimeoutï¼Œéƒ½æ˜¯å®ä»»åŠ¡ ä»»åŠ¡æº - å¾®ä»»åŠ¡ - UIæ¸²æŸ“(render) -å®ä»»åŠ¡ - å¾®ä»»åŠ¡ - UIæ¸²æŸ“(render) - å®ä»»åŠ¡ è¿™é‡Œæœ‰å¿…è¦æä¸€ä¸‹vueä¸­çš„ $nextTick ï¼Œ$nextTickï¼ˆcallbackï¼‰åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒ(è¿™æ„å‘³ç€ä»–éœ€è¦åœ¨UIæœ¬æ¬¡æ›´æ–°åä¸‹æ¬¡æ›´æ–°å‰ï¼Œå®ä»»åŠ¡-å¾®ä»»åŠ¡-UIæ›´æ–°â€“$nextTickâ€“UIæ›´æ–°-å®ä»»åŠ¡-å¾®ä»»åŠ¡)ã€‚ è¡¥å……ä¸€ä¸‹ä¸‹é¢éœ€è¦ç”¨åˆ°çš„ï¼šMutationObserveræ˜¯HTML5æ–°å¢çš„å±æ€§ï¼Œç”¨äºç›‘å¬DOMä¿®æ”¹äº‹ä»¶ï¼Œèƒ½å¤Ÿç›‘å¬åˆ°èŠ‚ç‚¹çš„å±æ€§ã€æ–‡æœ¬å†…å®¹ã€å­èŠ‚ç‚¹ç­‰çš„æ”¹åŠ¨ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åˆ©å™¨ï¼ŒåŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š 123456789101112//MOåŸºæœ¬ç”¨æ³•var observer = new MutationObserver(function(){ console.log('DOMè¢«ä¿®æ”¹äº†ï¼');});var dom = document.querySelector('.d');observer.observer(dom)setTimeout(()=&gt;{for(let i=0; i&lt;100; i++){ dom.style.left = i + 'px';}},1000) ä¸Šé¢çš„ä»£ç ï¼Œrenderåªä¼šæ¸²æŸ“ä¸€æ¬¡ï¼Œå› ä¸ºè¿™ä¸ªsetTimeoutæ˜¯ä¸€ä¸ªå®ä»»åŠ¡taskã€‚ åªè¦è®©nextTické‡Œçš„ä»£ç æ”¾åœ¨UI renderæ­¥éª¤åé¢æ‰§è¡Œï¼Œå°±èƒ½æ‹¿åˆ°æ›´æ–°åçš„domï¼Œvueå°±æ˜¯åŸºäºäº‹ä»¶å¾ªç¯çš„æ€è·¯å®ç°çš„$nextTickã€‚ å½“ç„¶vueåšçš„æ›´ä½³çš„ä¸¥è°¨å‹å¥½ã€‚å…ˆæ¥çœ‹çœ‹vueå†…éƒ¨å®ç°çš„æ ¸å¿ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536export let isUsingMicroTask = falseif (typeof Promise !== 'undefined' &amp;&amp; isNative(Promise)) { //åˆ¤æ–­1ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒPromise const p = Promise.resolve() timerFunc = () =&gt; { p.then(flushCallbacks) if (isIOS) setTimeout(noop) } isUsingMicroTask = true} else if (!isIE &amp;&amp; typeof MutationObserver !== 'undefined' &amp;&amp; ( isNative(MutationObserver) || MutationObserver.toString() === '[object MutationObserverConstructor]')) { //åˆ¤æ–­2ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒMutationObserver let counter = 1 const observer = new MutationObserver(flushCallbacks) const textNode = document.createTextNode(String(counter)) observer.observe(textNode, { characterData: true }) timerFunc = () =&gt; { counter = (counter + 1) % 2 textNode.data = String(counter) } isUsingMicroTask = true} else if (typeof setImmediate !== 'undefined' &amp;&amp; isNative(setImmediate)) { //åˆ¤æ–­3ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒsetImmediate timerFunc = () =&gt; { setImmediate(flushCallbacks) }} else { //åˆ¤æ–­4ï¼šä¸Šé¢éƒ½ä¸è¡Œï¼Œç›´æ¥ç”¨setTimeout timerFunc = () =&gt; { setTimeout(flushCallbacks, 0) }} vueçš„é™çº§ç­–ç•¥ï¼švueæ ¹æ®å½“å‰ç¯å¢ƒæ¥åˆ¤æ–­æ˜¯ç”¨ä»€ä¹ˆæ–¹æ³•(Promise.thenã€MutationObserverã€setImmediateã€setTimeout)æŠŠå›è°ƒæ·»åŠ åˆ°renderåé¢æ‰§è¡Œã€‚ ä½†æ˜¯ä»–ä¼˜å…ˆæ”¾åœ¨å¾®ä»»åŠ¡ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒVue.nextTickå°±æ˜¯å¸Œæœ›åœ¨DOMæ›´æ–°åï¼Œå°½å¯èƒ½æ—©åœ°è°ƒç”¨ä¼ é€’çš„å›è°ƒå‡½æ•°callbackã€‚è¿™æ—¶ï¼Œå¾®ä»»åŠ¡å°±æ˜¯ä¸€ä¸ªæœ€ä½³çš„é€‰æ‹©ã€‚ ä¸ç®¡æ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡ï¼Œä»–éƒ½åœ¨ä¸€ä¸ªå«åšflushCallbacksçš„å‡½æ•°é‡Œé¢ä»callbackså–å‡ºå›è°ƒç„¶åæ‰§è¡Œ(ä¸ç®¡æ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡éƒ½æ˜¯åœ¨renderçš„æœ«å°¾) 12345678function flushCallbacks () { pending = false const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) { copies[i]() }} å¤§è‡´æµç¨‹å°±æ˜¯ ä¿®æ”¹dom(ä¼šå¯¼è‡´æ›´æ–°UIçš„æ“ä½œ) æ‰§è¡Œthis.$nextTick(cb) this.$nextTick(cb)æŠŠcbæ·»åŠ åˆ°å†…éƒ¨çš„callbacksä¸­ï¼Œ vueåˆ¤æ–­å½“å‰ç¯å¢ƒï¼Œè¿›è¡Œé™çº§ç­–ç•¥ UI renderæ¸²æŸ“ flushCallbacksä»callbacksä¸­å–å‡ºnextTickçš„å›è°ƒè¿›è¡Œæ‰§è¡Œ æ‹†åˆ†CPUè¿‡è½½ä»»åŠ¡123456789101112131415let i = 0;let start = Date.now();function count() { // åšä¸€ä¸ªç¹é‡çš„ä»»åŠ¡ for (let j = 0; j &lt; 1e9; j++) { i++; } alert(&quot;Done in &quot; + (Date.now() - start) + 'ms');}count(); è¿™ç§æƒ…å†µæµè§ˆå™¨ç”šè‡³å¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªâ€œè„šæœ¬æ‰§è¡Œæ—¶é—´è¿‡é•¿â€çš„è­¦å‘Šã€‚è®©æˆ‘ä»¬ä½¿ç”¨åµŒå¥—çš„ setTimeout è°ƒç”¨æ¥æ‹†åˆ†è¿™ä¸ªä»»åŠ¡ï¼š 123456789101112131415161718let i = 0;let start = Date.now();function count() { // åšç¹é‡çš„ä»»åŠ¡çš„ä¸€éƒ¨åˆ† (*) do { i++; } while (i % 1e6 != 0); if (i == 1e9) { alert(&quot;Done in &quot; + (Date.now() - start) + 'ms'); } else { setTimeout(count); // å®‰æ’ï¼ˆscheduleï¼‰æ–°çš„è°ƒç”¨ (**) }}count(); å•æ¬¡æ‰§è¡Œ count ä¼šå®Œæˆå·¥ä½œçš„ä¸€éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®éœ€è¦é‡æ–°å®‰æ’ï¼ˆscheduleï¼‰è‡ªèº«çš„æ‰§è¡Œï¼Œç±»ä¼¼â€œå¤šçº¿ç¨‹â€ï¼š 1.é¦–å…ˆæ‰§è¡Œè®¡æ•°ï¼ši=1â€¦1000000ã€‚ 2.ç„¶åæ‰§è¡Œè®¡æ•°ï¼ši=1000001..2000000ã€‚ ä½†æ˜¯è¿™æ ·ä»–çš„æ‰§è¡Œè€—æ—¶å®é™…ä¸Šæ²¡æœ‰å¤šå°‘æ”¹å˜è®©æˆ‘ä»¬æ¥åšä¸€ä¸ªæ”¹è¿›ã€‚æˆ‘ä»¬å°†è¦æŠŠè°ƒåº¦ï¼ˆschedulingï¼‰ç§»åŠ¨åˆ° count() çš„å¼€å¤´ï¼Œç±»ä¼¼â€œå¤šçº¿ç¨‹â€å¹¶å‘ï¼š 1234567891011121314151617181920let i = 0;let start = Date.now();function count() { // å°†è°ƒåº¦ï¼ˆschedulingï¼‰ç§»åŠ¨åˆ°å¼€å¤´ã€‚â€œå¤šçº¿ç¨‹çš„æ„Ÿè§‰â€ if (i &lt; 1e9 - 1e6) { setTimeout(count); // å®‰æ’ï¼ˆscheduleï¼‰æ–°çš„è°ƒç”¨ } do { i++; } while (i % 1e6 != 0); if (i == 1e9) { alert(&quot;Done in &quot; + (Date.now() - start) + 'ms'); }}count(); asyncï¼Œawaitï¼ŒqueueMicrotaskæ‰§è¡Œåˆ†æasyncï¼Œawait12345678910111213141516171819202122232425//è¯·å†™å‡ºè¾“å‡ºå†…å®¹async function async1() { console.log('async1 start'); await async2(); console.log('async1 end');}async function async2() { console.log('async2');}console.log('script start');setTimeout(function() { console.log('setTimeout');}, 0)async1();new Promise(function(resolve) { console.log('promise1'); resolve();}).then(function() { console.log('promise2');});console.log('script end'); 1.é¦–å…ˆï¼Œäº‹ä»¶å¾ªç¯ä»å®ä»»åŠ¡(macrotask)é˜Ÿåˆ—å¼€å§‹ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰ä¸€ä¸ªscript(æ•´ä½“ä»£ç )ä»»åŠ¡ï¼›å½“é‡åˆ°ä»»åŠ¡æº(task source)æ—¶ï¼Œåˆ™ä¼šå…ˆåˆ†å‘ä»»åŠ¡åˆ°å¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ã€‚æ‰€ä»¥ï¼Œ 2.ç„¶åæˆ‘ä»¬çœ‹åˆ°é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªasyncå‡½æ•°ï¼Œæ¥ç€å¾€ä¸‹çœ‹ï¼Œç„¶åé‡åˆ°äº† console è¯­å¥ï¼Œç›´æ¥è¾“å‡º script startã€‚è¾“å‡ºä¹‹åï¼Œscript ä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œé‡åˆ° setTimeoutï¼Œå…¶ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æºï¼Œåˆ™ä¼šå…ˆå°†å…¶ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼š 3.script ä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæ‰§è¡Œäº†async1()å‡½æ•°ï¼Œå‰é¢è®²è¿‡asyncå‡½æ•°ä¸­åœ¨awaitä¹‹å‰çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ä¼šç«‹å³è¾“å‡ºasync1 startã€‚ é‡åˆ°äº†awaitæ—¶ï¼Œä¼šå°†awaitåé¢çš„è¡¨è¾¾å¼æ‰§è¡Œä¸€éï¼Œæ‰€ä»¥å°±ç´§æ¥ç€è¾“å‡ºasync2ï¼Œç„¶åå°†awaitåé¢çš„ä»£ç ä¹Ÿå°±æ˜¯console.log(â€˜async1 endâ€™)åŠ å…¥åˆ°microtaskä¸­çš„Promiseé˜Ÿåˆ—ä¸­ï¼Œæ¥ç€è·³å‡ºasync1å‡½æ•°æ¥æ‰§è¡Œåé¢çš„ä»£ç ã€‚ 4.scriptä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œé‡åˆ°Promiseå®ä¾‹ã€‚ç”±äºPromiseä¸­çš„å‡½æ•°æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œè€Œåç»­çš„ .then åˆ™ä¼šè¢«åˆ†å‘åˆ° microtask çš„ Promise é˜Ÿåˆ—ä¸­å»ã€‚æ‰€ä»¥ä¼šå…ˆè¾“å‡º promise1ï¼Œç„¶åæ‰§è¡Œ resolveï¼Œå°† promise2 åˆ†é…åˆ°å¯¹åº”é˜Ÿåˆ—ã€‚ 5.scriptä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæœ€ååªæœ‰ä¸€å¥è¾“å‡ºäº† script endï¼Œè‡³æ­¤ï¼Œå…¨å±€ä»»åŠ¡å°±æ‰§è¡Œå®Œæ¯•äº†ã€‚ æ ¹æ®ä¸Šè¿°ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¸€ä¸ªå®ä»»åŠ¡ä¹‹åï¼Œä¼šå»æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtasksï¼›å¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œ Microtasks ç›´è‡³æ¸…ç©º Microtask Queueã€‚ å› è€Œåœ¨scriptä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå¼€å§‹æŸ¥æ‰¾æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ï¼Œå¾®ä»»åŠ¡ä¸­ï¼Œ Promise é˜Ÿåˆ—æœ‰çš„ä¸¤ä¸ªä»»åŠ¡async1 endå’Œpromise2ï¼Œå› æ­¤æŒ‰å…ˆåé¡ºåºè¾“å‡º async1 endï¼Œpromise2ã€‚å½“æ‰€æœ‰çš„ Microtasks æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œè¡¨ç¤ºç¬¬ä¸€è½®çš„å¾ªç¯å°±ç»“æŸäº†ã€‚ 6.ç¬¬äºŒè½®å¾ªç¯ä¾æ—§ä»å®ä»»åŠ¡é˜Ÿåˆ—å¼€å§‹ã€‚æ­¤æ—¶å®ä»»åŠ¡ä¸­åªæœ‰ä¸€ä¸ª setTimeoutï¼Œå–å‡ºç›´æ¥è¾“å‡ºå³å¯ï¼Œè‡³æ­¤æ•´ä¸ªæµç¨‹ç»“æŸã€‚ queueMicrotaskè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•° queueMicrotask(func)ï¼Œå®ƒå¯¹ func è¿›è¡Œæ’é˜Ÿï¼Œè®©funcåœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œã€‚ç±»ä¼¼å†™åŒæ­¥ä»£ç ä¸€æ ·ï¼Œä½†æ˜¯ä»–æ˜¯æ’åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾ 1234567891011121314151617181920console.log(1)setTimeout(()=&gt;{ console.log('å®ä»»åŠ¡1') queueMicrotask(()=&gt;{ console.log('å¾®ä»»åŠ¡2') })})setTimeout(()=&gt;{ console.log('å®ä»»åŠ¡2') queueMicrotask(()=&gt;{ console.log('å¾®ä»»åŠ¡3') })})queueMicrotask(()=&gt;{ console.log('å¾®ä»»åŠ¡1')})console.log(2)// è¢«å®ä»»åŠ¡åµŒå¥—çš„å¾®ä»»åŠ¡ï¼Œåœ¨å®ä»»åŠ¡åæ‰§è¡Œï¼Œå¹¶ä¸ä¼šæœ‰æ’é˜Ÿç°è±¡// 1 2 å¾®ä»»åŠ¡1 å®ä»»åŠ¡1 å¾®ä»»åŠ¡2 å®ä»»åŠ¡2 å¾®ä»»åŠ¡3 Nodeçš„äº‹ä»¶å¾ªç¯Nodeçš„äº‹ä»¶å¾ªç¯æ˜¯libuvå®ç°çš„ï¼Œå¼•ç”¨ä¸€å¼ å®˜ç½‘çš„å›¾ï¼š å¤§ä½“çš„taskï¼ˆå®ä»»åŠ¡ï¼‰æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š timerså®šæ—¶å™¨ï¼šæœ¬é˜¶æ®µæ‰§è¡Œå·²ç»å®‰æ’çš„ setTimeout() å’Œ setInterval() çš„å›è°ƒå‡½æ•°ã€‚ pending callbackså¾…å®šå›è°ƒï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I/O å›è°ƒã€‚ idle, prepareï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ã€‚ poll è½®è¯¢ï¼šæ£€ç´¢æ–°çš„ I/O äº‹ä»¶;æ‰§è¡Œä¸ I/O ç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ç”±è®¡æ—¶å™¨å’Œ setImmediate() æ’å®šçš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨æ­¤å¤„é˜»å¡ã€‚ check æ£€æµ‹ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œã€‚ close callbacks å…³é—­çš„å›è°ƒå‡½æ•°ï¼šä¸€äº›å‡†å¤‡å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)ã€‚ å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨Nodeçš„æ‰§è¡Œé¡ºåº Node 10ä»¥å‰ï¼š æ‰§è¡Œå®Œä¸€ä¸ªé˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡ æ‰§è¡Œå®ŒnextTické˜Ÿåˆ—é‡Œé¢çš„å†…å®¹ ç„¶åæ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„å†…å®¹ Node 11ä»¥åï¼š å’Œæµè§ˆå™¨çš„è¡Œä¸ºç»Ÿä¸€äº†ï¼Œéƒ½æ˜¯æ¯æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡å°±æ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚","link":"/2020/11/11/20201111%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6/"},{"title":"åŸºäºjså®ç°ä¸€ä¸ªæœ‰åºä»»åŠ¡é˜Ÿåˆ—","text":"æœ€è¿‘å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®é¦–é¡µæ¸²æŸ“çš„æ—¶å€™ç”±äºä¸€æ¬¡å›¾ç‰‡é‡è¿‡å¤§ï¼ˆå›¾ç‰‡å°ºå¯¸å°ä¸”è¿˜è¦è§£å¯†ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¡é¡¿ã€‚å¦‚æœèƒ½è®©ä»–ä»¬æŒ‰ç…§é¡ºåºåŠ è½½(ä½†æ˜¯åŠ è½½çš„æ—¶é—´ä¸ä¿è¯ï¼Œå› ä¸ºå›¾ç‰‡çš„å¤§å°ä¸ä¸€æ ·)ã€‚ å®ç°äº†å¦‚ä¸‹ç®€æ˜“é˜Ÿåˆ—ã€‚åŸºæœ¬ä»£ç è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æˆ‘ç»™ä»–é¢„ç•™äº†å¾ˆå¤šå¯ä»¥æ‹“å±•çš„ç©ºé—´ã€‚å¦‚æœä»¥åç”¨å¾—ä¸Šé‚£ä¹ˆè¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚ 123456params size å®¹é‡(æœ€å¤§å¯ä»¥ä¸€èµ·æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡) callback ä»»åŠ¡å›è°ƒã€‚æ¯ä¸ªå›è°ƒæ‰§è¡Œå®Œäº†è¿‡åè§¦å‘ï¼Œå‚æ•°ä¸ºä»»åŠ¡Promiseçš„resovleçš„å€¼method destroyed åœæ­¢é˜Ÿåˆ—(å·²ç»æŠ›å‡ºçš„ä»»åŠ¡ä»ç„¶ä¼šç»§ç»­æ‰§è¡Œï¼Œè¿™é‡Œä¸»è¦æ˜¯å¯¹æˆ‘æ²¡ä»€ä¹ˆå½±å“ï¼Œå¦‚è¦æœ‰å…¶ä»–éœ€è¦å¯ä»¥è‡ªå·±å®šä¹‰æ‹“å±•) add æ¯ä¸€ä¸ªä»»åŠ¡çš„å›è°ƒï¼Œè¿”å›å¿…é¡»æ˜¯Promiseã€‚resolveå‡ºå»çš„å€¼ä¼šä½œä¸ºcallbackçš„å‚æ•° æ³¨æ„ï¼Œä¸ºäº†é˜²æ­¢é˜Ÿå‹ä¹±æ¥ï¼Œå› ä¸ºjsçš„classå¹¶ä¸æ”¯æŒç§æœ‰æ–¹æ³•å’Œå±æ€§ã€‚æˆ‘åˆ©ç”¨symbolçš„å”¯ä¸€æ€§å’Œé—­åŒ…å®šä¹‰å±€éƒ¨å˜é‡ä¸ºä»–å®ç°äº†ç§æœ‰æ–¹æ³•å’Œå±æ€§ã€‚å½“ç„¶ç§æœ‰æ–¹æ³•å’Œå±æ€§çš„å®ç°æ–¹æ³•ä¸å”¯ä¸€ï¼Œå®ç°çš„æ–¹æ³•æœ‰å¾ˆå¤šå§ã€‚æ¯”å¦‚ 123456789101112131415161718192021function TbPool(){ const size = new WeakMap(); const run = new WeakMap(); class Pool { constructor(){ this.b = 'bè¿™æ˜¯å…¬æœ‰å˜é‡'; size.set(this, 'ç§æœ‰å˜é‡size') run.set(this, ()=&gt;{ console.log(&quot;ç§æœ‰æ–¹æ³•&quot;) }) } test(){ console.log(size.get(this)); run.get(this)() } } return new Pool()}let q = TbPool()console.log(q)q.test() ä¸šåŠ¡ä¸­ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374function TbPool(arg){ const listener=Symbol(&quot;listener&quot;) const taskRun=Symbol(&quot;taskRun&quot;) const tasksTimer=Symbol(&quot;tasksTimer&quot;) const queenTimer=Symbol(&quot;queenTimer&quot;) const queen=Symbol(&quot;queen&quot;) const tasks=Symbol(&quot;tasks&quot;) const size=Symbol(&quot;size&quot;) class Pool { constructor(obj={}){ this[size]=obj.size||10 this[queen]=[] this[tasks]=[] for(let i=0;i&lt;this[size];i++){this[tasks].push({status:-1,task:null})} this[listener]=function(e){ obj.callback(e) } this[taskRun]=function(index){ this[tasks][index].status=1 this[tasks][index].task().then(res=&gt;{ this[listener](res) this[tasks][index]={status:-1,task:null} }) } this[tasksTimer]=setInterval(()=&gt;{ var isHasWait=this[tasks].findIndex(item=&gt;item.status===0) if(isHasWait!==-1){ for(let i=0;i&lt;this[tasks].length;i++){if(this[tasks][i].status===0)this[taskRun](i)} } }) this[queenTimer]=setInterval(()=&gt;{ var isHasWait=this[tasks].findIndex(item=&gt;item.status===-1) if(this[queen].length&amp;&amp;(isHasWait!==-1)){ for(let i=0;i&lt;this[queen].length;i++){ var index=this[tasks].findIndex(item=&gt;item.status===-1) if(index!==-1)this[tasks][index]=this[queen].shift() } } }) } add(data=[]){ for(let i=0;i&lt;data.length;i++){ this[queen].push({status:0,task:data[i]}) } } destroyed() { clearInterval(this[tasksTimer]) clearInterval(this[queenTimer]) } } return new Pool(arg)}//åˆå§‹åŒ–var q =TbPool({ size:6,//å®¹é‡(æœ€å¤§å¯ä»¥ä¸€èµ·æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡) callback:function(e){//ä»»åŠ¡å›è°ƒã€‚æ¯ä¸ªå›è°ƒæ‰§è¡Œå®Œäº†è¿‡åè§¦å‘ï¼Œå‚æ•°ä¸ºä»»åŠ¡Promiseçš„resovleçš„å€¼ console.log(&quot;callbackç›‘å¬:&quot;,e) }})console.log(q)//æ¯ä¸€ä¸ªä»»åŠ¡çš„å›è°ƒï¼Œè¿”å›å¿…é¡»æ˜¯Promisefunction f2(){ return new Promise((r)=&gt;{ setTimeout(()=&gt;{r(`å½“å‰å®Œæˆä»»åŠ¡:${new Date().valueOf()}`)},3000) })}function f3(){ //åœæ­¢é˜Ÿåˆ—(å·²ç»æŠ›å‡ºçš„ä»»åŠ¡ä»ç„¶ä¼šç»§ç»­æ‰§è¡Œï¼Œå¯ä»¥è‡ªå·±å®šä¹‰æ‹“å±•) q.destroyed()}setInterval(()=&gt;{ //æ·»åŠ ä»»åŠ¡ q.add([f2,f2])},1000)","link":"/2020/12/09/20201209%E5%9F%BA%E4%BA%8Ejs%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%9C%89%E5%BA%8F%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97/"},{"title":"Fetchç½‘ç»œè¯·æ±‚çš„è½»åº¦å°è£…","text":"æ¯”è¾ƒå–œæ¬¢fetchï¼Œä¸éœ€è¦ä½¿ç”¨ä»»ä½•ä¾èµ–ï¼Œè½»é‡ï¼Œç®€ä»‹ã€‚ è¿™é‡Œæ—¶é—´ä¸å¤šï¼Œæœ€è¿‘èµ¶ä¸Šçº¿ï¼Œä¸‹é¢è¿™æ˜¯ç¨å¾®çš„å°è£…ï¼Œæ¯”è¾ƒç²—ç³™ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœåç«¯æ˜¯è¡¨å•è§£æï¼Œå‰ç«¯POSTè¯·æ±‚Content-Typeæœ‰ä¸¤ä¸ªå€¼ application/x-www-form-urlencoded; æ˜¯æµè§ˆå™¨é»˜è®¤çš„ç¼–ç æ ¼å¼ï¼Œç”¨äºé”®å€¼å¯¹å‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨&amp;é—´éš”ï¼ŒPOSTè¯·æ±‚ï¼Œåç«¯ç”¨è¡¨å•è§£æï¼› multipart/form-data; ç”¨äºé”®å€¼å¯¹å‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨&amp;é—´éš”ï¼ŒPOSTè¯·æ±‚ï¼Œåç«¯ç”¨è¡¨å•è§£æï¼Œä»–èƒ½æºå¸¦äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚æœGETè¯·æ±‚çš„æ—¶å€™ï¼ŒContent-Typeè¿˜æ˜¯è¿™ä¸ªå€¼ï¼Œå¯èƒ½å‡ºç°é—®é¢˜ã€‚éœ€è¦æ³¨æ„ï¼› fetchå®ç°ä¸‹è½½å’Œä¸Šä¼ è¿›åº¦ä¸æ˜¯å¾ˆå‹å¥½ï¼Œè¿™é‡Œæ˜¯ä¹‹å‰å®ç°çš„demoï¼Œè¦å®ç°ä¸Šä¼ ä¸‹è½½è¿›åº¦è¿˜æ˜¯ç”¨XHRå¥½çš„å¤š fetchè¯·æ±‚ç®€æ˜“demo éœ€è¦å¼•å…¥qsï¼›src=â€https://cdn.bootcss.com/qs/6.7.0/qs.min.js&quot;vueæˆ–è€…reactä¸­ï¼Œæ–‡ä»¶éœ€è¦ç›¸äº’å¼•å…¥ï¼Œhtmlç›´æ¥å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å°±å¯ä»¥ï¼›ä¸‹è½½æ–‡ä»¶ç›´æ¥ç”¨æµè§ˆå™¨ï¼› qsåŸºç¡€è§£é‡Šss 12345678910111213141516171819202122232425262728qs.stringify({ids: [1, 2, 3]}, {indices: false})//å½¢å¼ï¼šids=1&amp;ids=2&amp;id=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: 'indices'}) //å½¢å¼ï¼šids[0]=1&amp;ids[1]=2&amp;ids[2]=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: 'brackets'}) //å½¢å¼ï¼šids[]=1&amp;ids[]=2&amp;ids[]=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: 'repeat'}) //å½¢å¼ï¼š ids=1&amp;ids=2&amp;id=3//go å–å€¼ c.GetPostFormArray(&quot;hobs&quot;) qs.stringify({ids: [1, 2, 3]}, {arrayFormat: 'repeat'}) let json = { a: { b: { c: 'd', e: 'f' } } };qs.stringify(json);//ç»“æœ 'a[b][c]=d&amp;a[b][e]=f'qs.stringify(json, {allowDots: true});//ç»“æœ 'a.b.c=d&amp;a.b.e=f'//go å–å€¼ c.GetPostFormArray(&quot;kv&quot;) allowDots: falseï¼ˆé»˜è®¤) å¯¹è±¡ä½¿ç”¨ kv[a]=1 kv[b]=2 //goå–å€¼å¦‚ä¸‹name: tabbyage: 18hobs: 1hobs: 2hobs: 3kv[a]: 1kv[b]: 2 é…ç½®æ–‡ä»¶ è¿™ä¸ªå¯¹è±¡ä¸­çš„å‚æ•°æ˜¯è¦†ç›–CustomDefaultConfigçš„å‚æ•°ï¼Œè¯¦æƒ…æŸ¥çœ‹CustomDefaultConfig è¿™ä¸ªå¯¹è±¡ä¸­çš„å‚æ•°æ˜¯è¦†ç›–CustomDefaultErrorçš„å‚æ•°ï¼Œè¯¦æƒ…æŸ¥çœ‹CustomDefaultError è‡ªå®šä¹‰é”™è¯¯ã€‚CustomDefaultError.getErræ‰€æœ‰æŠ›å‡ºï¼ˆè¯·æ±‚(interceptorsReq)/(interceptorsResp)å“åº”æ‹¦æˆªï¼Œè¯·æ±‚éªŒè¯(validateStatus)ï¼Œè¯·æ±‚é”™è¯¯â€¦ï¼‰éƒ½ä¼šåœ¨è¯·æ±‚çš„catché‡Œé¢çš„å‡ºç°ã€‚ 1234567const userConfig = { baseURL: 'http://127.0.0.1:8080', timeout: 3000,}const userErr = {} å¯¼å…¥åˆ°ä¸‹é¢æ–‡ä»¶ä¸­ä¹Ÿå¿…é¡»å«userErrï¼ŒuserConfigã€‚æ¯”å¦‚ import userConfig from â€¦â€¦. è¯·æ±‚æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318//fetché»˜è®¤å‚æ•° const FetchDefaultConfig = { headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;', 'test': &quot;1&quot; // 'Content-Type':'application/json;charset=utf-8;' }, /* same-originï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè¯¥æ¨¡å¼æ˜¯ä¸å…è®¸è·¨åŸŸçš„ï¼Œå®ƒéœ€è¦éµå®ˆåŒæºç­–ç•¥ï¼Œå¦åˆ™æµè§ˆå™¨ä¼šè¿”å›ä¸€ä¸ªerrorå‘ŠçŸ¥ä¸èƒ½è·¨åŸŸï¼›å…¶å¯¹åº”çš„response typeä¸ºbasicã€‚ cors: è¯¥æ¨¡å¼æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œé¡¾åæ€ä¹‰å®ƒæ˜¯ä»¥CORSçš„å½¢å¼è·¨åŸŸï¼›å½“ç„¶è¯¥æ¨¡å¼ä¹Ÿå¯ä»¥åŒåŸŸè¯·æ±‚ä¸éœ€è¦åç«¯é¢å¤–çš„CORSæ”¯æŒï¼›å…¶å¯¹åº”çš„response typeä¸ºcorsã€‚ no-cors: è¯¥æ¨¡å¼ç”¨äºè·¨åŸŸè¯·æ±‚ä½†æ˜¯æœåŠ¡å™¨ä¸å¸¦CORSå“åº”å¤´ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç«¯ä¸æ”¯æŒCORSï¼›è¿™ä¹Ÿæ˜¯fetchçš„ç‰¹æ®Šè·¨åŸŸè¯·æ±‚æ–¹å¼ï¼›å…¶å¯¹åº”çš„response typeä¸ºopaqueã€‚ é’ˆå¯¹è·¨åŸŸè¯·æ±‚ï¼Œcorsæ¨¡å¼æ˜¯å¸¸è§è·¨åŸŸè¯·æ±‚å®ç°ï¼Œä½†æ˜¯fetchè‡ªå¸¦çš„no-corsè·¨åŸŸè¯·æ±‚æ¨¡å¼åˆ™è¾ƒä¸ºé™Œç”Ÿï¼Œè¯¥æ¨¡å¼æœ‰ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„ç‰¹ç‚¹ï¼š */ // mode: &quot;cors&quot;, /* default : é»˜è®¤è¡Œä¸ºï¼Œfreshä½¿ç”¨cacheï¼Œstaleä¸æœåŠ¡å™¨é€šä¿¡æ£€æŸ¥èµ„æºå˜åŒ–ï¼ˆåå•†ç¼“å­˜ï¼‰ no-cache : æ— è®ºfreshè¿˜æ˜¯staleï¼Œéƒ½ä¸æœåŠ¡å™¨é€šä¿¡æ£€æŸ¥èµ„æºå˜åŒ–ï¼ˆåå•†ç¼“å­˜ï¼‰ force-cache : æ— è®ºfreshè¿˜æ˜¯staleï¼Œéƒ½ä½¿ç”¨cache */ // cache:&quot;&quot;, /* credentials : æŒ‡å®šè¯¥è¯·æ±‚æ˜¯å¦æºå¸¦cookieæˆ–å…¶ä»–credentials include : æ€»æ˜¯æºå¸¦cookieï¼Œæ— è®ºåŒæºè¿˜æ˜¯è·¨åŸŸ same-origin : é»˜è®¤å€¼ï¼Œä»…åœ¨åŒæºè¯·æ±‚æ—¶æºå¸¦cookie omit : ä»ä¸æºå¸¦cookie */ // credentials: 'same-origin', /* æ ‡è¯†è¯·æ±‚çš„â€œæ¥æºâ€ï¼Œä¸€èˆ¬ä¸å»ºè®®æ‰‹åŠ¨è®¾ç½® same-origin URL about:client empty string â€œâ€ */ // referrer:&quot;&quot;, /* æŒ‡å®šè®¾ç½® Referer HTTP headerçš„è§„åˆ™ é»˜è®¤å€¼ä¸º strict-origin-when-cross-origin ï¼Œå…·ä½“è¡Œä¸ºè¡¨ç°ä¸ºï¼š åŒæºè¯·æ±‚ï¼ŒReferer headerä¸­å†™å…¥å®Œæ•´çš„URL è·¨åŸŸè¯·æ±‚ï¼ŒReferer headerä¸­ä»…å†™å…¥å½“å‰è¯·æ±‚URLçš„origin è¯·æ±‚non-potentially trustworthy URLï¼Œæ— Referer header */ // referrerpolicy:&quot;strict-origin-when-cross-origin&quot;, /* æŒ‡å®šé‡åˆ°é‡å®šå‘çš„è¡Œä¸º follow : é»˜è®¤å€¼ï¼Œè·Ÿéšé‡å®šå‘URL error : å¦‚æœé‡åˆ°é‡å®šå‘ï¼Œä¸­æ–­è¯·æ±‚æŠ›å‡ºError manual */ // redirect:&quot;&quot;, } //è‡ªå®šä¹‰é»˜è®¤å‚æ•° const CustomDefaultConfig = { reqURL: function (router) { return this.baseURL + router }, ///è¯·æ±‚éªŒè¯ validateStatus: function (res) { if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) return Promise.resolve(res) else return Promise.reject(res) }, ///GETè¯·æ±‚å‚æ•°hookï¼ˆä¿®æ”¹å¿…é¡»éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼‰ transformQuery: function (params) { return Qs.stringify(params, { arrayFormat: 'repeat' }) }, ///Postä¸Šä¼ æ–‡ä»¶æ—¶å€™çš„hookï¼ˆä¿®æ”¹å¿…é¡»éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼‰ transformReqFiles: function (params, files = []) { var formData = new FormData() try { ///æ·»åŠ æ–‡ä»¶ files.forEach((i) =&gt; { var maps = Object.entries(i)[0] formData.append(maps[0], maps[1]) }) ///æ·»åŠ å‚æ•° var maps = this.transformReq(params).split(&quot;&amp;&quot;) maps.forEach(i =&gt; { var s = i.split(&quot;=&quot;) formData.append(decodeURIComponent(s[0]), decodeURIComponent(s[1])) }); return formData } catch (error) { console.error(error) return new FormData() } }, ///Geté™¤å¤–è¯·æ±‚å‚æ•°hookï¼ˆä¿®æ”¹éœ€è¦æ ¹æ®Content-Typeï¼‰ transformReq: function (params) { // return JSON.stringify(params) // 'Content-Type':'application/json;charset=utf-8;' return Qs.stringify(params, {arrayFormat: 'repeat'}) // 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;' }, ///è¯·æ±‚å“åº”å‚æ•°ç¿»è¯‘ transformResp: function (params) { return params }, ///è¯·æ±‚æ‹¦æˆªï¼ˆè¿™é‡Œçš„é”™è¯¯ä¼šç›´æ¥åˆ°dealErrï¼Œå¦‚æœè¦æŠ¥é”™å¿…é¡»åœ¨optionsé‡Œé¢æ·»åŠ  interceptorsErr ={code,data,msg}ï¼‰ interceptorsReq: function (options) { return Promise.resolve(options) // return Promise.reject({...options,interceptorsErr:{code:401}}) }, ///å“åº”æ‹¦æˆªï¼ˆè¿™é‡Œçš„é”™è¯¯ä¼šç›´æ¥åˆ°dealErrï¼Œå¦‚æœè¦æŠ¥é”™å¿…é¡»åœ¨optionsé‡Œé¢æ·»åŠ  interceptorsErr ={code,data,msg}ï¼‰ interceptorsResp: function (options) { return Promise.resolve(options) // return Promise.reject({...options,interceptorsErr:{code:1,data:2,msg:&quot;3&quot;}}) }, ...userConfig, } //é»˜è®¤é”™è¯¯å¤„ç†è¿™é‡Œå¤„ç†çš„æ˜¯è¯·æ±‚ä¸­çš„ç½‘ç»œé”™è¯¯ const CustomDefaultError = { 400: &quot;Bad Request&quot;, 401: &quot;Unauthorized&quot;, 403: &quot;Bad Request&quot;, 408: &quot;Request Time-out&quot;, 600: &quot;Request cancel&quot;, 601: &quot;unknown&quot;, 602: &quot;Request XHR-Err&quot;, ...userErr, getErr(code,resp,msg) { ///è¿™é‡Œå¯ä»¥å¤„ç†ç”¨æˆ·æœªç™»å½•è·³è½¬ return { errCode: code||601, data:resp, errMsg: msg||this[code] || this[601] } } } class HttpClient { URL = &quot;&quot; data = null auth = &quot;&quot; outTimer = null abortController = null constructor(router, data, options = {}) { //è®¾ç½®å‚æ•° this.data = data //æ„é€ è¯·æ±‚å‚æ•° this.URL = CustomDefaultConfig.reqURL(router) //æ˜¯å¦éœ€è¦token this.auth = options.auth || false //æ„é€ options this.options = { ...FetchDefaultConfig } //è®¾ç½®å–æ¶ˆsignal if (options.controller) this.abortController = options.controller else this.abortController = new AbortController(); this.options.signal = this.abortController.signal ///é‡å†™headers Object.assign(this.options.headers, options.headers || {}) } Request(files = []) { return new Promise((resolve, reject) =&gt; { try { ///è¯·æ±‚æ‹¦æˆªå™¨ CustomDefaultConfig.interceptorsReq(this.options).then((_options) =&gt; { ///è®¾ç½®è¶…æ—¶ this.setOutTimer() ///ç¿»è¯‘è¯·æ±‚å‚æ•° if (_options.method !== &quot;GET&quot; &amp;&amp; _options.method !== &quot;HEAD&quot;) { ///æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰æ–‡ä»¶ if (files.length) { this.clearOutTimer() _options.body = CustomDefaultConfig.transformReqFiles(this.data, files) } else { _options.body = CustomDefaultConfig.transformReq(_options.body) } } ///å‘é€è¯·æ±‚ fetch(this.URL, _options) .then(_res =&gt;{ return _res.json().then(json=&gt;{ Object.assign(_res,{_data:json});return _res })}) ///ç»“æœè½¬jsonï¼ˆåªä¼šè¿”å›å“åº”çš„dataï¼‰ .then(_res =&gt; CustomDefaultConfig.validateStatus(_res)) ///å…ˆåˆ¤æ–­æ˜¯å¦è¯·æ±‚æˆåŠŸfetchéƒ¨åˆ†é”™è¯¯ä¸ä¼šèµ°catch .then(_res =&gt; CustomDefaultConfig.interceptorsResp(_res)) ///å“åº”æ‹¦æˆªå™¨ .then(_res =&gt; CustomDefaultConfig.transformResp(_res._data)) ///å“åº”æˆåŠŸç¿»è¯‘å™¨ .then(data =&gt; { resolve(data)})///è¿”å›ç»“æœ .catch((res) =&gt;{ this.dealErr(res,reject) }) ///è¯·æ±‚å¤±è´¥ .finally(() =&gt; {this.clearOutTimer()}); }).catch((options) =&gt; { options.interceptorsReq=true this.dealErr(options,reject) }); } catch (error) { console.warn(&quot;post.err&quot;, error) } }) } get POST() { this.options.method = &quot;POST&quot; this.options.body = this.data return this.Request() } get GET() { this.options.method = &quot;GET&quot; ///æ„é€ getçš„querryå‚æ•° this.URL = `${this.URL}?${CustomDefaultConfig.transformQuery(this.data)}` return this.Request() } ///[{file:æ–‡ä»¶}] UpFile(files = []) { this.options.method = &quot;POST&quot; this.options.body = this.data this.options.headers=this.getPostFileHeader return this.Request(files) } ///å¸¦è¿›åº¦çš„ä¸Šä¼ æ–‡ä»¶ UpFileProgress(files = [], onprogress) { return new Promise((resolve, reject) =&gt; { CustomDefaultConfig.interceptorsReq(this.options).then(_=&gt;{ var formData = CustomDefaultConfig.transformReqFiles(this.data, files) // XMLHttpRequestå¯¹è±¡ const xhr = new XMLHttpRequest(); this.setOutTimer(); // è¯·æ±‚å®Œæˆã€‚åœ¨æ­¤è¿›è¡Œå¤„ç†ã€‚ xhr.onloadend =(e)=&gt;{ CustomDefaultConfig.validateStatus(xhr) .then(res=&gt;JSON.parse(xhr.responseText)) .then(_res =&gt; CustomDefaultConfig.interceptorsResp(_res)) .then(_res =&gt; CustomDefaultConfig.transformResp(_res)) .then(_res =&gt; {resolve(_res)}) .catch(err=&gt;{this.dealErr(err,reject)}) }; // ä¸Šä¼ è¿›åº¦ xhr.upload.onprogress = (e)=&gt;{ this.clearOutTimer() onprogress&amp;&amp;onprogress(e) } // è®¾ç½®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚åœ°å€ xhr.open(&quot;POST&quot;, this.URL); // è®¾ç½®è¯·æ±‚å¤´åˆ«è®¾ç½® Content-Typeå¦è‡ªä¸ä¼šè‡ªåŠ¨è®¡ç®— var headers=this.getPostFileHeader for (var key in headers) {xhr.setRequestHeader(key,headers[key])} // ä¼ é€’å‚æ•° xhr.send(formData); ///ç›‘å¬å–æ¶ˆ this.options.signal.addEventListener(&quot;abort&quot;, () =&gt; {xhr.abort();}); }).catch(options=&gt;{ this.dealErr(options,reject) }) }) } get getPostFileHeader(){ var newHeaders={} if(this.options.headers){ var headers=JSON.parse(JSON.stringify(this.options.headers)); Object.entries(this.options.headers).forEach(i =&gt; { if (i[0].toLowerCase() !== &quot;content-type&quot;)newHeaders[i[0]]=i[1] }) } return newHeaders } ///é”™è¯¯ç½‘ç»œè¯·æ±‚å¤„ç† dealErr(res, reject) { if(res instanceof Response){///fetch httpå“åº”é”™è¯¯ reject(CustomDefaultError.getErr(res.status,res._data)) }else if(this.options.signal.aborted){///è‡ªå®šä¹‰ä¸­æ–­ï¼Œå¦‚æœreasonä¸º1ä¸ºå–æ¶ˆå¯ä»¥ç›´æ¥ä¸å¤„ç†è¿™ä¸ª if(this.options.signal.reason===408){ ///è¯·æ±‚è¶…æ—¶ reject(CustomDefaultError.getErr(this.options.signal.reason,res._data)) }else{ console.warn(&quot;è¯·æ±‚å–æ¶ˆ&quot;) } }else if(res instanceof XMLHttpRequest){///XMLHttpRequesté”™è¯¯,å…¨éƒ½æ˜¯602é”™è¯¯ reject(CustomDefaultError.getErr(602)) }else if(res.interceptorsErr){///è¯·æ±‚/å“åº”æ‹¦æˆª reject(CustomDefaultError.getErr(res.interceptorsErr.code,res.interceptorsErr.data,res.interceptorsErr.msg)) }else{ console.warn(&quot;æœªçŸ¥é”™è¯¯:&quot;,res) reject(CustomDefaultError.getErr(601)) } } ///å¼€å¯è¶…æ—¶ setOutTimer() { this.outTimer = setTimeout(() =&gt; { this.abortController.abort(408) }, CustomDefaultConfig.timeout + 500) } ///å…³é—­è¶…æ—¶ clearOutTimer() { clearTimeout(this.outTimer) } } ä½¿ç”¨ç¤ºä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879var obj = { name: &quot;tabby&quot;, age: 18, hobs: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;], kv: { a: 1, b: 2 }}// const controller2 = new AbortController(); // //xhrä¸Šä¼ æ–‡ä»¶å¸¦è¿›åº¦æ¡,å¸¦å–æ¶ˆ // var file = document.querySelector(&quot;#file&quot;) // file.addEventListener(&quot;input&quot;, (e) =&gt; { // var fileData = file.files[0] // // setTimeout(()=&gt;{ // // controller2.abort() // // },2000) // new HttpClient(&quot;/post2&quot;, obj,{controller:controller2}) // .UpFileProgress([{file: fileData}],function(e){console.log(&quot;å½“å‰è¿›åº¦&quot;,e.loaded)}) // .then(res=&gt;{ // console.log(res) // }).catch(res=&gt;{ // console.log(res) // }) // }) ////fetch postæ™®é€šè¯·æ±‚ // new HttpClient(&quot;/post2&quot;,obj).POST.then(res=&gt;{ // console.log(res) // }).catch(err=&gt;{ // console.log(err) // }) //fetch postè¯·æ±‚å–æ¶ˆ // new HttpClient(&quot;/post3&quot;,obj,{controller:controller2}).POST.then(res=&gt;{ // console.log(res) // }).catch(err=&gt;{ // console.log(&quot;/post2&quot;,err) // }) // setTimeout(()=&gt;{ // controller2.abort() // },2000) ///fetch postè¯·æ±‚è¶…æ—¶ // new HttpClient(&quot;/post3&quot;,obj).POST.then(res=&gt;{ // console.log(res) // }).catch(err=&gt;{ // console.log(&quot;/post2&quot;,err) // }) ////fetch postè¯·æ±‚ä¸Šä¼ æ–‡ä»¶ // var file=document.querySelector(&quot;#file&quot;) // file.addEventListener(&quot;input&quot;,(e)=&gt;{ // var fileData=file.files[0] // new HttpClient(&quot;/post2&quot;, obj).UpFile([{file:fileData}]).then(res =&gt; { // console.log(res) // }).catch(err =&gt; { // console.log(err) // }) // }) ///fetch postè¯·æ±‚ä¸Šä¼ æ–‡ä»¶ç»ˆæ­¢å–æ¶ˆ // var file=document.querySelector(&quot;#file&quot;) // file.addEventListener(&quot;input&quot;,(e)=&gt;{ // var fileData=file.files[0] // setTimeout(()=&gt;{ // controller2.abort(1) // },2000) // new HttpClient(&quot;/post3&quot;, obj,{controller:controller2}).UpFile([{file:fileData}]).then(res =&gt; { // console.log(res) // }).catch(err =&gt; { // console.log(err) // }) // })","link":"/2021/01/05/20210105Fetch%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BD%BB%E5%BA%A6%E5%B0%81%E8%A3%85/"},{"title":"å°ç¨‹åºioséƒ¨åˆ†æœºå‹æ ¼å¼åŒ–æ—¶é—´é—®é¢˜","text":"æ­¤ä»£ç è¿”å›çš„æ˜¯NaN 1var leftTime = new Date(&quot;2022-11-11 23:07:00&quot;).getTime() åŸå› æ˜¯ä¸‹é¢ä»£ç è¿”å›çš„æ˜¯Invlid Dateï¼Œæ˜¯å› ä¸ºéƒ¨åˆ†iosçš„ç³»ç»Ÿï¼ˆå®é™…æ˜¯å› ä¸ºæŸäº›ç‰ˆæœ¬çš„safarié€šå¸¸ä¸æ”¯æŒDD-MM-YYYYæ ¼å¼ï¼‰ä¸æ”¯æŒæ ¼å¼åŒ–å¸¦æœ‰ - ç¬¦å·çš„æ—¶é—´ 1new Date(&quot;2022-11-11 23:07:00&quot;) è§£å†³åŠæ³•ç›´æ¥æ›¿æ¢æ‰ - ç¬¦å·ä¸º / 123var endTime=&quot;2022-11-11 23:07:00&quot;let newEndTime = endTime.replace(/\\.|\\-/g, '/')var leftTime = new Date(newEndTime).getTime() æˆ–è€…ç›´æ¥ä½¿ç”¨æ—¶é—´æˆ³","link":"/2021/02/28/20210228%E5%B0%8F%E7%A8%8B%E5%BA%8Fios%E9%83%A8%E5%88%86%E6%9C%BA%E5%9E%8B%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%B6%E9%97%B4%E9%97%AE%E9%A2%98/"},{"title":"å‰ç«¯æ“ä½œexcelå¯¼å…¥å’Œå¯¼å‡º","text":"å› ä¸šåŠ¡éœ€è¦ä»ç½‘é¡µä¸­å¯¼å‡ºexcelæ–‡ä»¶ã€‚ é¡ºä¾¿ç ”ç©¶äº†ä¸‹ï¼Œå¯¼å…¥ï¼Œç¼–è¾‘ï¼Œå¯¼å‡ºï¼Œå¯¼å‡ºå¸¦å›¾ç‰‡çš„ ä½†æ˜¯å¯¼å‡ºå¸¦å›¾ç‰‡çš„åªèƒ½æ˜¯xlsæ–‡ä»¶ï¼Œå¯¼å…¥åªèƒ½æ˜¯xlsxæ–‡ä»¶ å¦‚æœæ˜¯vue/reactå·¥ç¨‹é¡¹ç›®é‚£ä¹ˆåªèƒ½åœ¨å…¥å£æ–‡ä»¶é‡Œé¢å¯¼å…¥ egï¼švue-&gt;public-&gt;index.html æ–‡ä»¶ä¸­ç›´æ¥åœ¨headä¸­scriptå¼•å…¥ä¸¤ä¸ªæ–‡ä»¶,ä¸¤ä¸ªè„šæœ¬æ”¾åœ¨åŒçº§ç›®å½•(å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºç›®å½•) 1234567&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;JSè¯»å–å’Œå¯¼å‡ºexcelç¤ºä¾‹&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./exceljs-min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./sheetjs.js&quot;&gt;&lt;/script&gt;&lt;/head&gt; å®Œæ•´å®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-cn&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;JSè¯»å–å’Œå¯¼å‡ºexcelç¤ºä¾‹&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./exceljs-min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;./sheetjs.js&quot;&gt;&lt;/script&gt;&lt;style type=&quot;text/css&quot;&gt; table { border-collapse: collapse; } th, td { border: solid 1px #6D6D6D; padding: 5px 10px; } .mt-sm {margin-top: 8px;} body { background: #f4f4f4; padding: 0; margin: 0; } .container { width: 1024px; margin: 0 auto; background: #fff; padding: 20px; min-height: 100vh; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;mt-sm&quot;&gt; &lt;input type=&quot;file&quot; id=&quot;file&quot; style=&quot;display:none;&quot; accept=&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;/&gt; &lt;a href=&quot;javascript:selectFile()&quot;&gt;åŠ è½½æœ¬åœ°excelæ–‡ä»¶&lt;/a&gt; &lt;/div&gt; &lt;p&gt;ç»“æœè¾“å‡ºï¼šï¼ˆä¸‹é¢è¡¨æ ¼å¯ç›´æ¥ç¼–è¾‘å¯¼å‡ºï¼‰&lt;/p&gt; &lt;div id=&quot;result&quot; contenteditable&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; value=&quot;å¯¼å‡ºç¼–è¾‘è¿‡åçš„&quot; onclick=&quot;t0()&quot;/&gt; &lt;input type=&quot;button&quot; value=&quot;å¯¼å‡ºçº¯æ–‡æœ¬&quot; onclick=&quot;t1()&quot;/&gt; &lt;input type=&quot;button&quot; value=&quot;å¯¼å‡ºå¸¦å›¾ç‰‡çš„&quot; onclick=&quot;t2()&quot;/&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot;&gt; class ExcelIntance extends ExcelController { constructor(args){ super(args) } //è¯»å–æœ¬åœ°æ–‡ä»¶ xlsx inputFiles(files){ if(files.length == 0) return; var f = files[0]; if(!/\\.xlsx$/g.test(f.name)) { alert('ä»…æ”¯æŒè¯»å–xlsxæ ¼å¼ï¼'); return; } super.readWorkbookFromLocalFile(f,(workbook)=&gt;{ //å¯ä»¥åšä¸€äº›æ“ä½œ this.readWorkbook(workbook); }); } //åŠ è½½è¿œç¨‹çš„ xlsx loadRemoteFile(url) { super.readWorkbookFromRemoteFile(url, (workbook)=&gt;{ //å¯ä»¥åšä¸€äº›æ“ä½œ. this.readWorkbook(workbook); }); } //å¯¼å‡ºç¼–è¾‘è¿‡åçš„ exportEditedExcel(title=&quot;å¯¼å‡º&quot;) { var el = document.querySelector(`#${this.tagId} table`) var csv = super.table2csv(el); var sheet = super.csv2sheet(csv); var blob = super.sheet2blob(sheet); super.openDownloadDialog(blob, `${title}.xlsx`); } //å¯¼å‡ºæ²¡æœ‰å›¾ç‰‡çš„excel exportTextExcel(sheet,title=&quot;å¯¼å‡º&quot;){super.openDownloadDialog(super.sheet2blob(sheet), `${title}.xlsx`);} //å¯¼å‡ºå¸¦å›¾ç‰‡çš„excel exportImgExcel(tHeader,tbody,title=&quot;å¯¼å‡º&quot;){export2Excel(tHeader, tbody, title)} } var a= new ExcelIntance({tagId:&quot;result&quot;}) // exportEditedExcel function t0(){ a.exportEditedExcel() } // exportTextExcel function t1(){ var aoa = [ ['ä¸»è¦ä¿¡æ¯', null, null, 'å…¶å®ƒä¿¡æ¯'], // ç‰¹åˆ«æ³¨æ„åˆå¹¶çš„åœ°æ–¹åé¢é¢„ç•™2ä¸ªnull ['å§“å', 'æ€§åˆ«', 'å¹´é¾„', 'æ³¨å†Œæ—¶é—´'], ['å¼ ä¸‰', 'ç”·', 18, new Date()], ['æå››', 'å¥³', 22, new Date()] ]; var sheet = XLSX.utils.aoa_to_sheet(aoa); sheet['!merges'] = [ // è®¾ç½®A1-C1çš„å•å…ƒæ ¼åˆå¹¶ {s: {r: 0, c: 0}, e: {r: 0, c: 2}} ]; a.exportTextExcel(sheet) } // exportImgExcel function t2(){ let tHeader = [ 'é²œèŠ±', 'é¢œè‰²', 'ç…§ç‰‡' ] let tbody = [ { name: 'ç«ç‘°èŠ±', color: 'çº¢è‰²', pic: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2801998497,4036145562&amp;fm=27&amp;gp=0.jpg' }, { name: 'æ¡ƒèŠ±èŠ±', color: 'ç²‰è‰²', pic: 'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=602076004,4209938077&amp;fm=27&amp;gp=0.jpg' } ] a.exportImgExcel(tHeader,tbody) } &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","link":"/2021/03/20/20210320%E5%89%8D%E7%AB%AF%E6%93%8D%E4%BD%9Cexcel%E5%AF%BC%E5%85%A5%E5%92%8C%E5%AF%BC%E5%87%BA/"},{"title":"iframeé«˜åº¦æ ¹æ®é“¾å…¥çš„é¡µé¢é«˜åº¦è‡ªé€‚åº”","text":"æœ€è¿‘çªç„¶æœ‰ä¸ªéœ€æ±‚æ˜¯è¦åœ¨é¡µé¢ä¸­çš„iframeé“¾å…¥å…¶ä»–å„ç§å„æ ·çš„é¡µé¢ã€‚ ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå®é™…æƒ…å†µæ˜¯ä»–ä¸èƒ½æ ¹æ®é¡µé¢å†…å®¹è‡ªé€‚åº”é«˜åº¦ã€‚åŠ äº†scrolling=â€œnoâ€è¿‡åç„¶ååˆä¸èƒ½æ»šåŠ¨äº†ã€‚é¡µé¢çš„å…¶ä»–éƒ¨åˆ†æ ¹æœ¬å±•ç¤ºä¸å‡ºæ¥ã€‚ é¡µé¢çš„éƒ¨åˆ†ä»£ç å¦‚ä¸‹ 12345678&lt;template&gt; &lt;div class=&quot;main&quot;&gt; &lt;div class=&quot;header&quot;&gt; &lt;!-- .... --&gt; &lt;/div&gt; &lt;div class=&quot;content&quot; v-if=&quot;data.src&quot;&gt;&lt;iframe id=&quot;ifr&quot; :src=&quot;data.src&quot; frameborder=&quot;0&quot; height=&quot;&quot; width=&quot;100%&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; 12345678910111213141516171819202122var timer = nullconst setHeight=()=&gt;{ try { const iframe = document.querySelector('#ifr'); var iframeContext = iframe.contentWindow || iframe.contentDocument.parentWindow; if (iframeContext.document.body) { iframe.height = iframeContext.document.body.scrollHeight; clearInterval(timer) } } catch (error) {}}userStore.data.blogs[route.query.type].forEach(element =&gt; { if(element.adr==route.params.artkey){ data.article=element data.src=`*******` timer=setInterval(setHeight,200) }});onUnmounted(()=&gt;{clearInterval(timer)})","link":"/2021/04/15/20210415iframe%E9%AB%98%E5%BA%A6%E6%A0%B9%E6%8D%AE%E9%93%BE%E5%85%A5%E7%9A%84%E9%A1%B5%E9%9D%A2%E9%AB%98%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94/"},{"title":"javascriptä¸­çš„åŸå‹ï¼ŒåŸå‹å¯¹è±¡ï¼ŒåŸå‹é“¾","text":"åŸå‹å’ŒåŸå‹å¯¹è±¡ classçš„ç±»å‹ä¸ºfunction 12345678///å‡½æ•°Aæˆ–è€… class A {},å¯¹åº”ä¸Šå›¾å·¦è¾¹function A(age,name){ this.age=age this.name=name}var a=new A(1,2)console.log(A.prototype)console.log(A.prototype.constructor===A) proto å’Œ prototype __proto__ï¼ˆéšå¼åŸå‹ï¼‰JavaScriptä¸­ä»»æ„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®å±æ€§[[prototype]]ï¼Œåœ¨ES5ä¹‹å‰æ²¡æœ‰æ ‡å‡†çš„æ–¹æ³•è®¿é—®è¿™ä¸ªå†…ç½®å±æ€§ï¼Œä½†æ˜¯å¤§å¤šæ•°æµè§ˆå™¨éƒ½æ”¯æŒé€šè¿‡__proto__æ¥è®¿é—®ã€‚ES5ä¸­æœ‰äº†å¯¹äºè¿™ä¸ªå†…ç½®å±æ€§æ ‡å‡†çš„Getæ–¹æ³•Object.getPrototypeOf()ã€‚ __proto__æŒ‡å‘çš„æ˜¯å½“å‰å¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚æ¢å¥è¯è¯´æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°çš„prototype __proto__æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå‡½æ•°ä¹Ÿå¯èƒ½ä¼šæœ‰ï¼Œå› ä¸ºå‡½æ•°ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚ prototypeï¼ˆæ˜¾å¼åŸå‹ï¼‰æ¯ä¸€ä¸ªå‡½æ•°åœ¨åˆ›å»ºä¹‹åéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªåä¸ºprototypeçš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ prototypeæŒ‡å‘çš„æ˜¯ä»¥â€”â€”å½“å‰å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°(ä¸Šå›¾å·¦è¾¹)â€”â€”æ„é€ å‡ºæ¥çš„å¯¹è±¡(ä¸Šå›¾ä¸‹è¾¹)â€”â€”çš„åŸå‹å¯¹è±¡(ä¸Šå›¾å³è¾¹)ã€‚ 1234567function A(age,name){ this.age=age this.name=name}var a=new A(1,2)console.log(A.prototype===a.__proto__)//trueconsole.log(a.__proto__.constructor===A)//true ä¸¾ä¸ªä¾‹å­jsçš„å†…ç½®Array 123console.log(Array.prototype)console.log(Array.prototype.constructor===Array)//trueconsole.log(Array.prototype.__proto__===Object.prototype)//true Array.prototypeè¿”å›çš„æ˜¯ä¸€ä¸ª[constructor: Æ’, at: Æ’, concat: Æ’, copyWithin: Æ’, fill: Æ’, â€¦] ï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢æœ‰å¾ˆå¤šæ–¹æ³•ã€‚ å¯ä»¥çœ‹å‡ºå®Œç¾éªŒè¯äº†æˆ‘ä»¬ä¸Šé¢çš„æµç¨‹ã€‚ é‚£ä¹ˆå‡ºç°äº†ä¸ªæ–°çš„Object.prototypeæ˜¯ä»€ä¹ˆå‘¢ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚ åŸå‹é“¾çš„å›¾è§£å’Œç†è§£ å†…ç½®çš„Objectæ„é€ å™¨å’Œè‡ªå·±å£°æ˜çš„æ„é€ å™¨ç­‰éƒ½æ˜¯é€šè¿‡å†…ç½®çš„Functionæ„é€ å™¨æ„é€ å‡ºæ¥çš„ æ‰€ä»¥ä»–ä»¬éƒ½å¯ä»¥çœ‹åšè¢«å†…ç½®çš„Functionæ„é€ å™¨newå‡ºæ¥çš„å®ä¾‹ï¼Œæ‰€ä»¥ä»–ä»¬çš„__proto__éƒ½æ˜¯å†…ç½®çš„Functionæ„é€ å™¨çš„prototype ä½†æ˜¯è¿™äº›å®ä¾‹çš„ç±»å‹ä¸ºfunctionï¼Œä¸”ä»–ä»¬æ‹¥æœ‰__proto__å±æ€§ã€‚ï¼ˆ__proto__å¯¹è±¡è‚¯å®šæœ‰ï¼Œå‡½æ•°å¯èƒ½æœ‰ï¼Œprototypeå‡½æ•°æœ‰ï¼‰ å½“ç„¶å†…ç½®çš„Functionæ„é€ å™¨ä¹Ÿèƒ½å½“åšä¸€ä¸ªå®ä¾‹","link":"/2021/04/25/20210420js%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%9A%84%E5%AD%A6%E4%B9%A0/"},{"title":"nuxtæœåŠ¡ç«¯çš„æ‰“åŒ…éƒ¨ç½²","text":"æ‰“åŒ… 123456789101112131415161718192021npm run buildnpm run generatå¦‚æœæ˜¯æƒ³åšssrï¼Œé‚£å°±npm run buildï¼Œç„¶ånpm startæŠŠé¡¹ç›®æœåŠ¡èµ·èµ·æ¥å°±è¡Œäº†ï¼Œå¦‚æœåªæ˜¯æƒ³åšé™æ€é¡µé¢ï¼Œé‚£å°±npm run generatï¼Œç„¶åé€šè¿‡é™æ€æœåŠ¡å™¨éƒ¨ç½²server: { port: 3000, // default: 3000 host: '0.0.0.0' // åœ¨æœåŠ¡å™¨ä¸Šç›‘å¬æ‰€æœ‰},æ‰€ä»¥æˆ‘é‡‡ç”¨npm run buildæ‰“åŒ…è¿‡åçš„äº§ç‰©.nuxtstaticpackage.jsonnuxt.config.js æœåŠ¡å™¨å®‰è£…node 123yum install nodejs npm -ynode --versionnpm --version æ›´æ¢npmæ·˜å®æºï¼ˆå¯è·³è¿‡ï¼‰123456789å…¨å±€é…ç½®åˆ‡æ¢åˆ°æ·˜å®æºï¼šnpm config set registry https://registry.npm.taobao.orgå…¨å±€é…ç½®åˆ‡æ¢åˆ°å®˜æ–¹æºï¼šnpm config set registry http://www.npmjs.orgæ£€æµ‹æ˜¯å¦åˆ‡æ¢åˆ°äº†æ·˜å®æºï¼šnpm info underscore//å®‰è£…ä¾èµ–npm install å¯åŠ¨é¡¹ç›® 1npm run start ä½¿ç”¨pm2å¼€å¯è¿›ç¨‹å®ˆæŠ¤ 12345678910111213141516171819202122232425262728npm install pm2 -gå®‰è£…pm2 updateæ›´æ–°ç‰ˆæœ¬pm2 listæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çŠ¶æ€pm2 monitç›‘è§†æ‰€æœ‰è¿›ç¨‹pm2 logæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹æ—¥å¿—pm2 stop allåœæ­¢æ‰€æœ‰è¿›ç¨‹pm2 restart allé‡å¯æ‰€æœ‰è¿›ç¨‹pm2 reload all0 ç§’åœæœºé‡è½½è¿›ç¨‹ (ç”¨äº NETWORKED è¿›ç¨‹)pm2 stop nameåœæ­¢æŒ‡å®šçš„è¿›ç¨‹ï¼Œnameä¸ºæ ‡è¯†pm2 restart nameé‡å¯æŒ‡å®šçš„è¿›ç¨‹ï¼Œnameä¸ºæ ‡è¯†pm2 startupäº§ç”Ÿ init è„šæœ¬ ä¿æŒè¿›ç¨‹æ´»ç€pm2 webè¿è¡Œå¥å£®çš„ computer API endpoint (http://localhost:9615)pm2 delete nameæ€æ­»æŒ‡å®šçš„è¿›ç¨‹ï¼Œnameä¸ºæ ‡è¯†pm2 delete allæ€æ­»å…¨éƒ¨è¿›ç¨‹ è¿è¡Œé¡¹ç›® 1234pm2 start npm --name &quot;app&quot; -- start//è¿›å…¥åˆ°åšå®¢è¿è¡Œç›®å½•ä¸‹pm2 start npm --name blog -- startappæ˜¯pm2çš„è¿›ç¨‹çš„åå­— è®¿é—®é¡¹ç›® 12345678910http://106.52.222.26:3001è¿™é‡Œçš„ç«¯å£æ¥æºäºnuxt.config.jsonexport default { server: { // éƒ¨ç½²åˆ°çº¿ä¸Šnginxé…ç½® host: '0.0.0.0', port: 3001 }, //......} æ³¨æ„ï¼šå¦‚æœæ•°æ®æ˜¯ç›´æ¥è®¿é—®çš„æœåŠ¡å™¨jsonæ–‡ä»¶ï¼Œjsonæ–‡ä»¶æ”¹å˜äº†è¿‡åï¼Œä½†æ˜¯é¡µé¢ä¸­è¯·æ±‚æ•°æ®æœªæ”¹å˜ï¼Œé‡å¯ä¸‹è¿›ç¨‹å°±å¥½äº† pm2 reload allã€‚ ä¸¾ä¸ªæ —å­ã€‚ä»–çš„vuexä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå€¼(æ™®é€šçš„å€¼ï¼Œä¸å­˜åœ¨ä»€ä¹ˆæƒé™åˆ¤æ–­å•¥çš„)ï¼Œé¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ä¸å­˜åœ¨ï¼Œå¦‚æœæ¥å£è¯·æ±‚è¿‡ä¸€æ¬¡ï¼Œé‚£ä¹ˆvuexä¸­è¿™ä¸ªå€¼å°±å·²ç»å­˜åœ¨ï¼Œå…¶ä»–çš„ç”¨æˆ·è¿›å…¥é¡µé¢çš„æ—¶å€™å°±ä¸éœ€è¦è¯·æ±‚ã€‚","link":"/2021/05/04/20210504nuxt%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2/"},{"title":"æœ‰å…³parseIntç¬¬äºŒä¸ªå‚æ•°çš„ä¸€äº›é—®é¢˜","text":"æœ€è¿‘åœ¨ç½‘ä¸Šçœ‹äº†ä¸€ä¸ªé¢è¯•é¢˜ï¼Œå¦‚ä¸‹ 1234[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;].map(parseInt)parseInt(&quot;1&quot;,0)parseInt(&quot;2&quot;,1)parseInt(&quot;3&quot;,2) ç›¸ä¿¡ç­”æ¡ˆä¸å¿…å¤šè¯´ 1[1,NaN,NaN] é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç»è¿‡è®¡ç®—ï¼Œ2é€šè¿‡ä¸€è¿›åˆ¶è§£ææ˜¯èƒ½å¾—åˆ°æ•°å­—çš„ï¼Œ3é€šè¿‡äºŒè¿›åˆ¶è§£æä¹Ÿæ˜¯æ˜¯èƒ½å¾—åˆ°æ•°å­—çš„ï¼Œä¸ºä»€ä¹ˆä¼šæ˜¯NaNå‘¢ï¼Ÿ åˆ†æå¦‚ä¸‹ï¼š parseInt(â€œ3â€,2)åŸºæ•°ä¸º2ï¼Œåˆé€‚çš„æ•°å­—ä¸º0,1ï¼Œä½†æ˜¯3å¤§äº0å’Œ1ï¼Œæ‰€ä»¥è¿”å›ä¸ºNaN; æˆ‘åˆå°è¯•äº†ä¸€äº›å…¶ä»–çš„æ•°å­—ï¼Œå‘ç°é—®é¢˜ä¸æ­¢å¦‚æ­¤ï¼Œå‡ºç°äº†å¦‚ä¸‹æƒ…å†µ 12345parseInt(&quot;16&quot;,2) //1parseInt(&quot;18&quot;,2) //1parseInt(&quot;19&quot;,2) //1parseInt(&quot;195&quot;,2) //1parseInt(&quot;95&quot;,2) //NaN å› ä¸ºåŸºæ•°ä¸º2ï¼Œåˆé€‚çš„æ•°å­—åªæœ‰0,1ï¼Œæ‰€ä»¥èµ°åˆ°äº†9æˆ–è€…8æˆ–è€…6å°±ä¸ä¼šå¾€åé¢ç»§ç»­è§£æç›´æ¥è¿”å›ï¼Œè§£æå°±åœæ­¢äº†ï¼Œå®é™…è§£æçš„åªæœ‰1ï¼Œå®é™…æ˜¯åœ¨æ‰§è¡ŒparseInt(â€œ1â€,2) å¦‚æœç¬¬ä¸€ä¸ªéƒ½ä¸ç¬¦åˆé‚£ä¹ˆç›´æ¥è¿”å›NaN 123parseInt('dsff984',16) // 13parseInt('d66',16) // 3430parseInt('ddff984',16) // 14548838 å› ä¸ºåè¿›åˆ¶æœ€å¤§çš„æ•°å­—æ˜¯9,ä½†æ˜¯åˆ°äº†åä¸€è¿›åˆ¶å¾€ä¸Šï¼Œæœ€å¤§çš„æ•°å­—æ˜¯ä¸¤ä½æ•°äº†ï¼Œè¿™å½“ç„¶ä¸è¡Œï¼Œæ‰€ä»¥ä»10å¼€å§‹å¾€ä¸Šï¼Œå°±ç”¨å­—æ¯ä»£æ›¿ã€‚ a==10,b==11,c=12,d=13 â€¦â€¦ z==35ï¼›æ‰€ä»¥parseIntçš„ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»è¦è§„å®šåœ¨2~36ä¹‹é—´ã€‚æ³¨æ„è¿˜æœ‰ä¸ªä¸€è¿›åˆ¶ å†çœ‹çœ‹ä¸Šé¢è¿™é“é—®é¢˜ï¼Œåœ¨16è¿›åˆ¶ä¸­ï¼Œæœ€å¤§çš„æ•°å­—æ˜¯15ï¼Œå¯¹åº”å­—æ¯ä¹Ÿå°±æ˜¯fï¼Œè¶…è¿‡fçš„å­—æ¯ä¹Ÿå°±è¶…å‡ºäº†16è¿›åˆ¶çš„è§£æèŒƒå›´ã€‚ â€˜dsff984â€™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯dï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶ä¸­çš„13ï¼Œç¬¬äºŒä¸ªå­—ç¬¦sï¼Œä»£è¡¨åè¿›åˆ¶ä¸­çš„28ï¼Œè¿™æ˜¾ç„¶è¶…å‡ºäº†16è¿›åˆ¶çš„è§£æèŒƒå›´ï¼Œæ‰€ä»¥så’Œå®ƒä¹‹åçš„å­—ç¬¦éƒ½ä¼šè¢«parseIntè‡ªåŠ¨å¿½ç•¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°13ã€‚â€˜d66â€™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯dï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶ä¸­çš„13ï¼Œ(1316Â²)+(616)+(6*16Â°)=3430â€˜ddff984â€™ å‚ç…§ä¸Šé¢ **parseInt(x,y)å°†yè¿›åˆ¶æ•°xè½¬åŒ–æˆæ™®é€šæ•°å­—(åè¿›åˆ¶)**å¦‚æœxä¸æ˜¯ä¸€ä¸ªåˆæ ¼çš„yè¿›åˆ¶æ•°å°±ä¼šé‡‡å–æªæ–½ï¼Œå¯¼è‡´ä¸Šé¢çš„æƒ…å†µï¼Œå¤šæä¸€å¥parseFloatåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œåªèƒ½ä½¿ç”¨åè¿›åˆ¶å»è§£æã€‚","link":"/2021/07/05/20210705%E6%9C%89%E5%85%B3parseInt%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"},{"title":"å‰ç«¯å¯¹äºŒè¿›åˆ¶æ·±å…¥å‰–æ","text":"è‡ªæˆ‘æ„Ÿè§‰ä¸€ç›´å¯¹æµè§ˆå™¨çš„äºŒè¿›åˆ¶æ“ä½œæ¯”,æ–‡ä»¶æ“ä½œ,ä»¥åŠå…¶ä»–çš„ioè¯»å†™ç­‰è¾ƒè¿·ç³Šã€‚ä»Šå¤©å¼€ä¸ªä¸“åœºå½»åº•ææ¸…ã€‚ blobBlob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚Blob è¡¨ç¤ºçš„ä¸ä¸€å®šæ˜¯JavaScriptåŸç”Ÿæ ¼å¼çš„æ•°æ®ã€‚Blobå¯¹è±¡æœ¬è´¨ä¸Šæ˜¯jsä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢å¯ä»¥å‚¨å­˜å¤§é‡çš„äºŒè¿›åˆ¶ç¼–ç æ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬ä¸å¯ä»¥ç›´æ¥æ“ä½œä»–ã€‚ æ„é€ å‡½æ•°var aBlob = new Blob( array, options ); array .å¯ä»¥æ˜¯å¦‚ä¸‹ ArrayBuffer ArrayBufferView Blob DOMString(DOMStrings ä¼šè¢«ç¼–ç ä¸º UTF-8ã€‚) options æ˜¯ä¸€ä¸ªå¯é€‰çš„BlobPropertyBagå­—å…¸ï¼Œå®ƒå¯èƒ½ä¼šæŒ‡å®šå¦‚ä¸‹ä¸¤ä¸ªå±æ€§ typeï¼Œé»˜è®¤å€¼ä¸º â€œâ€ï¼Œå®ƒä»£è¡¨äº†å°†ä¼šè¢«æ”¾å…¥åˆ° blob ä¸­çš„æ•°ç»„å†…å®¹çš„ MIME ç±»å‹ã€‚ endingsï¼Œé»˜è®¤å€¼ä¸ºâ€transparentâ€ï¼Œç”¨äºæŒ‡å®šåŒ…å«è¡Œç»“æŸç¬¦\\nçš„å­—ç¬¦ä¸²å¦‚ä½•è¢«å†™å…¥ã€‚å®ƒæ˜¯ä»¥ä¸‹ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªï¼šâ€nativeâ€ï¼Œä»£è¡¨è¡Œç»“æŸç¬¦ä¼šè¢«æ›´æ”¹ä¸ºé€‚åˆå®¿ä¸»æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿçš„æ¢è¡Œç¬¦ï¼Œæˆ–è€… â€œtransparentâ€ï¼Œä»£è¡¨ä¼šä¿æŒ blob ä¸­ä¿å­˜çš„ç»“æŸç¬¦ä¸å˜ éæ ‡å‡†123456789101112131415161718192021222324var aFileParts = ['&lt;a id=&quot;a&quot;&gt;&lt;b id=&quot;b&quot;&gt;hey!&lt;/b&gt;&lt;/a&gt;']; // ä¸€ä¸ªåŒ…å« DOMString çš„æ•°ç»„var oMyBlob = new Blob(aFileParts, {type : 'text/html'}); // å¾—åˆ° blobconst obj = {hello: 'æˆ‘tmçœ‹çœ‹è¡Œä¸è¡Œ'};const blob = new Blob([JSON.stringify(obj)],{type:'application/json'});var ab = new ArrayBuffer(32);var blob = new Blob([ab]); // æ³¨æ„å¿…é¡»åŒ…è£¹[]//base64è½¬Blobfunction dataURLtoBlob(base64Str) {// data:image/jpeg;base64,/9j/4AAQSkZJR... var arr =base64Str.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), //atob() //ASCII to Base64 , btoa() //Base64 to ASCII n = bstr.length, u8arr = new Uint8Array(n); while (n--) { u8arr[n] = bstr.charCodeAt(n); } return new Blob([u8arr], { type: mime });}//è¿˜æœ‰è¯»å‡ºçš„æ–‡ä»¶ demo12const obj = {hello: 'æˆ‘tmçœ‹çœ‹è¡Œä¸è¡Œ'};const blob = new Blob([JSON.stringify(obj)],{type:'application/json'}); å±æ€§ Blob.prototype.size åªè¯»ã€‚Blob å¯¹è±¡ä¸­æ‰€åŒ…å«æ•°æ®çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚ Blob.prototype.type åªè¯»ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜è¯¥ Blob å¯¹è±¡æ‰€åŒ…å«æ•°æ®çš„ MIME ç±»å‹ã€‚å¦‚æœç±»å‹æœªçŸ¥ï¼Œåˆ™è¯¥å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚12console.log(blob.size)console.log(blob.tpye) æ–¹æ³• Blob.prototype.text() è¿”å›ä¸€ä¸ª promiseï¼Œå…¶ä¼šå…‘ç°ä¸€ä¸ªåŒ…å« Blob æ‰€æœ‰å†…å®¹çš„ UTF-8 æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚12blob.text().then(t=&gt;console.log(t)){&quot;hello&quot;:&quot;æˆ‘tmçœ‹çœ‹è¡Œä¸è¡Œ&quot;} Blob.prototype.slice() è¿”å›ä¸€ä¸ªæ–°çš„ Blob å¯¹è±¡ï¼ŒåŒ…å«äº†æº Blob å¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚123var b=blob.slice(0,18)b.text().then(t=&gt;console.log(t)){&quot;hello&quot;:&quot;æˆ‘tmçœ‹ Blob.prototype.arrayBuffer() è¿”å›ä¸€ä¸ª promiseï¼Œå…¶ä¼šå…‘ç°ä¸€ä¸ªåŒ…å« Blob æ‰€æœ‰å†…å®¹çš„äºŒè¿›åˆ¶æ ¼å¼çš„ ArrayBuffer ï¼ˆä¸‹é¢è¯¦è§£ï¼‰ã€‚123var bufferPromise = blob.arrayBuffer();blob.arrayBuffer().then(buffer =&gt; /* å¤„ç† ArrayBuffer æ•°æ®çš„ä»£ç â€¦â€¦*/);var buffer = await blob.arrayBuffer(); Blob.prototype.stream() è¿”å›ä¸€ä¸ªèƒ½è¯»å– Blob å†…å®¹çš„ ReadableStreamã€‚123456var stream= blob.stream()console.log(stream)Promise.resolve(new Response(stream,{headers:{'Content-Type':'text/html' }}).text()).then(text=&gt;{ console.log(text)}) File1234567891011121314151617181920212223242526&lt;input type=&quot;file&quot; id=&quot;file&quot;&gt;&lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;img&quot;&gt;&lt;script&gt; document.querySelector(&quot;#file&quot;).addEventListener(&quot;change&quot;, function (File) { console.log(File.target.files[0]) getFile(File.target.files[0]) }) function getFile(File) { console.log(File.lastModified) //è¿”å›å½“å‰ File å¯¹è±¡æ‰€å¼•ç”¨æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ï¼Œè‡ª UNIX æ—¶é—´èµ·å§‹å€¼ï¼ˆ1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTCï¼‰ä»¥æ¥çš„æ¯«ç§’æ•°ã€‚ console.log(File.lastModifiedDate) //è¿”å›å½“å‰ File å¯¹è±¡æ‰€å¼•ç”¨æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´çš„ Date å¯¹è±¡ã€‚ console.log(File.name) //è¿”å›å½“å‰ File å¯¹è±¡æ‰€å¼•ç”¨æ–‡ä»¶çš„åå­—ã€‚ console.log(File.size) //è¿”å›æ–‡ä»¶çš„å¤§å°ã€‚ console.log(File.webkitRelativePath)//è¿”å› File ç›¸å…³çš„ path æˆ– URLã€‚ console.log(File.type) //è¿”å›æ–‡ä»¶çš„ å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ï¼ˆMIME Typeï¼‰ç”±ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­çš„typeå†³å®š ///File æ¥å£æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä» Blob æ¥å£ç»§æ‰¿äº†ä»¥ä¸‹æ–¹æ³• console.log(File.slice(0, 1000))// }&lt;/script&gt;1664593283489Sat Oct 01 2022 11:01:23 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)1.jpg123637image/jpegBlob {size: 1000, type: ''} FileReader12345678910var File = new File([],&quot;./imgs/1.jpg&quot;,{type:&quot;image/jpg&quot;})function printFile(file) { var reader = new FileReader(); reader.onload = function(evt) { console.log(evt); console.log(reader.error); console.log(reader.readyState);//0è¿˜æ²¡æœ‰åŠ è½½ä»»ä½•æ•°æ®ã€‚1æ•°æ®æ­£åœ¨è¢«åŠ è½½ã€‚2å·²å®Œæˆå…¨éƒ¨çš„è¯»å–è¯·æ±‚ã€‚ console.log(reader.result);///===evt.target.result };} readAsArrayBuffer(blob/File)1234ProgressEvent {isTrusted: true, lengthComputable: true, loaded: 123637, total: 123637, type: 'load', â€¦}null2ArrayBuffer(123637) 1234ProgressEvent {isTrusted: true, lengthComputable: true, loaded: 123637, total: 123637, type: 'load', â€¦}null2ArrayBuffer(123637) readAsBinaryString(blob/File) è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼ readAsDataURL(blob/File) è¯»å‡ºbase641234ProgressEvent {isTrusted: true, lengthComputable: true, loaded: 2233, total: 2233, type: 'load', â€¦}null2data:application/octet-stream;base64,/u3+7QAAAAIAAAABAAAAAQAGMTIzNDU2AAABc1Z= readAsText(blob/File) è¯»å‡ºå­—ç¬¦ä¸² ArrayBufferArrayBufferè¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„åŸå§‹ç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨ä¸åŒç±»å‹åŒ–æ•°ç»„çš„æ•°æ®ã€‚æˆ‘ä»¬æ— æ³•ç›´æ¥è¯»å–æˆ–å†™å…¥ ArrayBufferï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®éœ€è¦å°†å…¶ä¼ é€’åˆ°ç±»å‹åŒ–æ•°ç»„ TypedArray æˆ– DataView è§†å›¾æ¥æ“ä½œäºŒè¿›åˆ¶æ•°æ® æµè§ˆå™¨ä¸­ä»¥ç°æœ‰æ•°æ®è·å– ArrayBuffer æˆ–è€…åˆ›å»ºä¸€ä¸ªç©ºbuffer 1234567891011const obj = {hello: 'æˆ‘tmçœ‹çœ‹è¡Œä¸è¡Œ'};const blob = new Blob([JSON.stringify(obj)],{type:'application/json'});console.log(blob.buffer)var b0 = Buffer.from('bwGO8X5gdaM5dsV@');console.log(b0)var arr = [0x15,0xFF,0x01,0x00,0x34,0xAB,0x11];var u8 = new Uint8Array(arr);var ab = u8.buffer;console.log(ab); // abä¸ºè¦è§£æçš„ArrayBuffer ä»¥å…¶ä»–ç°æœ‰æ•°æ®è·å–æŸ¥çœ‹æ–‡æ¡£MDNä¼ é€é—¨ lengthï¼Œç¼“å†²åŒºçš„é•¿åº¦ï¼Œæ¯ä¸ªå­—èŠ‚çš„å€¼é»˜è®¤éƒ½æ˜¯0ã€‚å¦‚æœæ— æ³•åˆ†é…è¯·æ±‚æ•°ç›®çš„å­—èŠ‚ï¼Œåˆ™å°†å¼•å‘å¼‚å¸¸ã€‚ byteLengthã€‚ åªè¯»å±æ€§ï¼Œç”¨äºè·å–åˆ°ArrayBufferå®ä¾‹çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ å¦‚æœåˆ†é…çš„å†…å­˜è¾ƒå¤§ï¼Œå¯èƒ½ä¼šåˆ†é…å¤±è´¥ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æ ¡éªŒé•¿åº¦æ¥åˆ¤æ–­æ˜¯å¦åˆ†é…æˆåŠŸã€‚ slice()ã€‚å°†å†…å­˜åŒºåŸŸçš„ä¸€éƒ¨åˆ†ï¼Œæ‹·è´ç”Ÿæˆä¸€ä¸ªæ–°çš„ArrayBufferå¯¹è±¡ï¼Œä¸blobçš„sliceæ–¹å¼ç±»ä¼¼ã€‚é™¤äº†sliceæ–¹æ³•ï¼ŒArrayBufferå¯¹è±¡ä¸æä¾›ä»»ä½•ç›´æ¥è¯»å†™å†…å­˜çš„æ–¹æ³•ï¼Œåªå…è®¸åœ¨å…¶ä¸Šæ–¹å»ºç«‹è§†å›¾ï¼Œç„¶åé€šè¿‡è§†å›¾è¿›è¡Œè¯»å†™ã€‚ isView()ã€‚è¿™æ˜¯ä¸ªé™æ€æ–¹æ³•ï¼è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¡¨ç¤ºå‚æ•°æ˜¯å¦ä¸ºArrayBufferçš„è§†å›¾å®ä¾‹ï¼Œå³æ˜¯å¦ä¸ºTypedArrayæˆ–DataViewå®ä¾‹ã€‚12345678910111213var buffer = new ArrayBuffer(8);ArrayBuffer.isView(buffer) // falsevar file = document.getElementById(&quot;file&quot;).files[0];var reader = new FileReader();reader.readAsArrayBuffer(file)reader.onload = function (e) { var data = e.target.result; ArrayBuffer.isView(data) // false}var i32 = new Int32Array(buffer);ArrayBuffer.isView(i32) // true ReadableStreamReadableStreamè¿™ä¸ªç”¨çš„ä¸æ˜¯å¾ˆæˆ‘ä¹Ÿåªæ˜¯äº†è§£ä¸‹ï¼Œåšä¸ªè®°å½•ï¼Œéœ€è¦çš„æ—¶å€™åœ¨å›æ¥çœ‹çœ‹æ–‡æ¡£ã€‚ğŸ˜³ æµæ“ä½œAPIä¸­çš„ReadableStream æ¥å£å‘ˆç°äº†ä¸€ä¸ªå¯è¯»å–çš„äºŒè¿›åˆ¶æµæ“ä½œã€‚ ReadableStream.lockedã€‚ä¸€ä¸ªå¯è¯»æµæœ€å¤šå¯ä»¥æœ‰ä¸€ä¸ªæ¿€æ´»çš„ readerï¼Œå¹¶ä¸”ç›´åˆ°è¢«é‡Šæ”¾ä¹‹å‰éƒ½æ˜¯é”å®šåˆ°è¯¥ readerã€‚å¯ä»¥ä½¿ç”¨ ReadableStream.getReader() æ–¹æ³•è·å– reader ç„¶åä½¿ç”¨ reader çš„ releaseLock() æ–¹æ³•é‡Šæ”¾å¯è¯»æµã€‚1234const stream = new ReadableStream({...});const reader = stream.getReader();console.log(stream.locked)// åº”è¿”å› trueï¼Œè¡¨ç¤ºæµå·²ç»é”å®šåˆ°äº†ä¸€ä¸ª reader getReader() æ¥å£çš„ getReader() æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª readerï¼Œå¹¶å°†æµé”å®šã€‚åªæœ‰å½“å‰ reader å°†æµé‡Šæ”¾åï¼Œå…¶ä»– reader æ‰èƒ½ä½¿ç”¨ã€‚ cancel() ç”¨äºåœ¨ä¸å†éœ€è¦æ¥è‡ªå®ƒçš„ä»»ä½•æ•°æ®çš„æƒ…å†µä¸‹ï¼ˆå³ä½¿ä»æœ‰æ’é˜Ÿç­‰å¾…çš„æ•°æ®å—ï¼‰å®Œå…¨ç»“æŸä¸€ä¸ªæµã€‚ pipeThrough() æ–¹æ³•æä¾›äº†ä¸€ç§é“¾å¼çš„æ–¹å¼ï¼Œå°†å½“å‰æµé€šè¿‡è½¬æ¢æµæˆ–è€…å…¶å®ƒä»»ä½•ä¸€å¯¹å¯å†™/å¯è¯»çš„æµè¿›è¡Œç®¡é“ä¼ è¾“ã€‚ pipeTo() æ–¹æ³•é€šè¿‡ç®¡é“å°†å½“å‰çš„ ReadableStream ä¸­çš„æ•°æ®ä¼ é€’ç»™ç»™å®šçš„ WritableStream å¹¶ä¸”è¿”å›ä¸€ä¸ª Promiseï¼Œpromise åœ¨ä¼ è¾“æˆåŠŸå®Œæˆæ—¶å…‘ç°ï¼Œåœ¨é‡åˆ°ä»»ä½•é”™è¯¯æ—¶åˆ™ä¼šè¢«æ‹’ç»ã€‚ tee() æ–¹æ³•å¯¹å½“å‰çš„å¯è¯»æµè¿›è¡Œæ‹·è´ï¼ˆteesï¼‰ï¼Œè¿”å›åŒ…å«ä¸¤ä¸ª ReadableStream å®ä¾‹åˆ†æ”¯çš„æ•°ç»„ã€‚ç®€å•ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859fetch('http://127.0.0.1:8080/ping').then((response) =&gt; { // response.text().then(res=&gt;{console.log(res)})//å¯ä»¥ç›´æ¥å–å€¼ï¼Œä½†æ˜¯ä¸‹é¢è¦æ¼”ç¤º console.log(response) /* body: ReadableStream bodyUsed: true headers: Headers {} ok: true redirected: false status: 200 statusText: &quot;OK&quot; type: &quot;cors&quot; url: &quot;http://127.0.0.1:8080/ping&quot; */ return response.body}).then((body) =&gt; { const reader = body.getReader();///è¿™é‡Œçš„bodyæœ¬èº«å°±æ˜¯ä¸€ä¸ªReadableStream console.log(reader) /* closed: Promise {&lt;fulfilled&gt;: undefined} [[Prototype]]: ReadableStreamDefaultReader */ //æ„é€ ä¸€ä¸ªæ–°çš„ReadableStream const newReadableStream=new ReadableStream({ start(controller) { console.log(controller) /* desiredSize: 0 [[Prototype]]: ReadableStreamDefaultController */ function push() { reader.read().then(({ done, value }) =&gt; { if (done) { console.log('å†™å…¥æµå®Œæˆ', done); controller.close();///å…³é—­æ­¤æµ return; } console.log(&quot;å¼€å§‹å†™å…¥æµ&quot;) controller.enqueue(value);///å°†ç»™å®šçš„å—æ’å…¥å…³è”çš„æµã€‚ console.log(done, value); push();///åœ¨æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœå·²ç»å®Œæˆåˆ™å…³é—­æ­¤æµ }); } push();///å¼€å§‹ä»bodyçš„æµå†™å…¥æ­¤æµ }, }); return newReadableStream}).then((stream) =&gt; { console.log(stream) /* locked: false [[Prototype]]: ReadableStream */ return new Response(stream, {headers:{'Content-Type':'text/html'}}).text();}).then((result) =&gt; { console.log(result); });///{&quot;message&quot;:&quot;pong&quot;} TypedArrayArrayBufferå¯¹è±¡ä½œä¸ºå†…å­˜åŒºåŸŸï¼Œå¯ä»¥å­˜æ”¾å¤šç§ç±»å‹çš„æ•°æ®ã€‚åŒä¸€æ®µå†…å­˜ï¼Œä¸åŒæ•°æ®æœ‰ä¸åŒçš„è§£è¯»æ–¹å¼ï¼Œè¿™å°±å«åšâ€œè§†å›¾â€ï¼ˆviewï¼‰ã€‚ArrayBufferæœ‰ä¸¤ç§è§†å›¾ï¼Œä¸€ç§æ˜¯ TypedArrayè§†å›¾ï¼Œå¦ä¸€ç§æ˜¯DataViewè§†å›¾ã€‚å‰è€…çš„æ•°ç»„æˆå‘˜éƒ½æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹ï¼Œåè€…çš„æ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä¸åŒç§çš„æ•°æ®ç±»å‹ã€‚ TypedArrayè§†å›¾å…±æœ‰9ç§ç±»å‹ï¼Œæ¯ä¸€ç§è§†å›¾éƒ½æ˜¯ä¸€ç§æ„é€ å‡½æ•°ã€‚ åç§° ç±»å‹ å¤§å° Int8Array 8ä½æœ‰ç¬¦å·æ•´å‹ é•¿åº¦1ä¸ªå­—èŠ‚ Uint8Array 8ä½æ— ç¬¦å·æ•´å‹ é•¿åº¦1ä¸ªå­—èŠ‚ Uint8ClampedArray 8ä½æ— ç¬¦å·æ•´å‹ é•¿åº¦1ä¸ªå­—èŠ‚ï¼Œæº¢å‡ºå–æå€¼ Int16Array 16ä½æœ‰ç¬¦å·æ•´å‹ é•¿åº¦2ä¸ªå­—èŠ‚ã€‚ Uint16Array 16ä½æ— ç¬¦å·æ•´å‹ï¼Œ é•¿åº¦2ä¸ªå­—èŠ‚ã€‚ Int32Array 32ä½æœ‰ç¬¦å·æ•´å‹ é•¿åº¦4ä¸ªå­—èŠ‚ Uint32Array 32ä½æ— ç¬¦å·æ•´å‹ é•¿åº¦4ä¸ªå­—èŠ‚ Float32Array 32ä½æµ®ç‚¹å‹ é•¿åº¦4ä¸ªå­—èŠ‚ Float64Array 64ä½æµ®ç‚¹å‹ é•¿åº¦8ä¸ªå­—èŠ‚ åŒºåˆ«è¿™å‡ ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„å®ä¾‹éƒ½æ˜¯ç±»æ•°ç»„ã€‚ ä¹Ÿéƒ½æ˜¯æœ‰lengthå±æ€§ï¼ˆæ³¨æ„ä¸byteLengthåŒºåˆ†ï¼‰ éƒ½èƒ½ç”¨å–ä¸‹æ ‡çš„æ–¹å¼ï¼ˆ[]ï¼‰è·å–å•ä¸ªæ•°æ®ï¼Œ æ‰€æœ‰æ•°ç»„çš„æ–¹æ³•ï¼ˆæ— contactæ–¹æ³•ï¼‰éƒ½èƒ½ä½¿ç”¨ã€‚ æ™®é€šæ•°ç»„ä¸TypedArrayç±»æ•°ç»„çš„å·®å¼‚ä¸»è¦åœ¨ä»¥ä¸‹æ–¹é¢ã€‚ TypedArrayæ•°ç»„ä¸­æ‰€æœ‰æˆå‘˜ï¼Œéƒ½æ˜¯åŒä¸€ç§ç±»å‹çš„ã€‚ TypedArrayæ•°ç»„çš„æˆå‘˜æ˜¯è¿ç»­çš„ï¼Œä¸ä¼šæœ‰ç©ºä½ã€‚ TypedArrayæ•°ç»„æˆå‘˜çš„é»˜è®¤å€¼ä¸º0ã€‚æ¯”å¦‚ï¼Œnew Array(10)è¿”å›ä¸€ä¸ªæ™®é€šæ•°ç»„ï¼Œé‡Œé¢æ²¡æœ‰ä»»ä½•æˆå‘˜ï¼Œåªæ˜¯10ä¸ªç©ºä½ï¼›new Uint8Array(10)è¿”å›ä¸€ä¸ªTypedArrayæ•°ç»„ï¼Œé‡Œé¢10ä¸ªæˆå‘˜éƒ½æ˜¯0ã€‚ TypedArrayæ•°ç»„åªæ˜¯ä¸€å±‚è§†å›¾ï¼Œæœ¬èº«ä¸å‚¨å­˜æ•°æ®ï¼Œå®ƒçš„æ•°æ®éƒ½å‚¨å­˜åœ¨åº•å±‚çš„ArrayBufferå¯¹è±¡ä¹‹ä¸­ï¼Œè¦è·å–åº•å±‚å¯¹è±¡å¿…é¡»ä½¿ç”¨bufferå±æ€§ï¼ˆprototypeï¼‰ã€‚ TypedArrayæ„é€ å‡½æ•°ã€‚è¿™ä¹ç§æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”Ÿäº§ä¸åŒç±»å‹çš„æ•°æ®å®ä¾‹ã€‚ TypedArray(buffer, byteOffset, length)ã€‚ byteOffsetå¿…é¡»ä¸æ‰€è¦å»ºç«‹çš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ åŒä¸€ä¸ªTypedArrayä¸­ï¼Œå¯ä»¥å»ºç«‹å¤šä¸ªä¸åŒçš„æ•°æ®è§†å›¾ã€‚ bufferï¼ˆå¿…éœ€ï¼‰ï¼šè§†å›¾å¯¹åº”çš„åº•å±‚ArrayBufferå¯¹è±¡ã€‚ byteOffsetï¼ˆå¯é€‰ï¼‰ï¼šè§†å›¾å¼€å§‹çš„å­—èŠ‚åºå·ï¼Œé»˜è®¤ä»0å¼€å§‹ã€‚ lengthï¼ˆå¯é€‰ï¼‰ï¼šè§†å›¾åŒ…å«çš„æ•°æ®ä¸ªæ•°ï¼Œé»˜è®¤ç›´åˆ°æœ¬æ®µå†…å­˜åŒºåŸŸç»“æŸã€‚12345678// åˆ›å»ºä¸€ä¸ª8å­—èŠ‚çš„ArrayBuffervar b = new ArrayBuffer(8);// åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Int32è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚0ï¼Œç›´åˆ°ç¼“å†²åŒºçš„æœ«å°¾ var v1 = new Int32Array(b);// åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Uint8è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚2ï¼Œç›´åˆ°ç¼“å†²åŒºçš„æœ«å°¾ var v2 = new Uint8Array(b, 2);// åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Int16è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚2ï¼Œé•¿åº¦ä¸º2 var v3 = new Int16Array(b, 2, 2); TypedArray(length)ã€‚è¿˜å¯ä»¥é€šè¿‡ç›´æ¥ new æ„é€ å‡½æ•°çš„æ–¹å¼ç›´æ¥ä½¿ç”¨ã€‚1234var fa64 = new Float64Array(8);fa64[0] = 10;fa64[1] = 20;fa64[2] = fa64[0] + fa64[1]; TypedArray(typedArray)ã€‚å‚æ•°ä¹Ÿå¯ä»¥æ˜¯å…¶ä»– typedArrayã€‚æ³¨æ„ï¼Œæ­¤æ—¶ç”Ÿæˆçš„æ–°æ•°ç»„ï¼Œåªæ˜¯å¤åˆ¶äº†å‚æ•°æ•°ç»„çš„å€¼ï¼Œå¯¹åº”çš„åº•å±‚å†…å­˜æ˜¯ä¸ä¸€æ ·çš„ã€‚æ–°æ•°ç»„ä¼šå¼€è¾Ÿä¸€æ®µæ–°çš„å†…å­˜å‚¨å­˜æ•°æ®ï¼Œä¸ä¼šåœ¨åŸæ•°ç»„çš„å†…å­˜ä¹‹ä¸Šå»ºç«‹è§†å›¾ã€‚å¦‚æœæƒ³åŸºäºåŒä¸€æ®µå†…å­˜ï¼Œæ„é€ ä¸åŒçš„è§†å›¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚12345678910111213141516171819var typedArray = new Int8Array(new Uint8Array(4));//ç†è§£å¦‚ä¸‹var x = new Int8Array([1, 1]);var y = new Int8Array(x);x[0]y[0]x[0] = 2;y[0]// å¦‚æœæƒ³åŸºäºåŒä¸€æ®µå†…å­˜ï¼Œæ„é€ ä¸åŒçš„è§†å›¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚var x = new Int8Array([1, 1]);var y = new Int8Array(x.buffer);x[0]y[0]x[0] = 2;y[0] TypedArray(arrayLikeObject)ã€‚æ„é€ å‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šæ•°ç»„ï¼ŒTypedArray æ•°ç»„ä¹Ÿå¯ä»¥è½¬æ¢å›æ™®é€šæ•°ç»„ã€‚12var typedArray = new Uint8Array([1, 2, 3, 4]);var normalArray = Array.prototype.slice.call(typedArray); BYTES_PER_ELEMENT å±æ€§ã€‚æ¯ä¸€ç§è§†å›¾çš„æ„é€ å‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ª BYTES_PER_ELEMENT å±æ€§ï¼Œè¡¨ç¤ºè¿™ç§æ•°æ®ç±»å‹å æ®çš„å­—èŠ‚æ•°ã€‚è¿™ä¸ªå±æ€§åœ¨ TypedArray å®ä¾‹ä¸Šä¹Ÿèƒ½è·å–ï¼Œå³æœ‰ TypedArray.prototype.BYTES_PER_ELEMENTã€‚ 12345678Int8Array.BYTES_PER_ELEMENTUint8Array.BYTES_PER_ELEMENTInt16Array.BYTES_PER_ELEMENTUint16Array.BYTES_PER_ELEMENTInt32Array.BYTES_PER_ELEMENTUint32Array.BYTES_PER_ELEMENTFloat32Array.BYTES_PER_ELEMENTFloat64Array.BYTES_PER_ELEMENT TypedArray åŸå‹å±æ€§ TypedArray.prototype.bufferã€‚å‰é¢æˆ‘ä»¬ä¹Ÿç”¨åˆ°äº†ï¼Œè¿”å›æ•´æ®µå†…å­˜åŒºåŸŸå¯¹åº”çš„ ArrayBuffer å¯¹è±¡ã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ã€‚è§†å›¾å¯¹è±¡å’Œ b è§†å›¾å¯¹è±¡ï¼Œå¯¹åº”åŒä¸€ä¸ª ArrayBuffer å¯¹è±¡ï¼Œå³åŒä¸€æ®µå†…å­˜ã€‚12var a = new Float32Array(64);var b = new Uint8Array(a.buffer); TypedArray.prototype.lengthã€‚è¯¥å±æ€§è¡¨ç¤º TypedArray æ•°ç»„å«æœ‰å¤šå°‘ä¸ªæˆå‘˜ã€‚æ³¨æ„å°† byteLength å±æ€§å’Œ length å±æ€§åŒºåˆ†ï¼Œå‰è€…æ˜¯å­—èŠ‚é•¿åº¦ï¼Œåè€…æ˜¯æˆå‘˜é•¿åº¦ã€‚123var a = new Int16Array(90);a.length // 90 a.byteLength // 180 TypedArray.prototype.byteLengthï¼ŒTypedArray.prototype.byteOffsetã€‚byteLength å±æ€§è¿”å› TypedArray æ•°ç»„å æ®çš„å†…å­˜é•¿åº¦ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚byteOffset å±æ€§è¿”å› TypedArray æ•°ç»„ä»åº•å±‚ ArrayBuffer å¯¹è±¡çš„å“ªä¸ªå­—èŠ‚å¼€å§‹ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚12345678910111213var b = new ArrayBuffer(8);var v1 = new Int32Array(b);var v2 = new Uint8Array(b, 2);var v3 = new Int16Array(b, 2, 2);v1.byteLength // 8v2.byteLength // 6v3.byteLength // 4v1.byteOffset // 0v2.byteOffset // 2v3.byteOffset // 2 TypedArray.prototype.set()ã€‚TypedArray æ•°ç»„çš„ set æ–¹æ³•ç”¨äºå¤åˆ¶æ•°ç»„ï¼ˆæ™®é€šæ•°ç»„æˆ– TypedArray æ•°ç»„ï¼‰ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€æ®µå†…å®¹å®Œå…¨å¤åˆ¶åˆ°å¦ä¸€æ®µå†…å­˜ã€‚set æ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä» b å¯¹è±¡çš„å“ªä¸€ä¸ªæˆå‘˜å¼€å§‹å¤åˆ¶ a å¯¹è±¡ã€‚å®ƒæ˜¯æ•´æ®µå†…å­˜çš„å¤åˆ¶ï¼Œæ¯”ä¸€ä¸ªä¸ªæ‹·è´æˆå‘˜çš„é‚£ç§å¤åˆ¶å¿«å¾—å¤šã€‚1234var a = new Uint16Array(8);var b = new Uint16Array(10);b.set(a, 2) TypedArray.prototype.subarray()ã€‚subarray æ–¹æ³•æ˜¯å¯¹äº TypedArray æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œå†å»ºç«‹ä¸€ä¸ªæ–°çš„è§†å›¾ã€‚12345var a = new Uint16Array(8);var b = a.subarray(2,3);a.byteLengthb.byteLength TypedArray.prototype.slice()ã€‚ç±»ä¼¼äºæ•°ç»„çš„ slice æ–¹æ³•ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªæŒ‡å®šä½ç½®çš„æ–°çš„ TypedArray å®ä¾‹ã€‚12let ui8 = Uint8Array.of(0, 1, 2);ui8.slice(-1) TypedArray.of()ã€‚è¯¥æ–¹æ³•ç”¨äºå°†å‚æ•°è½¬ä¸ºä¸€ä¸ª TypedArray å®ä¾‹ã€‚ TypedArray.from()ã€‚é™æ€æ–¹æ³• from æ¥å—ä¸€ä¸ªå¯éå†çš„æ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŸºäºè¿™ä¸ªç»“æ„çš„ TypedArray å®ä¾‹ã€‚ æº¢å‡ºé—®é¢˜æœ‰ä¸€ç§ç‰¹æ®Šçš„ Uint8ClampedArray ç±»å‹ï¼Œå‡¡æ˜¯å‘ç”Ÿæ­£å‘æº¢å‡ºï¼Œè¯¥å€¼ä¸€å¾‹ç­‰äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å¤§å€¼ï¼Œå³ 255ï¼›å¦‚æœå‘ç”Ÿè´Ÿå‘æº¢å‡ºï¼Œè¯¥å€¼ä¸€å¾‹ç­‰äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å°å€¼ï¼Œå³ 0ã€‚ 12345678910111213141516var uint8c = new Uint8ClampedArray(1);uint8c[0] = 256;uint8c[0]uint8c[0] = -1;uint8c[0]è€Œå¦å¤–çš„å…¶ä»–ç±»å‹ï¼Œéƒ½ä¼šå‡ºç°æº¢å‡ºæƒ…å†µï¼Œvar int8 = new Int8Array(1);int8[0] = 128;int8[0]int8[0] = -129;int8[0] å¤åˆè§†å›¾ ç”±äºè§†å›¾çš„æ„é€ å‡½æ•°å¯ä»¥æŒ‡å®šèµ·å§‹ä½ç½®å’Œé•¿åº¦ï¼Œæ‰€ä»¥åœ¨åŒä¸€æ®µå†…å­˜ä¹‹ä¸­ï¼Œå¯ä»¥ä¾æ¬¡å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®ï¼Œè¿™å«åš â€œå¤åˆè§†å›¾â€ã€‚ä¸‹é¢ä»£ç å°†ä¸€ä¸ª 24 å­—èŠ‚é•¿åº¦çš„ ArrayBuffer å¯¹è±¡ï¼Œåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œå­—èŠ‚ 0 åˆ°å­—èŠ‚ 3 æ˜¯ 1 ä¸ª 32 ä½æ— ç¬¦å·æ•´æ•°ï¼Œå­—èŠ‚ 4 åˆ°å­—èŠ‚ 19 æ˜¯ 16 ä¸ª 8 ä½æ•´æ•°ï¼Œå­—èŠ‚ 20 åˆ°å­—èŠ‚ 23 æ˜¯ 1 ä¸ª 32 ä½æµ®ç‚¹æ•°ã€‚ 1234var buffer = new ArrayBuffer(24);var idView = new Uint32Array(buffer, 0, 1);var usernameView = new Uint8Array(buffer, 4, 16);var amountDueView = new Float32Array(buffer, 20, 1); å¦‚æœä¸€æ®µæ•°æ®åŒ…æ‹¬å¤šç§ç±»å‹ï¼ˆæ¯”å¦‚æœåŠ¡å™¨ä¼ æ¥çš„ HTTP æ•°æ®ï¼‰ï¼Œè¿™æ—¶é™¤äº†å»ºç«‹ ArrayBuffer å¯¹è±¡çš„å¤åˆè§†å›¾ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ DataView è§†å›¾è¿›è¡Œæ“ä½œã€‚ DataView è§†å›¾æœ¬èº«ä¹Ÿæ˜¯æ„é€ å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ª ArrayBuffer å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆè§†å›¾ã€‚ DataView(ArrayBuffer buffer [, å­—èŠ‚èµ·å§‹ä½ç½® [, é•¿åº¦]]); 12var buffer = new ArrayBuffer(24);var dv = new DataView(buffer); DataView å®ä¾‹æœ‰ä»¥ä¸‹å±æ€§ï¼Œå«ä¹‰ä¸ TypedArray å®ä¾‹çš„åŒåæ–¹æ³•ç›¸åŒã€‚ DataView.prototype.bufferï¼šè¿”å›å¯¹åº”çš„ ArrayBuffer å¯¹è±¡ DataView.prototype.byteLengthï¼šè¿”å›å æ®çš„å†…å­˜å­—èŠ‚é•¿åº¦ DataView.prototype.byteOffsetï¼šè¿”å›å½“å‰è§†å›¾ä»å¯¹åº”çš„ ArrayBuffer å¯¹è±¡çš„å“ªä¸ªå­—èŠ‚å¼€å§‹ DataView å®ä¾‹æä¾› 8 ä¸ªæ–¹æ³•è¯»å–å†…å­˜ã€‚ getInt8ï¼šè¯»å– 1 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 8 ä½æ•´æ•°ã€‚ getUint8ï¼šè¯»å– 1 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„ 8 ä½æ•´æ•°ã€‚ getInt16ï¼šè¯»å– 2 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 16 ä½æ•´æ•°ã€‚ getUint16ï¼šè¯»å– 2 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„ 16 ä½æ•´æ•°ã€‚ getInt32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 32 ä½æ•´æ•°ã€‚ getUint32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„ 32 ä½æ•´æ•°ã€‚ getFloat32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 32 ä½æµ®ç‚¹æ•°ã€‚ getFloat64ï¼šè¯»å– 8 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 64 ä½æµ®ç‚¹æ•°ã€‚ è¿™ä¸€ç³»åˆ— get æ–¹æ³•çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚åºå·ï¼ˆä¸èƒ½æ˜¯è´Ÿæ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼‰ï¼Œè¡¨ç¤ºä»å“ªä¸ªå­—èŠ‚å¼€å§‹è¯»å–ã€‚ 123456789var buffer = new ArrayBuffer(24);var dv = new DataView(buffer);var v1 = dv.getUint8(0);var v2 = dv.getUint16(1);var v3 = dv.getUint16(3); å¦‚æœä¸€æ¬¡è¯»å–ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šå­—èŠ‚ï¼Œå°±å¿…é¡»æ˜ç¡®æ•°æ®çš„å­˜å‚¨æ–¹å¼ï¼Œåˆ°åº•æ˜¯å°ç«¯å­—èŠ‚åºè¿˜æ˜¯å¤§ç«¯å­—èŠ‚åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒDataView çš„ get æ–¹æ³•ä½¿ç”¨å¤§ç«¯å­—èŠ‚åºè§£è¯»æ•°æ®ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å°ç«¯å­—èŠ‚åºè§£è¯»ï¼Œå¿…é¡»åœ¨ get æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®š trueã€‚ 12345var v1 = dv.getUint16(1, true);var v2 = dv.getUint16(3, false);var v3 = dv.getUint16(3); DataView è§†å›¾æä¾› 8 ä¸ªæ–¹æ³•å†™å…¥å†…å­˜ã€‚ setInt8ï¼šå†™å…¥ 1 ä¸ªå­—èŠ‚çš„ 8 ä½æ•´æ•°ã€‚ setUint8ï¼šå†™å…¥ 1 ä¸ªå­—èŠ‚çš„ 8 ä½æ— ç¬¦å·æ•´æ•°ã€‚ setInt16ï¼šå†™å…¥ 2 ä¸ªå­—èŠ‚çš„ 16 ä½æ•´æ•°ã€‚ setUint16ï¼šå†™å…¥ 2 ä¸ªå­—èŠ‚çš„ 16 ä½æ— ç¬¦å·æ•´æ•°ã€‚ setInt32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æ•´æ•°ã€‚ setUint32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æ— ç¬¦å·æ•´æ•°ã€‚ setFloat32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æµ®ç‚¹æ•°ã€‚ setFloat64ï¼šå†™å…¥ 8 ä¸ªå­—èŠ‚çš„ 64 ä½æµ®ç‚¹æ•°ã€‚è¿™ä¸€ç³»åˆ— set æ–¹æ³•ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—èŠ‚åºå·ï¼Œè¡¨ç¤ºä»å“ªä¸ªå­—èŠ‚å¼€å§‹å†™å…¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ•°æ®ã€‚å¯¹äºé‚£äº›å†™å…¥ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šå­—èŠ‚çš„æ–¹æ³•ï¼Œéœ€è¦æŒ‡å®šç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œfalse æˆ–è€… undefined è¡¨ç¤ºä½¿ç”¨å¤§ç«¯å­—èŠ‚åºå†™å…¥ï¼Œtrue è¡¨ç¤ºä½¿ç”¨å°ç«¯å­—èŠ‚åºå†™å…¥ã€‚12345678910111213dv.setInt32(0, 25, false);dv.setInt32(4, 25);dv.setFloat32(8, 2.5, true);//å¦‚æœä¸ç¡®å®šæ­£åœ¨ä½¿ç”¨çš„è®¡ç®—æœºçš„å­—èŠ‚åºï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„åˆ¤æ–­æ–¹å¼var littleEndian = (function() { var buffer = new ArrayBuffer(2); new DataView(buffer).setInt16(0, 256, true); return new Int16Array(buffer)[0] === 256;})();","link":"/2021/06/01/20210601%E5%89%8D%E7%AB%AF%E5%AF%B9%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/"},{"title":"HTTPçš„è¿›é˜¶å’Œç†è§£","text":"GETå’ŒPOSTè¯·æ±‚çš„åŒºåˆ« é•¿åº¦é™åˆ¶ï¼šGETä¼šé™åˆ¶é•¿åº¦,POSTä¸ä¼š å®é™…ä¸Š HTTP åè®®è§„èŒƒå¹¶æ²¡æœ‰å¯¹ GET æ–¹æ³•è¯·æ±‚çš„ url é•¿åº¦è¿›è¡Œé™åˆ¶ï¼Œæ˜¯æµè§ˆå™¨åŠæœåŠ¡å™¨çš„é™åˆ¶ã€‚ IEå¤§çº¦2083ä¸ªå­—ç¬¦ï¼Œchromeå¤§çº¦ 8192 ä¸ªå­—ç¬¦ï¼Œå…¶ä»–æµè§ˆå™¨å¤§äº 8192 ä¸ªå­—ç¬¦ã€‚ä¸»æµçš„æœåŠ¡å™¨å¯¹ get æ–¹æ³•ä¸­ url çš„é•¿åº¦é™åˆ¶ä¹Ÿå¤§äºç­‰äº8192ä¸ªå­—ç¬¦ã€‚ åº”ç”¨åœºæ™¯ï¼š GET ç”¨äºè·å–æ•°æ®, POST ç”¨äºæäº¤æ•°æ® å®‰å…¨æ€§ï¼š GET å°†å‚æ•°æ”¾å…¥ url ä¸­ï¼Œä¸å¤ªå®‰å…¨ï¼Œå› ä¸ºurl ä¼šè¢«ä¿ç•™åœ¨å†å²è®°å½•ä¸­ã€‚ æŠ¥æ–‡æ ¼å¼ï¼š GET è¯·æ±‚çš„æŠ¥æ–‡ä¸­å®ä½“éƒ¨åˆ†ä¸ºç©ºï¼ŒPOST è¯·æ±‚çš„æŠ¥æ–‡ä¸­å®ä½“éƒ¨åˆ†ä¸ºå‘å‘é€çš„æ•°æ®ã€‚ è¯·æ±‚é•¿åº¦ï¼š GET è¯·æ±‚å‘é€æ•°æ®æ—¶çš„é•¿åº¦ä¼šæ ¹æ®æµè§ˆå™¨çš„é™åˆ¶è€Œä¸åŒã€‚ æ˜¯å¦ç¼“å­˜ï¼š æµè§ˆå™¨ä¸€èˆ¬ä¼šå¯¹ GET è¯·æ±‚ç¼“å­˜ï¼Œä½†å¾ˆå°‘å¯¹ POST è¯·æ±‚ç¼“å­˜ã€‚ å‚æ•°ç±»å‹ï¼š POST çš„å‚æ•°ä¼ é€’æ”¯æŒæ›´å¤šçš„æ•°æ®ç±»å‹ã€‚ HTTPï¼ŒHTTP1.0ï¼ŒHTTP2.0 çš„éƒ¨åˆ†åŒºåˆ«è¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼ˆHypertext Transfer Protocol Secureï¼Œç®€ç§°ï¼šHTTPSï¼‰æ˜¯ä¸€ç§é€šè¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPS ç»ç”± HTTP è¿›è¡Œé€šä¿¡ï¼Œåˆ©ç”¨ SSL/TLS æ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPS çš„ä¸»è¦ç›®çš„æ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚ HTTPåè®®é‡‡ç”¨æ˜æ–‡ä¼ è¾“ä¿¡æ¯ï¼Œå­˜åœ¨ä¿¡æ¯çªƒå¬ã€ä¿¡æ¯ç¯¡æ”¹å’Œä¿¡æ¯åŠ«æŒçš„é£é™©ï¼Œè€Œåè®®TLS/SSLå…·æœ‰èº«ä»½éªŒè¯ã€ä¿¡æ¯åŠ å¯†å’Œå®Œæ•´æ€§æ ¡éªŒçš„åŠŸèƒ½ï¼Œå¯ä»¥é¿å…æ­¤ç±»é—®é¢˜å‘ç”Ÿã€‚ å®‰å…¨å±‚çš„ä¸»è¦èŒè´£å°±æ˜¯å¯¹å‘èµ·çš„ HTTP è¯·æ±‚çš„æ•°æ®è¿›è¡ŒåŠ å¯†æ“ä½œå’Œå¯¹æ¥æ”¶åˆ°çš„HTTPçš„å†…å®¹è¿›è¡Œè§£å¯†æ“ä½œã€‚ HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ç»“åˆä¸¤ç§åŠ å¯†â½…å¼ï¼Œå°†å¯¹ç§°åŠ å¯†çš„å¯†é’¥ä½¿â½¤â¾®å¯¹ç§°åŠ å¯†çš„å…¬é’¥è¿›â¾åŠ å¯†ï¼Œç„¶åå‘é€å‡ºå»ï¼Œæ¥æ”¶â½…ä½¿â½¤ç§é’¥è¿›â¾è§£å¯†å¾—åˆ°å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œç„¶ååŒâ½…å¯ä»¥ä½¿â½¤å¯¹ç§°åŠ å¯†æ¥è¿›â¾æ²Ÿé€šã€‚æ­¤æ—¶â¼œå¸¦æ¥â¼€ä¸ªé—®é¢˜ï¼Œä¸­é—´â¼ˆé—®é¢˜ï¼š å¦‚æœæ­¤æ—¶åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å­˜åœ¨â¼€ä¸ªä¸­é—´â¼ˆ,è¿™ä¸ªä¸­é—´â¼ˆåªéœ€è¦æŠŠåŸæœ¬åŒâ½…é€šä¿¡äº’å‘çš„å…¬é’¥,æ¢æˆâ¾ƒâ¼°çš„å…¬é’¥,è¿™æ ·ä¸­é—´â¼ˆå°±å¯ä»¥è½»æ¾è§£å¯†é€šä¿¡åŒâ½…æ‰€å‘é€çš„æ‰€æœ‰æ•°æ®ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™éœ€è¦â¼€ä¸ªå®‰å…¨çš„ç¬¬ä¸‰â½…é¢å‘è¯ä¹¦ï¼ˆCAï¼‰ï¼Œè¯æ˜èº«ä»½çš„èº«ä»½ï¼Œé˜²â½Œè¢«ä¸­é—´â¼ˆæ”»å‡»ã€‚ è¯ä¹¦ä¸­åŒ…æ‹¬ï¼šç­¾å‘è€…ã€è¯ä¹¦â½¤é€”ã€ä½¿â½¤è€…å…¬é’¥ã€ä½¿â½¤è€…ç§é’¥ã€ä½¿â½¤è€…çš„ Hash ç®—æ³•ã€è¯ä¹¦åˆ°æœŸæ—¶é—´ç­‰ã€‚ ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå¦‚æœä¸­é—´â¼ˆç¯¡æ”¹äº†è¯ä¹¦ï¼Œé‚£ä¹ˆèº«ä»½è¯æ˜æ˜¯ä¸æ˜¯å°±â½†æ•ˆäº†ï¼Ÿè¿™ä¸ªè¯æ˜å°±â½©ä¹°äº†ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦â¼€ä¸ªæ–°çš„æŠ€æœ¯ï¼Œæ•°å­—ç­¾åã€‚ æ•°å­—ç­¾åå°±æ˜¯â½¤ CA â¾ƒå¸¦çš„ Hash ç®—æ³•å¯¹è¯ä¹¦çš„å†…å®¹è¿›â¾ HASH å¾—åˆ°â¼€ä¸ªæ‘˜è¦ï¼Œå†â½¤ CA çš„ç§é’¥åŠ å¯†ï¼Œæœ€ç»ˆç»„æˆæ•°å­—ç­¾åã€‚å½“åˆ«â¼ˆæŠŠä»–çš„è¯ä¹¦å‘è¿‡æ¥çš„æ—¶å€™,æˆ‘å†â½¤åŒæ ·çš„ Hash ç®—æ³•,å†æ¬¡â½£æˆæ¶ˆæ¯æ‘˜è¦ï¼Œç„¶åâ½¤ CA çš„å…¬é’¥å¯¹æ•°å­—ç­¾åè§£å¯†,å¾—åˆ° CA åˆ›å»ºçš„æ¶ˆæ¯æ‘˜è¦,ä¸¤è€…â¼€â½,å°±çŸ¥é“ä¸­é—´æœ‰æ²¡æœ‰è¢«â¼ˆç¯¡æ”¹äº†ã€‚è¿™ä¸ªæ—¶å€™å°±èƒ½æœ€â¼¤ç¨‹åº¦ä¿è¯é€šä¿¡çš„å®‰å…¨äº†ã€‚ HTTPï¼ŒHTTP1.0ï¼ŒHTTP2.0 çš„éƒ¨åˆ†åŒºåˆ«é˜Ÿå¤´é˜»å¡æ˜¯ç”± HTTP åŸºæœ¬çš„â€œè¯·æ±‚ - åº”ç­”â€æ¨¡å‹æ‰€å¯¼è‡´çš„ã€‚HTTP è§„å®šæŠ¥æ–‡å¿…é¡»æ˜¯â€œä¸€å‘ä¸€æ”¶â€ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„â€œä¸²è¡Œâ€é˜Ÿåˆ—ã€‚é˜Ÿåˆ—é‡Œçš„è¯·æ±‚æ˜¯æ²¡æœ‰ä¼˜å…ˆçº§çš„ï¼Œåªæœ‰å…¥é˜Ÿçš„å…ˆåé¡ºåºï¼Œæ’åœ¨æœ€å‰é¢çš„è¯·æ±‚ä¼šè¢«æœ€ä¼˜å…ˆå¤„ç†ã€‚å¦‚æœé˜Ÿé¦–çš„è¯·æ±‚å› ä¸ºå¤„ç†çš„å¤ªæ…¢è€½è¯¯äº†æ—¶é—´ï¼Œé‚£ä¹ˆé˜Ÿåˆ—é‡Œåé¢çš„æ‰€æœ‰è¯·æ±‚ä¹Ÿä¸å¾—ä¸è·Ÿç€ä¸€èµ·ç­‰å¾…ï¼Œç»“æœå°±æ˜¯å…¶ä»–çš„è¯·æ±‚æ‰¿æ‹…äº†ä¸åº”æœ‰çš„æ—¶é—´æˆæœ¬ï¼Œé€ æˆäº†é˜Ÿå¤´å µå¡çš„ç°è±¡ã€‚ HTTPå’ŒHTTPSè¯·æ±‚çš„åŒºåˆ« HTTP åè®®ä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼ŒHTTPS åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„ SSL åŠ å¯†ä¼ è¾“åè®®ï¼› HTTP åè®®ç«¯å£æ˜¯ 80ï¼ŒHTTPS åè®®ç«¯å£æ˜¯ 443ï¼› HTTP åè®®è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPS åè®®æ˜¯æœ‰ SSL å’Œ HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTP æ›´åŠ å®‰å…¨ã€‚ HTTPçŠ¶æ€ç  ç±»åˆ« åŸå›  æè¿° 1xx Informational(ä¿¡æ¯æ€§çŠ¶æ€ç ) æ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç† 2xx Success(æˆåŠŸçŠ¶æ€ç ) è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯• 3xx Redirection(é‡å®šå‘çŠ¶æ€ç ) éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä¸€å®Œæˆè¯·æ±‚ 4xx Client Error (å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ) æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ 5xx Server Error(æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ) æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ 200 OK è¡¨ç¤ºå®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚è¢«æœåŠ¡å™¨ç«¯æ­£å¸¸å¤„ç†äº†ã€‚ 204 No Content è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å·²ç»åœ¨æœåŠ¡å™¨ç«¯æ­£å¸¸å¤„ç†äº†ï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›çš„å†…å®¹ï¼Œå“åº”æŠ¥æ–‡ä¸­ä¸åŒ…å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ä¸€èˆ¬åœ¨åªéœ€è¦ä»å®¢æˆ·ç«¯å¾€æœåŠ¡å™¨ç«¯å‘é€ä¿¡æ¯ï¼Œè€ŒæœåŠ¡å™¨ç«¯ä¸éœ€è¦å¾€å®¢æˆ·ç«¯å‘é€å†…å®¹æ—¶ä½¿ç”¨ã€‚ 206 Partial Content è¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨ç«¯æ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„ GET è¯·æ±‚ã€‚å“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚ 301 æ°¸ä¹…é‡å®šå‘ è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²ç»è¢«åˆ†é…äº†æ–°çš„ URIï¼Œä»¥ååº”ä½¿ç”¨èµ„æºæŒ‡å®šçš„ URIã€‚æ–°çš„ URI ä¼šåœ¨ HTTP å“åº”å¤´ä¸­çš„ Location é¦–éƒ¨å­—æ®µæŒ‡å®šã€‚è‹¥ç”¨æˆ·å·²ç»æŠŠåŸæ¥çš„URIä¿å­˜ä¸ºä¹¦ç­¾ï¼Œæ­¤æ—¶ä¼šæŒ‰ç…§ Location ä¸­æ–°çš„URIé‡æ–°ä¿å­˜è¯¥ä¹¦ç­¾ã€‚åŒæ—¶ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€æ›¿æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚ä½¿ç”¨åœºæ™¯ å½“æˆ‘ä»¬æƒ³æ¢ä¸ªåŸŸåï¼Œæ—§çš„åŸŸåä¸å†ä½¿ç”¨æ—¶ï¼Œç”¨æˆ·è®¿é—®æ—§åŸŸåæ—¶ç”¨301å°±é‡å®šå‘åˆ°æ–°çš„åŸŸåã€‚å…¶å®ä¹Ÿæ˜¯å‘Šè¯‰æœç´¢å¼•æ“æ”¶å½•çš„åŸŸåéœ€è¦å¯¹æ–°çš„åŸŸåè¿›è¡Œæ”¶å½•ã€‚ åœ¨æœç´¢å¼•æ“çš„æœç´¢ç»“æœä¸­å‡ºç°äº†ä¸å¸¦wwwçš„åŸŸåï¼Œè€Œå¸¦wwwçš„åŸŸåå´æ²¡æœ‰æ”¶å½•ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨301é‡å®šå‘æ¥å‘Šè¯‰æœç´¢å¼•æ“æˆ‘ä»¬ç›®æ ‡çš„åŸŸåæ˜¯å“ªä¸€ä¸ªã€‚ 302 ä¸´æ—¶é‡å®šå‘ è¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…åˆ°äº†æ–°çš„ URIï¼Œå¸Œæœ›ç”¨æˆ·ï¼ˆæœ¬æ¬¡ï¼‰èƒ½ä½¿ç”¨æ–°çš„ URI è®¿é—®èµ„æºã€‚å’Œ 301 Moved Permanently çŠ¶æ€ç ç›¸ä¼¼ï¼Œä½†æ˜¯ 302 ä»£è¡¨çš„èµ„æºä¸æ˜¯è¢«æ°¸ä¹…é‡å®šå‘ï¼Œåªæ˜¯ä¸´æ—¶æ€§è´¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å·²ç§»åŠ¨çš„èµ„æºå¯¹åº”çš„ URI å°†æ¥è¿˜æœ‰å¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚è‹¥ç”¨æˆ·æŠŠ URI ä¿å­˜æˆä¹¦ç­¾ï¼Œä½†ä¸ä¼šåƒ 301 çŠ¶æ€ç å‡ºç°æ—¶é‚£æ ·å»æ›´æ–°ä¹¦ç­¾ï¼Œè€Œæ˜¯ä»æ—§ä¿ç•™è¿”å› 302 çŠ¶æ€ç çš„é¡µé¢å¯¹åº”çš„ URIã€‚åŒæ—¶ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿ç•™æ—§çš„ç½‘å€ã€‚å› ä¸ºæœåŠ¡å™¨è¿”å›302ä»£ç ï¼Œæœç´¢å¼•æ“è®¤ä¸ºæ–°çš„ç½‘å€åªæ˜¯æš‚æ—¶çš„ã€‚ä½¿ç”¨åœºæ™¯ å½“æˆ‘ä»¬åœ¨åšæ´»åŠ¨æ—¶ï¼Œç™»å½•åˆ°é¦–é¡µè‡ªåŠ¨é‡å®šå‘ï¼Œè¿›å…¥æ´»åŠ¨é¡µé¢ã€‚ æœªç™»é™†çš„ç”¨æˆ·è®¿é—®ç”¨æˆ·ä¸­å¿ƒé‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚ è®¿é—®404é¡µé¢é‡æ–°å®šå‘åˆ°é¦–é¡µã€‚ 304 Not Modified æµè§ˆå™¨ç¼“å­˜ç›¸å…³ã€‚ è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿é—®èµ„æºï¼Œä½†æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚ 304 çŠ¶æ€ç è¿”å›æ—¶ï¼Œä¸åŒ…å«ä»»ä½•å“åº”çš„ä¸»ä½“éƒ¨åˆ†ã€‚304 è™½ç„¶è¢«åˆ’åˆ†åœ¨ 3XX ç±»åˆ«ä¸­ï¼Œä½†æ˜¯å’Œé‡å®šå‘æ²¡æœ‰å…³ç³»ã€‚å¸¦æ¡ä»¶çš„è¯·æ±‚ï¼ˆHTTP æ¡ä»¶è¯·æ±‚ï¼‰ï¼šä½¿ç”¨ GETæ–¹æ³• è¯·æ±‚ï¼Œè¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«ï¼ˆif-matchã€if-none-matchã€if-modified-sinceã€if-unmodified-sinceã€if-rangeï¼‰ä¸­ä»»æ„é¦–éƒ¨ã€‚ 304å¹¶ä¸æ˜¯ä¸€ç§é”™è¯¯ï¼Œè€Œæ˜¯å‘Šè¯‰å®¢æˆ·ç«¯æœ‰ç¼“å­˜ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ã€‚è¿”å›é¡µé¢çš„åªæœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œæ˜¯æ²¡æœ‰å†…å®¹éƒ¨åˆ†çš„ï¼Œè¿™æ ·åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç½‘é¡µçš„æ€§èƒ½ã€‚ 400 Bad Request è¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚å½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œéœ€ä¿®æ”¹è¯·æ±‚çš„å†…å®¹åå†æ¬¡å‘é€è¯·æ±‚ã€‚å¦å¤–ï¼Œæµè§ˆå™¨ä¼šåƒ 200 OK ä¸€æ ·å¯¹å¾…è¯¥çŠ¶æ€ç ã€‚ 401 Unauthorized è¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡ HTTP è®¤è¯(BASIC è®¤è¯ã€DIGEST è®¤è¯)çš„è®¤è¯ä¿¡æ¯ã€‚è‹¥ä¹‹å‰å·²è¿›è¡Œè¿‡ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ™è¡¨ç¤ºç”¨æˆ·è®¤è¯å¤±è´¥, æ¯”å¦‚ç™»å½•å¤±è´¥ 403 Forbidden è¡¨ç¤ºè¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»äº†ï¼ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰å¿…è¦ç»™å‡ºè¯¦ç»†ç†ç”±ï¼Œä½†æ˜¯å¯ä»¥åœ¨å“åº”æŠ¥æ–‡å®ä½“çš„ä¸»ä½“ä¸­è¿›è¡Œè¯´æ˜ã€‚è¿›å…¥è¯¥çŠ¶æ€åï¼Œä¸èƒ½å†ç»§ç»­è¿›è¡ŒéªŒè¯ã€‚è¯¥è®¿é—®æ˜¯æ°¸ä¹…ç¦æ­¢çš„ï¼Œå¹¶ä¸”ä¸åº”ç”¨é€»è¾‘å¯†åˆ‡ç›¸å…³ã€‚ 404 Not Found è¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºã€‚ 405 Method Not Allowed è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„æ–¹æ³•è™½ç„¶èƒ½è¢«æœåŠ¡å™¨è¯†åˆ«ï¼Œä½†æ˜¯æœåŠ¡å™¨ç¦æ­¢ä½¿ç”¨è¯¥æ–¹æ³•ã€‚å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ OPTIONS æ–¹æ³•ï¼ˆé¢„æ£€ï¼‰æ¥æŸ¥çœ‹æœåŠ¡å™¨å…è®¸çš„è®¿é—®æ–¹æ³•, å¦‚ä¸‹Access-Control-Allow-Methods: GET,HEAD,PUT,PATCH,POST,DELETE 500 Internal Server Error è¡¨ç¤ºæœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ã€‚ä¾‹å¦‚å‡ºç°äº† Bug 502 Bad Gateway è¡¨ç¤ºæ‰®æ¼”ç½‘å…³æˆ–ä»£ç†è§’è‰²çš„æœåŠ¡å™¨ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨ä¸­æ¥æ”¶åˆ°çš„å“åº”æ˜¯æ— æ•ˆçš„ã€‚æ³¨æ„ï¼Œ502 é”™è¯¯é€šå¸¸ä¸æ˜¯å®¢æˆ·ç«¯èƒ½å¤Ÿä¿®å¤çš„ï¼Œè€Œæ˜¯éœ€è¦ç”±é€”ç»çš„ Web æœåŠ¡å™¨æˆ–è€…ä»£ç†æœåŠ¡å™¨å¯¹å…¶è¿›è¡Œä¿®å¤ã€‚ä»¥ä¸‹æƒ…å†µä¼šå‡ºç°502ï¼š 503 Service Unavailable è¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚ä½¿ç”¨åœºæ™¯ï¼š æœåŠ¡å™¨åœæœºç»´æŠ¤æ—¶ï¼Œä¸»åŠ¨ç”¨503å“åº”è¯·æ±‚ï¼› nginx è®¾ç½®é™é€Ÿï¼Œè¶…è¿‡é™é€Ÿï¼Œä¼šè¿”å›503ã€‚ 504 Gateway Timeout è¡¨ç¤ºç½‘å…³æˆ–è€…ä»£ç†çš„æœåŠ¡å™¨æ— æ³•åœ¨è§„å®šçš„æ—¶é—´å†…è·å¾—æƒ³è¦çš„å“åº”ã€‚ä»–æ˜¯HTTP 1.1ä¸­æ–°åŠ å…¥çš„ã€‚ä½¿ç”¨åœºæ™¯ï¼šä»£ç æ‰§è¡Œæ—¶é—´è¶…æ—¶ï¼Œæˆ–è€…å‘ç”Ÿäº†æ­»å¾ªç¯ã€‚ æµè§ˆå™¨ä¸­è¾“å…¥URLæŒ‰ä¸‹å›è½¦åå‘ç”Ÿäº†ä»€ä¹ˆè§£æURLï¼š é¦–å…ˆä¼šå¯¹ URL è¿›è¡Œè§£æï¼Œåˆ†ææ‰€éœ€è¦ä½¿ç”¨çš„ä¼ è¾“åè®®å’Œè¯·æ±‚çš„èµ„æºçš„è·¯å¾„ã€‚ä¼šå¯¹éæ³•å­—ç¬¦è¿›è¡Œè½¬ä¹‰ ç¼“å­˜åˆ¤æ–­ï¼š å¦‚æœå­˜åœ¨æœ‰æ•ˆçš„ç¼“å­˜, å°±ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œå¦åˆ™å‘æœåŠ¡å™¨å‘èµ·æ–°çš„è¯·æ±‚ã€‚ DNSè§£æï¼š æ­¤æ­¥éª¤ä¸»è¦æ˜¯è·å–IPåœ°å€, å…·ä½“æ­¥éª¤ï¼šæœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜-&gt;å¦-&gt;æœ¬åœ° DNS æœåŠ¡å™¨æ˜¯å¦æœ‰ç¼“å­˜-&gt;å¦-&gt;å‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚-&gt;å¾—åˆ°IPåœ°å€ è·å–MACåœ°å€ï¼š è·å–ç›®æ ‡ç½‘å€çš„ MAC( å±€åŸŸç½‘åœ°å€) åœ°å€, ä¸»è¦æ˜¯éœ€è¦åˆ¤æ–­ç›®æ ‡åœ°å€ä¸å½“å‰æœºå™¨æ˜¯å¦åœ¨åŒä¸€ä¸ªå­ç½‘, ä¸åœ¨å°±éœ€è¦ç½‘å…³è½¬å‘ã€‚TCPä¸‰æ¬¡æ¡æ‰‹ï¼š å»ºç«‹ TCP è¿æ¥ã€‚ HTTPSæ¡æ‰‹ï¼š å¦‚æœä½¿ç”¨çš„æ˜¯ HTTPS åè®®ï¼Œåœ¨é€šä¿¡å‰è¿˜å­˜åœ¨ TLS çš„ä¸€ä¸ªå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ã€‚é¦–å…ˆç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€ä½¿ç”¨çš„åè®®çš„ç‰ˆæœ¬å·ã€ä¸€ä¸ªéšæœºæ•°å’Œå¯ä»¥ä½¿ç”¨çš„åŠ å¯†æ–¹æ³•ã€‚æœåŠ¡å™¨ç«¯æ”¶åˆ°åï¼Œç¡®è®¤åŠ å¯†çš„æ–¹æ³•ï¼Œä¹Ÿå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªéšæœºæ•°å’Œè‡ªå·±çš„æ•°å­—è¯ä¹¦ã€‚å®¢æˆ·ç«¯æ”¶åˆ°åï¼Œé¦–å…ˆæ£€æŸ¥æ•°å­—è¯ä¹¦æ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœæœ‰æ•ˆï¼Œåˆ™å†ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œå¹¶ä½¿ç”¨è¯ä¹¦ä¸­çš„å…¬é’¥å¯¹éšæœºæ•°åŠ å¯†ï¼Œç„¶åå‘é€ç»™æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä¸”è¿˜ä¼šæä¾›ä¸€ä¸ªå‰é¢æ‰€æœ‰å†…å®¹çš„ hash å€¼ä¾›æœåŠ¡å™¨ç«¯æ£€éªŒã€‚æœåŠ¡å™¨ç«¯æ¥æ”¶åï¼Œä½¿ç”¨è‡ªå·±çš„ç§é’¥å¯¹æ•°æ®è§£å¯†ï¼ŒåŒæ—¶å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå‰é¢æ‰€æœ‰å†…å®¹çš„ hash å€¼ä¾›å®¢æˆ·ç«¯æ£€éªŒã€‚è¿™ä¸ªæ—¶å€™åŒæ–¹éƒ½æœ‰äº†ä¸‰ä¸ªéšæœºæ•°ï¼ŒæŒ‰ç…§ä¹‹å‰æ‰€çº¦å®šçš„åŠ å¯†æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆä¸€æŠŠç§˜é’¥ï¼Œä»¥ååŒæ–¹é€šä¿¡å‰ï¼Œå°±ä½¿ç”¨è¿™ä¸ªç§˜é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†åå†ä¼ è¾“ã€‚ä¸‹é¢çœ‹è¯¦è§£ è¿”å›æ•°æ®ï¼š å½“é¡µé¢è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ç«¯åï¼ŒæœåŠ¡å™¨ç«¯ä¼šè¿”å›ä¸€ä¸ª html æ–‡ä»¶ä½œä¸ºå“åº”ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åï¼Œå¼€å§‹å¯¹ html æ–‡ä»¶è¿›è¡Œè§£æï¼Œå¼€å§‹é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹ã€‚ é¡µé¢æ¸²æŸ“ï¼š æµè§ˆå™¨é¦–å…ˆä¼šæ ¹æ® html æ–‡ä»¶æ„å»º DOM æ ‘ï¼Œæ ¹æ®è§£æåˆ°çš„ css æ–‡ä»¶æ„å»º CSSOM æ ‘ï¼Œå¦‚æœé‡åˆ° script æ ‡ç­¾ï¼Œåˆ™åˆ¤ç«¯æ˜¯å¦å«æœ‰ defer æˆ–è€… async å±æ€§ï¼Œè¦ä¸ç„¶ script çš„åŠ è½½å’Œæ‰§è¡Œä¼šé€ æˆé¡µé¢çš„æ¸²æŸ“çš„é˜»å¡ã€‚å½“ DOM æ ‘å’Œ CSSOM æ ‘å»ºç«‹å¥½åï¼Œæ ¹æ®å®ƒä»¬æ¥æ„å»ºæ¸²æŸ“æ ‘ã€‚æ¸²æŸ“æ ‘æ„å»ºå¥½åï¼Œä¼šæ ¹æ®æ¸²æŸ“æ ‘æ¥è¿›è¡Œå¸ƒå±€ã€‚å¸ƒå±€å®Œæˆåï¼Œæœ€åä½¿ç”¨æµè§ˆå™¨çš„ UI æ¥å£å¯¹é¡µé¢è¿›è¡Œç»˜åˆ¶ã€‚è¿™ä¸ªæ—¶å€™æ•´ä¸ªé¡µé¢å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ TCPå››æ¬¡æŒ¥æ‰‹ï¼š æœ€åä¸€æ­¥æ˜¯ TCP æ–­å¼€è¿æ¥çš„å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ã€‚è‹¥å®¢æˆ·ç«¯è®¤ä¸ºæ•°æ®å‘é€å®Œæˆï¼Œåˆ™å®ƒéœ€è¦å‘æœåŠ¡ç«¯å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥é‡Šæ”¾è¯·æ±‚åï¼Œä¼šå‘Šè¯‰åº”ç”¨å±‚è¦é‡Šæ”¾ TCP é“¾æ¥ã€‚ç„¶åä¼šå‘é€ ACK åŒ…ï¼Œå¹¶è¿›å…¥ CLOSE_WAIT çŠ¶æ€ï¼Œæ­¤æ—¶è¡¨æ˜å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„è¿æ¥å·²ç»é‡Šæ”¾ï¼Œä¸å†æ¥æ”¶å®¢æˆ·ç«¯å‘çš„æ•°æ®äº†ã€‚ä½†æ˜¯å› ä¸º TCP è¿æ¥æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ä»æ—§å¯ä»¥å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚æœåŠ¡ç«¯å¦‚æœæ­¤æ—¶è¿˜æœ‰æ²¡å‘å®Œçš„æ•°æ®ä¼šç»§ç»­å‘é€ï¼Œå®Œæ¯•åä¼šå‘å®¢æˆ·ç«¯å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œç„¶åæœåŠ¡ç«¯ä¾¿è¿›å…¥ LAST-ACK çŠ¶æ€ã€‚å®¢æˆ·ç«¯æ”¶åˆ°é‡Šæ”¾è¯·æ±‚åï¼Œå‘æœåŠ¡ç«¯å‘é€ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯è¿›å…¥ TIME-WAIT çŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¼šæŒç»­ 2MSLï¼ˆæœ€å¤§æ®µç”Ÿå­˜æœŸï¼ŒæŒ‡æŠ¥æ–‡æ®µåœ¨ç½‘ç»œä¸­ç”Ÿå­˜çš„æ—¶é—´ï¼Œè¶…æ—¶ä¼šè¢«æŠ›å¼ƒï¼‰ æ—¶é—´ï¼Œè‹¥è¯¥æ—¶é—´æ®µå†…æ²¡æœ‰æœåŠ¡ç«¯çš„é‡å‘è¯·æ±‚çš„è¯ï¼Œå°±è¿›å…¥ CLOSED çŠ¶æ€ã€‚å½“æœåŠ¡ç«¯æ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œä¹Ÿä¾¿è¿›å…¥ CLOSED çŠ¶æ€ã€‚ HTTPSé€šä¿¡(æ¡æ‰‹)è¿‡ç¨‹å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚ä¸­åŒ…å«ä½¿ç”¨çš„åè®®ç‰ˆæœ¬å·ã€ç”Ÿæˆçš„ä¸€ä¸ªéšæœºæ•°ã€ä»¥åŠå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹æ³•ã€‚æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œç¡®è®¤åŒæ–¹ä½¿ç”¨çš„åŠ å¯†æ–¹æ³•ã€å¹¶ç»™å‡ºæœåŠ¡å™¨çš„è¯ä¹¦ã€ä»¥åŠä¸€ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„éšæœºæ•°ã€‚å®¢æˆ·ç«¯ç¡®è®¤æœåŠ¡å™¨è¯ä¹¦æœ‰æ•ˆåï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºæ•°ï¼Œå¹¶ä½¿ç”¨æ•°å­—è¯ä¹¦ä¸­çš„å…¬é’¥ï¼ŒåŠ å¯†è¿™ä¸ªéšæœºæ•°ï¼Œç„¶åå‘ç»™æœ åŠ¡å™¨ã€‚å¹¶ä¸”è¿˜ä¼šæä¾›ä¸€ä¸ªå‰é¢æ‰€æœ‰å†…å®¹çš„ hash çš„å€¼ï¼Œç”¨æ¥ä¾›æœåŠ¡å™¨æ£€éªŒã€‚æœåŠ¡å™¨ä½¿ç”¨è‡ªå·±çš„ç§é’¥ï¼Œæ¥è§£å¯†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„éšæœºæ•°ã€‚å¹¶æä¾›å‰é¢æ‰€æœ‰å†…å®¹çš„ hash å€¼æ¥ä¾›å®¢æˆ·ç«¯æ£€éªŒã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ ¹æ®çº¦å®šçš„åŠ å¯†æ–¹æ³•ä½¿ç”¨å‰é¢çš„ä¸‰ä¸ªéšæœºæ•°ï¼Œç”Ÿæˆå¯¹è¯ç§˜é’¥ï¼Œä»¥åçš„å¯¹è¯è¿‡ç¨‹éƒ½ä½¿ç”¨è¿™ä¸ªç§˜é’¥æ¥åŠ å¯†ä¿¡æ¯ã€‚ HTTPä¸‰æ¬¡æ¡æ‰‹ä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-way Handshakeï¼‰å…¶å®å°±æ˜¯æŒ‡å»ºç«‹ä¸€ä¸ª TCP è¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±å‘é€3ä¸ªåŒ…ã€‚è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å’Œå‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€æŒ‡å®šè‡ªå·±çš„åˆå§‹åŒ–åºåˆ—å·ä¸ºåé¢çš„å¯é æ€§ä¼ é€åšå‡†å¤‡ã€‚å®è´¨ä¸Šå…¶å®å°±æ˜¯è¿æ¥æœåŠ¡å™¨æŒ‡å®šç«¯å£ï¼Œå»ºç«‹ TCP è¿æ¥ï¼Œå¹¶åŒæ­¥è¿æ¥åŒæ–¹çš„åºåˆ—å·å’Œç¡®è®¤å·ï¼Œäº¤æ¢ TCP çª—å£å¤§å°ä¿¡æ¯ã€‚åˆšå¼€å§‹å®¢æˆ·ç«¯å¤„äº Closed çš„çŠ¶æ€ï¼ŒæœåŠ¡ç«¯å¤„äº Listen çŠ¶æ€ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š å®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘ä¸€ä¸ª SYN æŠ¥æ–‡ï¼Œå¹¶æŒ‡æ˜å®¢æˆ·ç«¯çš„åˆå§‹åŒ–åºåˆ—å· ISNï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº SYN_SEND çŠ¶æ€ã€‚ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šä»¥è‡ªå·±çš„ SYN æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æŒ‡å®šäº†è‡ªå·±çš„åˆå§‹åŒ–åºåˆ—å· ISNã€‚åŒæ—¶ä¼šæŠŠå®¢æˆ·ç«¯çš„ ISN + 1 ä½œä¸ºACK çš„å€¼ï¼Œè¡¨ç¤ºè‡ªå·±å·²ç»æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„ SYNï¼Œæ­¤æ—¶æœåŠ¡å™¨å¤„äº SYN_REVD çš„çŠ¶æ€ã€‚ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š å®¢æˆ·ç«¯æ”¶åˆ° SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šå‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ï¼Œå½“ç„¶ï¼Œä¹Ÿæ˜¯ä¸€æ ·æŠŠæœåŠ¡å™¨çš„ ISN + 1 ä½œä¸º ACK çš„å€¼ï¼Œè¡¨ç¤ºå·²ç»æ”¶åˆ°äº†æœåŠ¡ç«¯çš„ SYN æŠ¥æ–‡ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº ESTABLISHED çŠ¶æ€ã€‚æœåŠ¡å™¨æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œä¹Ÿå¤„äº ESTABLISHED çŠ¶æ€ï¼Œæ­¤æ—¶ï¼ŒåŒæ–¹å·²å»ºç«‹èµ·äº†è¿æ¥ã€‚é‚£ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹å‘¢ï¼Ÿä¸¤æ¬¡ä¸è¡Œå—ï¼Ÿä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å’Œå‘é€èƒ½åŠ›éƒ½æ­£å¸¸å¦‚æœæ˜¯ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼Œåˆ™ä¼šå‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼š å¦‚å®¢æˆ·ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œä½†å› è¿æ¥è¯·æ±‚æŠ¥æ–‡ä¸¢å¤±è€Œæœªæ”¶åˆ°ç¡®è®¤ï¼Œäºæ˜¯å®¢æˆ·ç«¯å†é‡ä¼ ä¸€æ¬¡è¿æ¥è¯·æ±‚ã€‚åæ¥æ”¶åˆ°äº†ç¡®è®¤ï¼Œå»ºç«‹äº†è¿æ¥ã€‚æ•°æ®ä¼ è¾“å®Œæ¯•åï¼Œå°±é‡Šæ”¾äº†è¿æ¥ï¼Œå®¢æˆ·ç«¯å…±å‘å‡ºäº†ä¸¤ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªä¸¢å¤±ï¼Œç¬¬äºŒä¸ªåˆ°è¾¾äº†æœåŠ¡ç«¯ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªä¸¢å¤±çš„æŠ¥æ–‡æ®µåªæ˜¯åœ¨æŸäº›ç½‘ç»œç»“ç‚¹é•¿æ—¶é—´æ»ç•™äº†ï¼Œå»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾æœåŠ¡ç«¯ï¼Œæ­¤æ—¶æœåŠ¡ç«¯è¯¯è®¤ä¸ºå®¢æˆ·ç«¯åˆå‘å‡ºä¸€æ¬¡æ–°çš„è¿æ¥è¯·æ±‚ï¼Œäºæ˜¯å°±å‘å®¢æˆ·ç«¯å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ï¼Œä¸é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Œåªè¦æœåŠ¡ç«¯å‘å‡ºç¡®è®¤ï¼Œå°±å»ºç«‹æ–°çš„è¿æ¥äº†ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¿½ç•¥æœåŠ¡ç«¯å‘æ¥çš„ç¡®è®¤ï¼Œä¹Ÿä¸å‘é€æ•°æ®ï¼Œåˆ™æœåŠ¡ç«¯ä¸€è‡´ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œæµªè´¹èµ„æºã€‚ TCP ä¸‰æ¬¡æ¡æ‰‹çš„å»ºç«‹è¿æ¥çš„è¿‡ç¨‹å°±æ˜¯ç›¸äº’ç¡®è®¤åˆå§‹åºå·çš„è¿‡ç¨‹ï¼Œå‘Šè¯‰å¯¹æ–¹ï¼Œä»€ä¹ˆæ ·åºå·çš„æŠ¥æ–‡æ®µèƒ½å¤Ÿè¢«æ­£ç¡®æ¥æ”¶ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨æ˜¯å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ç«¯çš„åˆå§‹åºå·çš„ç¡®è®¤ã€‚å¦‚æœåªä½¿ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±æ²¡æœ‰åŠæ³•çŸ¥é“è‡ªå·±çš„åºå·æ˜¯å¦å·²è¢«ç¡®è®¤ã€‚åŒæ—¶è¿™æ ·ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢å¤±æ•ˆçš„è¯·æ±‚æŠ¥æ–‡æ®µè¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œè€Œå‡ºç°é”™è¯¯çš„æƒ…å†µã€‚ HTTPå››æ¬¡æŒ¥æ‰‹ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š å®¢æˆ·ç«¯ä¼šå‘é€ä¸€ä¸ª FIN æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­ä¼šæŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº FIN_WAIT1 çŠ¶æ€ã€‚ å³å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ˆFIN=1ï¼Œåºå·seq=uï¼‰ï¼Œå¹¶åœæ­¢å†å‘é€æ•°æ®ï¼Œä¸»åŠ¨å…³é—­TCPè¿æ¥ï¼Œè¿›å…¥FIN_WAIT1ï¼ˆç»ˆæ­¢ç­‰å¾…1ï¼‰çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯çš„ç¡®è®¤ã€‚ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼š æœåŠ¡ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¼šå‘é€ ACK æŠ¥æ–‡ï¼Œä¸”æŠŠå®¢æˆ·ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸º ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œè¡¨æ˜å·²ç»æ”¶åˆ°å®¢æˆ·ç«¯çš„æŠ¥æ–‡äº†ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å¤„äº CLOSE_WAIT çŠ¶æ€ã€‚ å³æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåå³å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK=1ï¼Œç¡®è®¤å·ack=u+1ï¼Œåºå·seq=vï¼‰ï¼ŒæœåŠ¡ç«¯è¿›å…¥CLOSE_WAITï¼ˆå…³é—­ç­‰å¾…ï¼‰çŠ¶æ€ï¼Œæ­¤æ—¶çš„TCPå¤„äºåŠå…³é—­çŠ¶æ€ï¼Œå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„è¿æ¥é‡Šæ”¾ã€‚å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„ç¡®è®¤åï¼Œè¿›å…¥FIN_WAIT2ï¼ˆç»ˆæ­¢ç­‰å¾…2ï¼‰çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯å‘å‡ºçš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µã€‚ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š å¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ FIN æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶æœåŠ¡ç«¯å¤„äº LAST_ACK çš„çŠ¶æ€ã€‚ å³æœåŠ¡ç«¯æ²¡æœ‰è¦å‘å®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®ï¼ŒæœåŠ¡ç«¯å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ˆFIN=1ï¼ŒACK=1ï¼Œåºå·seq=wï¼Œç¡®è®¤å·ack=u+1ï¼‰ï¼ŒæœåŠ¡ç«¯è¿›å…¥LAST_ACKï¼ˆæœ€åç¡®è®¤ï¼‰çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„ç¡®è®¤ã€‚ ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š å®¢æˆ·ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¸€æ ·å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸”æŠŠæœåŠ¡ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸ºè‡ªå·± ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº TIME_WAIT çŠ¶æ€ã€‚éœ€è¦è¿‡ä¸€é˜µ ä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°è‡ªå·±çš„ ACK æŠ¥æ–‡ä¹‹åæ‰ä¼šè¿›å…¥ CLOSED çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œå°±å¤„äºå…³é—­è¿æ¥äº†ï¼Œå¤„äº CLOSED çŠ¶æ€ã€‚å³å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå¯¹æ­¤å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK=1ï¼Œseq=u+1ï¼Œack=w+1ï¼‰ï¼Œå®¢æˆ·ç«¯è¿›å…¥TIME_WAITï¼ˆæ—¶é—´ç­‰å¾…ï¼‰çŠ¶æ€ã€‚æ­¤æ—¶TCPæœªé‡Šæ”¾æ‰ï¼Œéœ€è¦ç»è¿‡æ—¶é—´ç­‰å¾…è®¡æ—¶å™¨è®¾ç½®çš„æ—¶é—´2MSLåï¼Œå®¢æˆ·ç«¯æ‰è¿›å…¥CLOSEDçŠ¶æ€ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ å› ä¸ºå½“æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“æœåŠ¡ç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œâ€œä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘æœåŠ¡ç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ï¼Œæ•…éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚ TCP ä½¿ç”¨å››æ¬¡æŒ¥æ‰‹çš„åŸå› æ˜¯å› ä¸º TCP çš„è¿æ¥æ˜¯å…¨åŒå·¥çš„ï¼Œæ‰€ä»¥éœ€è¦åŒæ–¹åˆ†åˆ«é‡Šæ”¾åˆ°å¯¹æ–¹çš„è¿æ¥ï¼Œå•ç‹¬ä¸€æ–¹çš„è¿æ¥é‡Šæ”¾ï¼Œåªä»£è¡¨ä¸èƒ½å†å‘å¯¹æ–¹å‘é€æ•°æ®ï¼Œè¿æ¥å¤„äºçš„æ˜¯åŠé‡Šæ”¾çš„çŠ¶æ€ã€‚æœ€åä¸€æ¬¡æŒ¥æ‰‹ä¸­ï¼Œå®¢æˆ·ç«¯ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´å†å…³é—­çš„åŸå› ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å‘é€ç»™æœåŠ¡å™¨çš„ç¡®è®¤æŠ¥æ–‡æ®µä¸¢å¤±æˆ–è€…å‡ºé”™ï¼Œä»è€Œå¯¼è‡´æœåŠ¡å™¨ç«¯ä¸èƒ½æ­£å¸¸å…³é—­ã€‚","link":"/2021/07/01/20210710HTTP%E7%9A%84%E8%BF%9B%E9%98%B6%E5%92%8C%E7%90%86%E8%A7%A3/"},{"title":"åœ¨vue3ä¸­piniaé¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±çš„è§£å†³åŠæ³•","text":"piniaä¸å¤šä»‹ç»ã€‚å®˜æ–¹æ–‡æ¡£https://pinia.vuejs.org/introduction.html 1npm install pinia@next åœ¨vue2ä¸­ æ’ä»¶ pinia-plugin-persist å¯ä»¥è¾…åŠ©å®ç°æ•°æ®æŒä¹…åŒ–åŠŸèƒ½ã€‚https://seb-l.github.io/pinia-plugin-persist/ã€‚ 1npm i pinia-plugin-persist --save ä½†æ˜¯åœ¨è¿™ä¸ªæ’ä»¶åªèƒ½åœ¨vue2ä¸­ä½¿ç”¨ï¼Œvue3è¿˜æœªé€‚é…ã€‚ã€‚ã€‚ åªæœ‰è‡ªå·±å®ç°ä¸€ä¸ªå»ºè®®çš„çŠ¶æ€å­˜å‚¨äº†ã€‚ ä½¿ç”¨å¦‚ä¸‹å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„çŠ¶æ€ç®¡ç†user.js 12345678910111213import { defineStore } from &quot;pinia&quot;;export default defineStore({ id: &quot;user&quot;, state: ()=&gt; ({ mkey:&quot;/home&quot;, data:{} }), actions:{ countPlusOne() { this.count++; }, },}); åˆ›å»ºpiniaPluginPersist.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import {user} from &quot;@/store/index.js&quot;var catchList=[ &quot;[object String]&quot;, &quot;[object Number]&quot;, &quot;[object Boolean]&quot;, &quot;[object Array]&quot;, &quot;[object Object]&quot;,]//è·å–å¯¹è±¡é›†function setPiniaObj(stores=[]){ var itemsObj={} //keyæ¨¡å—åç§°,valueæ¨¡å—å¯¹è±¡ stores.forEach(item=&gt;{ var key=item.$id var value={} for (let k in item){ if(catchList.includes(Object.prototype.toString.call(item[k]))&amp;&amp;(k!=&quot;$id&quot;)){ value[k]=item[k] } } itemsObj[key]=value }) return itemsObj}export const persistPinia = (window) =&gt;{ //è®¾ç½®ç¼“å­˜ var catchStore = sessionStorage.getItem(&quot;_piniaPluginPersist&quot;) if(catchStore){ catchStore=JSON.parse(catchStore) var storeArr = [user()] storeArr.forEach(item=&gt;{ var data=catchStore[item.$id] for (let k in item){ if(item[k]!==undefined&amp;&amp;(k!=&quot;$id&quot;)){item[k]=data[k]} } }) sessionStorage.removeItem(&quot;_piniaPluginPersist&quot;) } //ç›‘å¬åˆ·æ–° window.addEventListener(&quot;beforeunload&quot;,()=&gt;{ console.log(&quot;222&quot;) var storeObj=setPiniaObj([user()]) sessionStorage.setItem(&quot;_piniaPluginPersist&quot;,JSON.stringify(storeObj)) })} mainjså…¨å±€æŒ‚åœ¨å‡½æ•° 12import { persistPinia } from &quot;@/utils/piniaPluginPersist.js&quot;app.config.globalProperties.$persistPinia=persistPinia åœ¨App.vueä¸­ä½¿ç”¨ 123import {getCurrentInstance , reactive } from 'vue';const { proxy } = getCurrentInstance();proxy.persistPinia(window); è§£å†³","link":"/2021/09/20/20210920%E5%9C%A8vue3%E4%B8%ADpinia%E9%A1%B5%E9%9D%A2%E5%88%B7%E6%96%B0%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"},{"title":"æµè§ˆå™¨çš„æ–‡ä»¶åŠ å¯†è§£å¯†","text":"å¯¹æ–‡ä»¶åŠ /è§£å¯†è·¯çº¿ 1file -&gt; buffer -&gt; uint8list -&gt; wordArray(crypto-jsè¾…åŠ©ç±»å‹) -&gt; åŠ /è§£å¯†åçš„wordArray -&gt; uint8list å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚uint8list è½¬ buffer æˆ–è€… blobç­‰ demo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; *{ font-size: 40px; } button{ display: block; width: 300px; height: 120px; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;input type=&quot;file&quot; id=&quot;inp&quot; /&gt;&lt;button onclick=&quot;encFn()&quot;&gt;åŠ è§£å¯†å­—ç¬¦ä¸²&lt;/button&gt;&lt;button onclick=&quot;decFn()&quot;&gt;åŠ è§£å¯†æ–‡ä»¶&lt;/button&gt;&lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;img&quot;&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;crypto-js/crypto-js.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; class CryptoJSTB { iv=null key=null mode= null padding=null static fromJson(opt={}){ var intance = new CryptoJSTB(); let {iv,key,mode,padding} = opt intance.iv=iv; intance.key=key; intance.mode=mode||CryptoJS.mode.CBC; intance.padding=padding||CryptoJS.pad.Pkcs7; return intance } ///åŠ å¯†å­—ç¬¦ä¸² encStrAES (plainText) { let options = {iv:this.iv,mode:this.mode,padding:this.padding} let words = CryptoJS.enc.Utf8.parse(plainText) let encrypted = CryptoJS.AES.encrypt(words,this.key,options) return CryptoJS.enc.Base64.stringify(encrypted.ciphertext) } ///è§£å¯†å­—ç¬¦ä¸² decStrAES (plainText) { let options = {iv:this.iv,mode:this.mode,padding:this.padding} ///åŠ å¯†çš„æ—¶å€™å¯¼å‡ºçš„base64ï¼Œè¿™é‡Œä¹Ÿç”¨base64è§£æ let base64 = CryptoJS.enc.Base64.parse(plainText) let src = CryptoJS.enc.Base64.stringify(base64) let decrypt = CryptoJS.AES.decrypt(src, this.key, options) let decryptedStr = decrypt.toString(CryptoJS.enc.Utf8) return decryptedStr.toString() } ///åŠ å¯†å­—èŠ‚ encByteAES(plainText){ var wordArray = this.Uint8ToW(plainText); // Uint8Array-&gt;WordArray let options = {iv:this.iv,mode:this.mode,padding:this.padding} const res = CryptoJS.AES.encrypt(wordArray, this.key,options).ciphertext return this.WToUint8(res) // WordArray-&gt;Uint8Array } ///è§£å¯†å­—èŠ‚ decByteAES(plainText){ var wordArray = this.Uint8ToW(plainText); // Uint8Array-&gt;WordArray let options = {iv:this.iv,mode:this.mode,padding:this.padding} var content = CryptoJS.lib.CipherParams.create({ciphertext:wordArray}) var res = CryptoJS.AES.decrypt(content, this.key,options) return this.WToUint8(res) // WordArray-&gt;Uint8Array } //ç±»å‹è½¬æ¢ //Uint8Array -&gt; wordArray Uint8ToW(u8) { const len = u8.length; const words= []; for (let i = 0; i &lt; len; i += 1) { words[i &gt;&gt;&gt; 2] |= (u8[i] &amp; 0xff) &lt;&lt; (24 - (i % 4) * 8); } var res = CryptoJS.lib.WordArray.create(words, len); return res; } //wordArray -&gt; Uint8Array WToUint8(wordArray){ const { words } = wordArray; const { sigBytes } = wordArray; const u8 = new Uint8Array(sigBytes); for (let i = 0; i &lt; sigBytes; i += 1) { const byte = (words[i &gt;&gt;&gt; 2] &gt;&gt;&gt; (24 - (i % 4) * 8)) &amp; 0xff; u8[i] = byte; } return u8; } ///æ–‡ä»¶è½¬u8 static fileToUint8(file){ return new Promise((resolve,reject)=&gt;{ var reader = new FileReader(); reader.onload = function (e) {resolve(new Uint8Array(e.target.result))} reader.readAsArrayBuffer(file); }) } ///æ–‡ä»¶ä¿å­˜ static saveFile(uint8List,fileName){ var blob=new Blob([uint8List]); const link = document.createElement('a'); link.href = window.URL.createObjectURL(blob); link.download = fileName; link.click(); window.URL.revokeObjectURL(link.href); }}///å®ä¾‹åŒ–var keyStr=&quot;abcdabcdabcdabcd&quot;var content=&quot;123456789aaaaå•Šæˆ‘çš„å“‡æ‰“å¤šé˜¿ç“¦è¾¾&quot;var c=CryptoJSTB.fromJson({ key: CryptoJS.enc.Utf8.parse(keyStr), iv: CryptoJS.enc.Utf8.parse(keyStr),})///å­—ç¬¦ä¸²åŠ è§£å¯†æµ‹è¯•function encFn(){ var encStr=c.encStrAES(content) console.log(encStr) var decStr=c.decStrAES(encStr) console.log(decStr)}///æ–‡ä»¶åŠ è§£å¯†æµ‹è¯•ï¼Œï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼è¯·å…ˆé€‰æ‹©æ–‡ä»¶ï¼ï¼ï¼ï¼ï¼ï¼æµ‹è¯•ç”¨çš„æ˜¯å›¾ç‰‡ï¼Œæ–¹ä¾¿æŸ¥çœ‹function decFn(){ ///å…ˆå°†æ–‡ä»¶è¯»å–ä¸ºå­—èŠ‚ var file = document.querySelector(&quot;#inp&quot;).files[0] ///åŠ è§£å¯†æµ‹è¯• CryptoJSTB.fileToUint8(file).then((result) =&gt; { console.log(result) ///åŠ å¯† var encByte=c.encByteAES(result) console.log(encByte) var decByte=c.decByteAES(encByte) console.log(decByte) showImg(decByte) })}function showImg(u8){ var blob=new Blob([u8]); var src = window.URL.createObjectURL(blob); var img=document.querySelector(&quot;#img&quot;) img.src = src}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","link":"/2021/10/02/20211024%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/"},{"title":"winä¸‹WebAssemblyç¯å¢ƒå®‰è£…å’Œå°è¯•(Golang)","text":"å‡†å¤‡å·¥ä½œ å®‰è£… Gitã€‚ å®‰è£…cmakeã€‚https://cmake.org/download/ å®‰è£…vsã€‚https://visualstudio.microsoft.com/zh-hans/downloads/ Python 2.7.xï¼Œåœ¨ Linux å’Œ OS Xä¸Šï¼Œå¾ˆå¯èƒ½å·²ç»è£…å¥½äº†ã€‚https://www.python.org/downloads/release/python-2716/ ä¸‹è½½Windows x86-64 MSI installer for AMD64/EM64T/x64 python -Vå®‰è£…ç¯å¢ƒ12git clone https://github.com/juj/emsdk.git//å¦‚æœé€Ÿåº¦å¾ˆæ…¢å¯ä»¥ç›´æ¥å»gitä¸‹è½½ä»£ç  å®‰è£…å„ç§å·¥å…·12cd ./emsdkemsdk install latest ç”Ÿæˆ ~/.emscripten æ–‡ä»¶ï¼Œæ¿€æ´»é…ç½®1emsdk activate latest åŒå‡»emsdkç›®å½•ä¸‹çš„emsdk_env.batæ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡ 12345678910è¿™é‡Œå¯èƒ½ä¼šæŠ¥é”™The changes made to environment variables only apply to the currently running shell instance. Use the 'emsdk_env.bat' to re-enter this environment later, or if you'd like to permanently register this environment permanently, rerun this command with the option --permanent.'xftp' ä¸æ˜¯å†…éƒ¨æˆ–.............ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº...........è§£å†³å…ˆæŸ¥çœ‹pyhonçš„æ˜¯å¦åœ¨å…¨å±€å¯ç”¨ç„¶ååœ¨æŒ‰ç…§ä¸Šé¢çš„è¿è¡Œemsdk_env.bat --permanent æŸ¥çœ‹æ˜¯å¦å·²ç»å®‰è£…å®Œæˆ1emcc -v æŸ¥çœ‹å…¨å±€æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœä¸èƒ½ç”¨å•ç‹¬è®¾ç½®ç¯å¢ƒå˜é‡ã€‚12345678910# å…·ä½“çš„å˜é‡çš„æŒ‰ç…§è‡ªå·±çš„ç›®å½•æ¥# å•ç‹¬è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼Œæˆ‘è¿™é‡Œæ˜¯windowsç¯å¢ƒEMSDK=D:\\workspace\\emsdk\\emsdkEMSDK_NODE=%EMSDK%\\node\\14.15.5_64bit\\bin\\node.exeEMSDK_PYTHON=%EMSDK%\\python\\3.9.2-1_64bit\\python.exe# PATHä¸­ä¹Ÿè¦æ·»åŠ ç¯å¢ƒå˜é‡%EMSDK%%EMSDK%\\upstream\\emscripten%EMSDK%\\node\\14.15.5_64bit\\bin ç¼–è¯‘ç¬¬ä¸€ä¸ªwasmæ–‡ä»¶123456789101112131415161718192021222324#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;time.h&gt;#include &lt;emscripten/emscripten.h&gt;// ä¸€æ—¦WASMæ¨¡å—è¢«åŠ è½½ï¼Œmain()ä¸­çš„ä»£ç å°±ä¼šæ‰§è¡Œint main(int argc, char ** argv) { printf(&quot;WebAssembly çš„ç¯å¢ƒå·²ç»æ­å¥½äº†\\n&quot;);}// è¿”å›1-6ä¹‹é—´çš„ä¸€éšæœºæ•°int EMSCRIPTEN_KEEPALIVE roll_dice() { srand ( time(NULL) ); return rand() % 6 + 1;}ç„¶åç”¨å‘½ä»¤è¡Œå·¥å…·å®šä½åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œï¼šemcc index.c -s WASM=1 -O3 -o index.jsç­‰å¾…ç‰‡åˆ»ä¹‹åï¼Œä½ å°±èƒ½å¤Ÿçœ‹è§ç”Ÿæˆäº†ä¸¤ä¸ªæ–°æ–‡ä»¶ï¼šindex.jsindex.wasmä½ å¯ä»¥ç”¨htmlå¼•å…¥è¿™ä¸ªindex.jsè¯•è¯•ï¼ˆindex.wasmå¿…é¡»å’Œindex.jsåœ¨åŒä¸€è·¯å¾„ä¸‹ï¼‰vscode ä½¿ç”¨ open with live server WebAssembly æ”¯æŒä¸ä»…é™äº Cã€C++å’Œ Rustã€‚è®¸å¤šå¼€å‘äººå‘˜ä¹Ÿåœ¨åŠªåŠ›çº³å…¥å¯¹å…¶ä»–è¯­è¨€çš„æ”¯æŒã€‚ä»¥ä¸‹æ˜¯å½“å‰æ”¯æŒçš„è¯­è¨€åˆ—è¡¨ã€‚ 1234567891011C/C++RustAssemblyScriptï¼ˆç±»ä¼¼ TypeScript çš„è¯­æ³•ï¼‰C#F#GoKotlinSwiftDPascalZig Golang-webassemblyç¼–è¯‘åŠå…¶é”™è¯¯è§£å†³ å‡ºç°â€syscall/jsâ€å¼•å…¥æŠ¥é”™çš„æ—¶å€™ï¼ˆBuild constraints exclude all the Go files in â€˜E:/GoSdk/go1.18.1/src/syscall/jsâ€™ï¼‰ï¼Œå¦‚ä¸‹æ–¹å¼å³å¯è§£å†³ã€‚è¯¦æƒ…å‚è€ƒï¼šhttps://www.jetbrains.com/help/go/webassembly-project.htmlã€‚ ä½¿ç”¨ 123456789101112package mainimport ( &quot;syscall/js&quot;)func fibFunc(this js.Value, args []js.Value) interface{} { return &quot;æˆ‘æ˜¯Golangä¸­çš„çš„æ–¹æ³•&quot;}func main() { done := make(chan int, 0) js.Global().Set(&quot;fibFunc&quot;, js.FuncOf(fibFunc)) &lt;-done} è¿è¡Œéœ€è¦å¼•å…¥ç‰¹å®šçš„jsä¾èµ–ã€‚ wasm_exec.jsæ–‡ä»¶æ˜¯æ¡†æ¶è‡ªå¸¦çš„jsé©±åŠ¨wasm(golang)çš„å¼•æ“wasm_exec.htmlæ˜¯è‡ªå¸¦çš„ä¸€ä¸ªæµ‹è¯•demoåˆ«åˆ äº†~~~ 12E:\\GoSdk\\go1.18.1\\misc\\wasm\\wasm_exec.jsE:\\GoSdk\\go1.18.1\\misc\\wasm\\wasm_exec.html //ä¸€ä¸ªè¿è¡Œå®ä¾‹ è¿è¡Œdemo 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253ç›®å½•ç»“æ„/wasm_exec.js/wasm_exec.html/test.wasm&lt;!doctype html&gt;&lt;!--Copyright 2018 The Go Authors. All rights reserved.Use of this source code is governed by a BSD-stylelicense that can be found in the LICENSE file.--&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Go wasm&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src=&quot;wasm_exec.js&quot;&gt;&lt;/script&gt; &lt;script&gt; setTimeout(()=&gt;{console.log(fibFunc())},5000) //è¿™é‡Œæ˜¯åˆ¤æ–­æ˜¯å¦å…è®¸åŠ è½½ wasm æ–‡ä»¶çš„ JavaScript API if (!WebAssembly.instantiateStreaming) { // polyfill WebAssembly.instantiateStreaming = async (resp, importObject) =&gt; { const source = await (await resp).arrayBuffer(); return await WebAssembly.instantiate(source, importObject); }; } const go = new Go(); let mod, inst; WebAssembly.instantiateStreaming(fetch(&quot;test.wasm&quot;), go.importObject).then((result) =&gt; { mod = result.module; inst = result.instance; document.getElementById(&quot;runButton&quot;).disabled = false; }).catch((err) =&gt; { console.error(err); }); async function run() { console.clear(); await go.run(inst); inst = await WebAssembly.instantiate(mod, go.importObject); // reset instance //ä»£ç æ˜¯ä¸ä¼šèµ°åˆ°è¿™é‡Œæ¥çš„å› ä¸ºgo mainä¸­é˜»å¡äº†ã€‚ } &lt;/script&gt; &lt;button onClick=&quot;run();&quot; id=&quot;runButton&quot; style=&quot;font-size: 100px;&quot;&gt;Run&lt;/button&gt;&lt;/body&gt;&lt;/html&gt;//ConsoleConsole was clearedæˆ‘æ˜¯Golangä¸­çš„çš„æ–¹æ³•","link":"/2021/10/02/20211111win%E4%B8%8BWebAssembly%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E5%92%8C%E5%B0%9D%E8%AF%95/"},{"title":"Google Face webç«¯ç™»å½•","text":"Google ä¸€å®šè¦ä½¿ç”¨æœ€æ–°çš„æ–‡æ¡£ã€‚https://developers.google.com/identity/gsi/web/guides/migration æ§åˆ¶å° https://console.cloud.google.com/apis/dashboard?project=tabbyceshi åº”ç”¨ https://console.cloud.google.com/apis/credentials?project=tabbyceshi&amp;supportedpurview=project æµ‹è¯•demo 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;!-- &lt;meta name=&quot;google-signin-client_id&quot; content=&quot;466619277311-sk2aoc77hg88lm4llvk74cbiq63utk9i.apps.googleusercontent.com&quot;&gt; --&gt; &lt;!-- &lt;script src=&quot;https://accounts.google.com/gsi/client&quot; async defer&gt;&lt;/script&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- &lt;div class=&quot;g-signin2&quot; data-onsuccess=&quot;onSignIn&quot;&gt;222&lt;/div&gt; --&gt; &lt;script src=&quot;https://accounts.google.com/gsi/client&quot; async defer&gt;&lt;/script&gt; &lt;div id=&quot;g_id_onload&quot; data-login_uri=&quot;http://localhost:5500/google.html&quot; data-auto_prompt=&quot;false&quot; data-client_id=&quot;541694494382-p228lh72cbf9smp0greo8kekhvetkep3.apps.googleusercontent.com&quot; data-callback=&quot;handleCredentialResponse&quot;&gt; &lt;/div&gt; &lt;div class=&quot;g_id_signin&quot; data-type=&quot;standard&quot;&gt;&lt;/div&gt; &lt;script&gt; function handleCredentialResponse(e){ console.log(e) } &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ç®€æ˜“ä½¿ç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263 class GoogleSDK { static appendHtmlDOM(attrs=[],dom='script'){ return new Promise((resolve,_)=&gt;{ try{ var body = document.getElementsByTagName('body')[0]; var script = document.createElement(dom); attrs.forEach(i=&gt;{script.setAttribute(i.key,i.value)}) body.appendChild(script); script.onload = function () {resolve()} }catch(e){ console.log(e) } }) } static async GetAaccessToken(client_id) { try{ await GoogleSDK.appendHtmlDOM([ {key:&quot;src&quot;,value:&quot;https://accounts.google.com/gsi/client&quot;}, {key:&quot;type&quot;,value:&quot;text/javascript&quot;}, ]) return new Promise((resolve,reject)=&gt;{ var client= google.accounts.oauth2.initTokenClient({ client_id, scope: 'https://www.googleapis.com/auth/calendar.readonly \\ https://www.googleapis.com/auth/contacts.readonly', callback: (tokenResponse) =&gt; {resolve(tokenResponse)}, }); client.requestAccessToken(); }) }catch(e){ console.log(e) } } static revokeToken(access_token) { google.accounts.oauth2.revoke(access_token, () =&gt; { console.log('access token revoked') }); } static async UserLogin(client_id) { try{ console.log(1) await GoogleSDK.appendHtmlDOM([ {key:&quot;src&quot;,value:&quot;https://accounts.google.com/gsi/client&quot;}, {key:&quot;type&quot;,value:&quot;text/javascript&quot;}, ]) /** åƒä¸‡åˆ«æ”¾åœ¨æœ‰v-ifçš„æ“ä½œé‡Œé¢ï¼ï¼ï¼ window.handleCredentialResponse=function(e){ console.log(e) } //éœ€è¦å†™åœ¨htmlé‡Œé¢ &lt;div id=&quot;g_id_onload&quot; data-login_uri=&quot;http://localhost:5500/google.html&quot; data-auto_prompt=&quot;false&quot; data-client_id=&quot;******&quot; data-callback=&quot;handleCredentialResponse&quot;&gt; &lt;/div&gt; //ç‚¹å‡»å³å¯ç™»å½•ï¼Œè§¦å‘ä¸Šé¢çš„handleCredentialResponse &lt;div class=&quot;g_id_signin&quot; data-type=&quot;standard&quot;&gt;&lt;/div&gt; */ }catch(e){ console.log(e) } }} ç›¸å…³æŠ¥é”™ã€‚å…ˆå°è¯•æ¸…ç¼“å­˜ã€‚å¦‚æœæ˜¯ vue/react æŠŠ æ”¾åœ¨æ¨¡æ¿æ–‡ä»¶çš„headé‡Œé¢ 1234Uncaught dwä¸èƒ½ç”¨127.0.0.1å¯ä»¥åˆ‡æ¢æˆhttp://localhost:********** FaceBook å¼€å‘è€… https://developers.facebook.com/docs/development/register?locale=zh_CN åº”ç”¨ https://developers.facebook.com/apps/?show_reminder=true ç™½åå• https://developers.facebook.com/apps/1531808977238106/gaming-login/settings/demo1234567891011121314151617181920212223242526272829303132333435363738394041&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Facebook Login JavaScript Example&lt;/title&gt; &lt;meta charset=&quot;UTF-8&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;script&gt; function checkLoginState() { // Called when a person is finished with the Login Button. FB.getLoginStatus(function (response) { // See the onlogin handler console.log(response); }); } window.fbAsyncInit = function () { FB.init({ appId: '**********', cookie: true, // Enable cookies to allow the server to access the session. xfbml: true, // Parse social plugins on this webpage. version: 'v14.0' // Use this Graph API version for this call. }); FB.getLoginStatus(function (response) { // Called after the JS SDK has been initialized. console.log(response); // The current login status of the person. }); };// function testAPI() { // Testing Graph API after login. See statusChangeCallback() for when this call is made.// console.log('Welcome! Fetching your information.... ');// FB.api('/me', function(response) {// console.log('Successful login for: ' + response.name);// document.getElementById('status').innerHTML = 'Thanks for logging in, ' + response.name + '!';// });// } &lt;/script&gt; &lt;!-- The JS SDK Login Button --&gt; &lt;fb:login-button scope=&quot;public_profile,email&quot; onlogin=&quot;checkLoginState();&quot;&gt;&lt;/fb:login-button&gt; &lt;div id=&quot;status&quot;&gt;&lt;/div&gt; &lt;!-- Load the JS SDK asynchronously --&gt; &lt;script async defer crossorigin=&quot;anonymous&quot; src=&quot;https://connect.facebook.net/en_US/sdk.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ç®€æ˜“ä½¿ç”¨1234567891011121314151617181920212223242526272829303132333435363738class FaceBookSDK { static appendJSscript(attrs=[]){ return new Promise((resolve,_)=&gt;{ var body = document.getElementsByTagName('body')[0]; var script = document.createElement('script'); attrs.forEach(i=&gt;{script.setAttribute(i.key,i.value)}) body.appendChild(script); script.onload = function () {resolve()} }) } static async FBLogin(appId) { try{ await FaceBookSDK.appendJSscript([ {key:&quot;src&quot;,value:&quot;https://connect.facebook.net/en_US/sdk.js&quot;}, {key:&quot;type&quot;,value:&quot;text/javascript&quot;}, {key:&quot;crossorigin&quot;,value:&quot;anonymous&quot;}, ]) return new Promise((resolve,reject)=&gt;{ window.fbAsyncInit = function () { FB.init({appId,cookie:true,xfbml:true,version:'v14.0'}); FB.getLoginStatus(function (response) { FB.login(function(a) { resolve(a) }); }); }; }) }catch(e){ console.log(e) } }}function login(){ FaceBookSDK.FBLogin(&quot;*****&quot;).then(e=&gt;{ console.log(e) })}","link":"/2021/12/20/20211220GoogleFaceweb%E7%AB%AF%E7%99%BB%E5%BD%95/"},{"title":"åœ¨vueçš„dataä¸­è°ƒç”¨computedçš„å±æ€§å¼‚å¸¸","text":"å…ˆçœ‹é—®é¢˜ 12345678910data(){ return { name:this.nickname //undefined }},computed:{ nickname(){ return &quot;1111&quot; }} åœ¨è¿™é‡Œå¾ˆå®¹æ˜“æƒ³åˆ°æ˜¯æ‰§è¡Œé¡ºåºçš„é—®é¢˜ï¼Œcomputedä¸­çš„å±æ€§å’Œdataä¸­çš„å±æ€§æœ€ç»ˆéƒ½ä¼šåŠ è½½åˆ°appè¿™ä¸ªå®ä¾‹ä¸‹ã€‚ å¦‚æœdataä¸­çš„å®ä¾‹å±æ€§è¢«åˆ›å»ºå®Œæˆçš„æ—¶å€™ï¼Œcomputedä¸­çš„å®ä¾‹å±æ€§è¿˜æ²¡è¢«åˆ›å»ºï¼Œå¾ˆæ˜æ˜¾ï¼Œåœ¨dataä¸­è·å–åˆ°computedä¸­çš„å±æ€§å¿…å®šæ˜¯undefinedâ€¦ è§£å†³æ–¹æ³• 1234name:function(){ return this.nickname }//ä½¿ç”¨name() æˆ–è€…ç›´æ¥åœ¨computedä¸­å¯¹dataä¸­çš„å±æ€§èµ‹å€¼ï¼Œå› ä¸ºæ­¤æ—¶dataå·²ç»åˆå§‹åŒ–ã€‚ çœ‹ä¼¼ç®€å•å®é™…æœ‰å¾ˆå¤šå°ä¼™ä¼´éƒ½ä¸çŸ¥é“ã€‚","link":"/2022/01/02/20220102%E5%9C%A8vue%E7%9A%84data%E4%B8%AD%E8%B0%83%E7%94%A8computed%E7%9A%84%E5%B1%9E%E6%80%A7%E5%BC%82%E5%B8%B8/"},{"title":"IMèŠå¤©é¡µé¢æ¶ˆæ¯æ—¶é—´çš„å±•ç¤º(web)","text":"å€¼å¾—ä¸€æçš„æ˜¯å¾®ä¿¡ä¼šæ ¹æ®æ‰‹æœºç³»ç»Ÿçš„æ—¶é—´åˆ¶åº¦ï¼ˆ24å°æ—¶ï¼Œ12å°æ—¶ï¼‰å±•ç¤ºçš„ä¸ä¸€æ ·çš„æ—¶é—´ æ¯”å¦‚åŒä¸€å¤© æ—©ä¸Šçš„11:30 24å°æ—¶åˆ¶ 11:30 12å°æ—¶åˆ¶ ä¸Šåˆ 11:30 ä¸‹é¢æ—¶é—´ä¸ºæ¯«ç§’ æ•°æ®ç»“æ„å› é¡¹ç›®è€Œå¼‚ æ ¸å¿ƒä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156/** * å¯¹Dateçš„æ‰©å±•ï¼Œå°† Date è½¬åŒ–ä¸ºæŒ‡å®šæ ¼å¼çš„Stringã€‚ * * æœˆ(M)ã€æ—¥(d)ã€å°æ—¶(h)ã€åˆ†(m)ã€ç§’(s)ã€å­£åº¦(q) å¯ä»¥ç”¨ 1-2 ä¸ªå ä½ç¬¦ï¼Œ * å¹´(y)å¯ä»¥ç”¨ 1-4 ä¸ªå ä½ç¬¦ï¼Œæ¯«ç§’(S)åªèƒ½ç”¨ 1 ä¸ªå ä½ç¬¦(æ˜¯ 1-3 ä½çš„æ•°å­—)ã€‚ * * ã€ç¤ºä¾‹ã€‘ï¼š * common.formatDate(new Date(), 'yyyy-MM-dd hh:mm:ss.S') ==&gt; 2006-07-02 08:09:04.423 * common.formatDate(new Date(), 'yyyy-M-d h:m:s.S') ==&gt; 2006-7-2 8:9:4.18 * common.formatDate(new Date(), 'hh:mm:ss.S') ==&gt; 08:09:04.423 * */var _formatDate = function (date, fmt) { var o = { &quot;M+&quot;: date.getMonth() + 1, //æœˆä»½ &quot;d+&quot;: date.getDate(), //æ—¥ &quot;h+&quot;: date.getHours(), //å°æ—¶ &quot;m+&quot;: date.getMinutes(), //åˆ† &quot;s+&quot;: date.getSeconds(), //ç§’ &quot;q+&quot;: Math.floor((date.getMonth() + 3) / 3), //å­£åº¦ &quot;S&quot;: date.getMilliseconds() //æ¯«ç§’ }; if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length)); for (var k in o) if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length))); return fmt;};/** * ä»¿ç…§å¾®ä¿¡ä¸­çš„æ¶ˆæ¯æ—¶é—´æ˜¾ç¤ºé€»è¾‘ï¼Œå°†æ—¶é—´æˆ³ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰è½¬æ¢ä¸ºå‹å¥½çš„æ˜¾ç¤ºæ ¼å¼. * * 1ï¼‰7å¤©ä¹‹å†…çš„æ—¥æœŸæ˜¾ç¤ºé€»è¾‘æ˜¯ï¼šä»Šå¤©ã€æ˜¨å¤©(-1d)ã€å‰å¤©(-2d)ã€æ˜ŸæœŸï¼Ÿï¼ˆåªæ˜¾ç¤ºæ€»è®¡7å¤©ä¹‹å†…çš„æ˜ŸæœŸæ•°ï¼Œå³&lt;=-4dï¼‰ï¼› * 2ï¼‰7å¤©ä¹‹å¤–ï¼ˆå³&gt;7å¤©ï¼‰çš„é€»è¾‘ï¼šç›´æ¥æ˜¾ç¤ºå®Œæ•´æ—¥æœŸæ—¶é—´ã€‚ * * @param {[long]} timestamp æ—¶é—´æˆ³ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ï¼Œå½¢å¦‚ï¼š1550789954260 * @param {boolean} mustIncludeTime trueè¡¨ç¤ºè¾“å‡ºçš„æ ¼å¼é‡Œä¸€å®šä¼šåŒ…å«â€œæ—¶é—´:åˆ†é’Ÿâ€ * ï¼Œå¦åˆ™ä¸åŒ…å«ï¼ˆå‚è€ƒå¾®ä¿¡ï¼Œä¸åŒ…å«æ—¶åˆ†çš„æƒ…å†µï¼Œç”¨äºé¦–é¡µâ€œæ¶ˆæ¯â€ä¸­æ˜¾ç¤ºæ—¶ï¼‰ * */var _getTimeStringAutoShort2 = function (timestamp, mustIncludeTime) { // å½“å‰æ—¶é—´ var currentDate = new Date(); // ç›®æ ‡åˆ¤æ–­æ—¶é—´ var srcDate = new Date(parseInt(timestamp)); var currentYear = currentDate.getFullYear(); var currentMonth = (currentDate.getMonth() + 1); var currentDateD = currentDate.getDate(); var srcYear = srcDate.getFullYear(); var srcMonth = (srcDate.getMonth() + 1); var srcDateD = srcDate.getDate(); var ret = &quot;&quot;; // è¦é¢å¤–æ˜¾ç¤ºçš„æ—¶é—´åˆ†é’Ÿ var timeExtraStr = (mustIncludeTime ? &quot; &quot; + _formatDate(srcDate, &quot;hh:mm&quot;) : &quot;&quot;); // å½“å¹´ if (currentYear == srcYear) { var currentTimestamp = currentDate.getTime(); var srcTimestamp = timestamp; // ç›¸å·®æ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ var deltaTime = (currentTimestamp - srcTimestamp); // å½“å¤©ï¼ˆæœˆä»½å’Œæ—¥æœŸä¸€è‡´æ‰æ˜¯ï¼‰ if (currentMonth == srcMonth &amp;&amp; currentDateD == srcDateD) { ret = _formatDate(srcDate, &quot;hh:mm&quot;); } else { // å½“å¹´ &amp;&amp; å½“å¤©ä¹‹å¤–çš„æ—¶é—´ï¼ˆå³æ˜¨å¤©åŠä»¥å‰çš„æ—¶é—´ï¼‰ // æ˜¨å¤©ï¼ˆä»¥â€œç°åœ¨â€çš„æ—¶å€™ä¸ºåŸºå‡†-1å¤©ï¼‰ var yesterdayDate = new Date(); yesterdayDate.setDate(yesterdayDate.getDate() - 1); // å‰å¤©ï¼ˆä»¥â€œç°åœ¨â€çš„æ—¶å€™ä¸ºåŸºå‡†-2å¤©ï¼‰ var beforeYesterdayDate = new Date(); beforeYesterdayDate.setDate(beforeYesterdayDate.getDate() - 2); // ç”¨ç›®æ ‡æ—¥æœŸçš„â€œæœˆâ€å’Œâ€œå¤©â€è·Ÿä¸Šæ–¹è®¡ç®—å‡ºæ¥çš„â€œæ˜¨å¤©â€è¿›è¡Œæ¯”è¾ƒï¼Œæ˜¯æœ€ä¸ºå‡†ç¡®çš„ï¼ˆå¦‚æœç”¨æ—¶é—´æˆ³å·®å€¼ // çš„å½¢å¼ï¼Œæ˜¯ä¸å‡†ç¡®çš„ï¼Œæ¯”å¦‚ï¼šç°åœ¨æ—¶åˆ»æ˜¯2019å¹´02æœˆ22æ—¥1:00ã€è€ŒsrcDateæ˜¯2019å¹´02æœˆ21æ—¥23:00ï¼Œ // è¿™ä¸¤è€…é—´åªç›¸å·®2å°æ—¶ï¼Œç›´æ¥ç”¨â€œdeltaTime/(3600 * 1000)â€ &gt; 24å°æ—¶æ¥åˆ¤æ–­æ˜¯å¦æ˜¨å¤©ï¼Œå°±å®Œå…¨æ˜¯æ‰¯è›‹çš„é€»è¾‘äº†ï¼‰ if (srcMonth == (yesterdayDate.getMonth() + 1) &amp;&amp; srcDateD == yesterdayDate.getDate()) ret = &quot;æ˜¨å¤©&quot; + timeExtraStr; // -1d // â€œå‰å¤©â€åˆ¤æ–­é€»è¾‘åŒä¸Š else if (srcMonth == (beforeYesterdayDate.getMonth() + 1) &amp;&amp; srcDateD == beforeYesterdayDate.getDate()){ ret = &quot;å‰å¤©&quot; + timeExtraStr; // -2d } else { // è·Ÿå½“å‰æ—¶é—´ç›¸å·®çš„å°æ—¶æ•° var deltaHour = (deltaTime / (3600 * 1000)); // å¦‚æœå°äºæˆ–ç­‰ 7*24å°æ—¶å°±æ˜¾ç¤ºæ˜ŸæœŸå‡  if (deltaHour &lt;= 7 * 24) { var weekday = new Array(7); weekday[0] = &quot;æ˜ŸæœŸæ—¥&quot;; weekday[1] = &quot;æ˜ŸæœŸä¸€&quot;; weekday[2] = &quot;æ˜ŸæœŸäºŒ&quot;; weekday[3] = &quot;æ˜ŸæœŸä¸‰&quot;; weekday[4] = &quot;æ˜ŸæœŸå››&quot;; weekday[5] = &quot;æ˜ŸæœŸäº”&quot;; weekday[6] = &quot;æ˜ŸæœŸå…­&quot;; // å–å‡ºå½“å‰æ˜¯æ˜ŸæœŸå‡  var weedayDesc = weekday[srcDate.getDay()]; ret = weedayDesc + timeExtraStr; } else{// å¦åˆ™ç›´æ¥æ˜¾ç¤ºå®Œæ•´æ—¥æœŸæ—¶é—´ ret = _formatDate(srcDate, &quot;yyyyå¹´Mæœˆdæ—¥&quot;) + timeExtraStr; } } } } else { // å¾€å¹´ ret = _formatDate(srcDate, &quot;yyyyå¹´Mæœˆdæ—¥&quot;) + timeExtraStr; } return ret;};///èŠå¤©é¡µé¢æ—¶é—´å±•ç¤ºçš„æœ€å°å·®function check2TimeGap(t1, t2) { if (Math.abs(t1 - t2) &gt; 1000 * 60 * 5) return true return false}/** * å‘æ–°æ”¶åˆ°çš„æ¶ˆæ¯åˆ—è¡¨æ—¶é—´ * * @msg æ–°æ”¶åˆ°çš„æ¶ˆæ¯ * @curStartTime æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„æ—¶é—´ * */function msgListTimeHook(msgList,startTime){ var result=[] msgList.forEach((item, index) =&gt; { if (index === 0) { item.viewTime=_getTimeStringAutoShort2(item.time, true) } else if (check2TimeGap(item.time, mes[index-1].time)) { item.viewTime=_getTimeStringAutoShort2(item.time, true) } result.push(item) }) return result}/** * å‘æ–°æ”¶åˆ°çš„æ¶ˆæ¯åˆ—è¡¨æ—¶é—´ * * @msg æ–°æ”¶åˆ°çš„æ¶ˆæ¯ * @curStartTime æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„æ—¶é—´ * */function msgAloneTimeHook(msg,curStartTime){ if(!curStartTime){ msg.viewTime=_getTimeStringAutoShort2(item.time, true) }else{ if (check2TimeGap(msg.time,curStartTime)) { msg.viewTime=_getTimeStringAutoShort2(item.time, true) } } return msg} åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778var mes = [ { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯12&quot;, time: 1630113816000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯11&quot;, time: 1661649816000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10.5&quot;, time: 1664159074000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10&quot;, time: 1664328216000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯9&quot;, time: 1664378616000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯8&quot;, time: 1664378616000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯7&quot;, time: 1664378616000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯6&quot;, time: 1664378616000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯5&quot;, time: 1664378676000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯4&quot;, time: 1664379876000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯3&quot;, time: 1664379936000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯2&quot;, time: 1664380797000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯1&quot;, time: 1664381016000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-1&quot;, time: new Date().valueOf()-125*1000 }, { m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-2&quot;, time: new Date().valueOf()-65*1000 },]///å‘æ¶ˆæ¯åˆ—è¡¨ä¸­æ·»åŠ æ—¶é—´mes=msgListTimeHook(mes)console.log(mes)///æ”¶åˆ°æ¶ˆæ¯æ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦å±•ç¤ºæ—¶é—´var curStartTime=mes[mes.length-1].timevar newmsg=msgAloneTimeHook({ m: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-3&quot;, time: new Date().valueOf()},curStartTime)console.log(newmsg)// ç”¨äºèŠå¤©å†…å®¹ç•Œé¢æ—¶_getTimeStringAutoShort2(1550789954260, true);///ç”¨äºä¼šè¯åˆ—è¡¨â€œæ¶ˆæ¯â€ç•Œé¢æ—¶_getTimeStringAutoShort2(1550789954260, false); ç»“æœå¦‚ä¸‹ 123456789101112131415161718192021[ { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯12', time: 1630113816000, viewTime: '2021å¹´8æœˆ28æ—¥ 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯11', time: 1661649816000, viewTime: '2022å¹´8æœˆ28æ—¥ 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10.5', time: 1664159074000, viewTime: 'æ˜ŸæœŸä¸€ 10:24' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10', time: 1664328216000, viewTime: 'æ˜¨å¤© 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯9', time: 1664378616000, viewTime: 'æ˜¨å¤© 23:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯8', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯7', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯6', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯5', time: 1664378676000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯4', time: 1664379876000, viewTime: 'æ˜¨å¤© 23:44' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯3', time: 1664379936000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯2', time: 1664380797000, viewTime: 'æ˜¨å¤© 23:59' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯1', time: 1664381016000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-1', time: 1664440902124, viewTime: '16:41' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-2', time: 1664440962124 }]{ m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-3', time: 1664441027131 }...","link":"/2022/04/20/20220420IM%E8%81%8A%E5%A4%A9%E9%A1%B5%E9%9D%A2%E6%B6%88%E6%81%AF%E6%97%B6%E9%97%B4%E7%9A%84%E5%B1%95%E7%A4%BAweb/"},{"title":"IMèŠå¤©é¡µé¢æ¶ˆæ¯æ—¶é—´çš„å±•ç¤º(Flutter)","text":"å€¼å¾—ä¸€æçš„æ˜¯å¾®ä¿¡ä¼šæ ¹æ®æ‰‹æœºç³»ç»Ÿçš„æ—¶é—´åˆ¶åº¦ï¼ˆ24å°æ—¶ï¼Œ12å°æ—¶ï¼‰å±•ç¤ºçš„ä¸ä¸€æ ·çš„æ—¶é—´ æ¯”å¦‚åŒä¸€å¤© æ—©ä¸Šçš„11:30 24å°æ—¶åˆ¶ 11:30 12å°æ—¶åˆ¶ ä¸Šåˆ 11:30 ä¸‹é¢æ—¶é—´ä¸ºæ¯«ç§’ æ•°æ®ç»“æ„å› é¡¹ç›®è€Œå¼‚ï¼Œè¯·æ ¹æ®è‡ªå·±çš„é¡¹ç›®é€‚å½“æ›´æ”¹ dependencies: {intl: ^0.17.0} æ ¸å¿ƒä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118import 'package:intl/intl.dart';String _formatDate(DateTime date, String fmt) { DateFormat outputFormat = DateFormat(fmt); return outputFormat.format(date);}String _getTimeStringAutoShort2(int timestamp, bool mustIncludeTime) { //å½“å‰æ—¥æœŸ DateTime currentDate = DateTime.now(); int currentYear = currentDate.year; int currentMonth = currentDate.month; int currentDateD = currentDate.day; //ä¼ å…¥çš„æ—¥æœŸ millTimeä¸ºæ¯«ç§’çº§æ—¶é—´æˆ³ DateTime srcDate = DateTime.fromMillisecondsSinceEpoch(timestamp); int srcYear = srcDate.year; int srcMonth = srcDate.month; int srcDateD = srcDate.day; ///ç»“æœ String ret = &quot;&quot;; String timeExtraStr = mustIncludeTime ? &quot; &quot; + _formatDate(srcDate, &quot;HH:mm&quot;) : &quot;&quot;; if (srcYear == currentYear) { ///å½“å¹´ int currentTimestamp = currentDate.millisecondsSinceEpoch; int srcTimestamp = timestamp; // ç›¸å·®æ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ int deltaTime = (currentTimestamp - srcTimestamp); // å½“å¤©ï¼ˆæœˆä»½å’Œæ—¥æœŸä¸€è‡´æ‰æ˜¯ï¼‰ if (currentMonth == srcMonth &amp;&amp; currentDateD == srcDateD) { ret = _formatDate(srcDate, &quot;HH:mm&quot;); } else { // å½“å¹´ &amp;&amp; å½“å¤©ä¹‹å¤–çš„æ—¶é—´ï¼ˆå³æ˜¨å¤©åŠä»¥å‰çš„æ—¶é—´ï¼‰ // æ˜¨å¤©ï¼ˆä»¥â€œç°åœ¨â€çš„æ—¶å€™ä¸ºåŸºå‡†-1å¤©ï¼‰ DateTime yesterdayDate = DateTime.fromMillisecondsSinceEpoch(currentTimestamp - 86400000 * 1); // å‰å¤©ï¼ˆä»¥â€œç°åœ¨â€çš„æ—¶å€™ä¸ºåŸºå‡†-2å¤©ï¼‰ DateTime beforeYesterdayDate = DateTime.fromMillisecondsSinceEpoch(currentTimestamp - 86400000 * 2); // ç”¨ç›®æ ‡æ—¥æœŸçš„â€œæœˆâ€å’Œâ€œå¤©â€è·Ÿä¸Šæ–¹è®¡ç®—å‡ºæ¥çš„â€œæ˜¨å¤©â€è¿›è¡Œæ¯”è¾ƒï¼Œæ˜¯æœ€ä¸ºå‡†ç¡®çš„ï¼ˆå¦‚æœç”¨æ—¶é—´æˆ³å·®å€¼ // çš„å½¢å¼ï¼Œæ˜¯ä¸å‡†ç¡®çš„ï¼Œæ¯”å¦‚ï¼šç°åœ¨æ—¶åˆ»æ˜¯2019å¹´02æœˆ22æ—¥1:00ã€è€ŒsrcDateæ˜¯2019å¹´02æœˆ21æ—¥23:00ï¼Œ // è¿™ä¸¤è€…é—´åªç›¸å·®2å°æ—¶ï¼Œç›´æ¥ç”¨â€œdeltaTime/(3600 * 1000)â€ &gt; 24å°æ—¶æ¥åˆ¤æ–­æ˜¯å¦æ˜¨å¤©ï¼Œå°±å®Œå…¨æ˜¯æ‰¯è›‹çš„é€»è¾‘äº†ï¼‰ if (srcMonth == (yesterdayDate.month) &amp;&amp; srcDateD == yesterdayDate.day) { ret = &quot;æ˜¨å¤©&quot; + timeExtraStr; // -1d } else if (srcMonth == (beforeYesterdayDate.month) &amp;&amp; srcDateD == beforeYesterdayDate.day) { // â€œå‰å¤©â€åˆ¤æ–­é€»è¾‘åŒä¸Š ret = &quot;å‰å¤©&quot; + timeExtraStr; // -2d } else { // è·Ÿå½“å‰æ—¶é—´ç›¸å·®çš„å°æ—¶æ•° var deltaHour = (deltaTime / (3600 * 1000)); // å¦‚æœå°äºæˆ–ç­‰ 7*24å°æ—¶å°±æ˜¾ç¤ºæ˜ŸæœŸå‡  if (deltaHour &lt;= 7 * 24) { List&lt;String&gt; weekday = []; weekday.addAll([&quot;æ˜ŸæœŸä¸€&quot;, &quot;æ˜ŸæœŸäºŒ&quot;, &quot;æ˜ŸæœŸä¸‰&quot;, &quot;æ˜ŸæœŸå››&quot;, &quot;æ˜ŸæœŸäº”&quot;, &quot;æ˜ŸæœŸå…­&quot;, &quot;æ˜ŸæœŸæ—¥&quot;]); // å–å‡ºå½“å‰æ˜¯æ˜ŸæœŸå‡  var weedayDesc = weekday[srcDate.weekday - 1]; ret = weedayDesc + timeExtraStr; } else { // å¦åˆ™ç›´æ¥æ˜¾ç¤ºå®Œæ•´æ—¥æœŸæ—¶é—´ ret = _formatDate(srcDate, &quot;yyyyå¹´Mæœˆdæ—¥&quot;) + timeExtraStr; } } } } else { ///å¾€å¹´ ret = _formatDate(srcDate, &quot;yyyyå¹´Mæœˆdæ—¥&quot;) + timeExtraStr; } return ret;}///èŠå¤©é¡µé¢æ—¶é—´å±•ç¤ºçš„æœ€å°å·®bool check2TimeGap(int t1, int t2) { if ((t1 - t2).abs() &gt; 1000 * 60 * 5) return true; return false;}/** * å‘æ–°æ”¶åˆ°çš„æ¶ˆæ¯åˆ—è¡¨æ—¶é—´ * [msg] æ–°æ”¶åˆ°çš„æ¶ˆæ¯ * [curStartTime] æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„æ—¶é—´ */List msgListTimeHook(List msgList) { List result = []; for (var i = 0; i &lt; msgList.length; i++) { var item = msgList[i]; if (i == 0) { item[&quot;viewTime&quot;] = _getTimeStringAutoShort2(item[&quot;time&quot;], true); } else if (check2TimeGap(item[&quot;time&quot;], msgList[i - 1][&quot;time&quot;])) { item[&quot;viewTime&quot;] = _getTimeStringAutoShort2(item[&quot;time&quot;], true); } result.add(item); } return result;}/** * å‘æ–°æ”¶åˆ°çš„æ¶ˆæ¯åˆ—è¡¨æ—¶é—´ * * @msg æ–°æ”¶åˆ°çš„æ¶ˆæ¯ * @curStartTime æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„æ—¶é—´ * */msgAloneTimeHook(msg, curStartTime) { // if(!curStartTime){ // msg.viewTime=_getTimeStringAutoShort2(item.time, true) // }else{ // if (check2TimeGap(msg.time,curStartTime)) { // msg.viewTime=_getTimeStringAutoShort2(item.time, true) // } // } // return msg} åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829void main(List&lt;String&gt; args) { var mes = [ {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯12&quot;, &quot;time&quot;: 1630113816000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯11&quot;, &quot;time&quot;: 1661649816000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯11&quot;, &quot;time&quot;: 1664090674000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯å‘¨ä¸€&quot;, &quot;time&quot;: 1664177074000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯å‰å¤©&quot;, &quot;time&quot;: 1664263474000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯æ˜¨å¤©&quot;, &quot;time&quot;: 1664349874000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯æ˜¨å¤©&quot;, &quot;time&quot;: 1664349874000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯æ˜¨å¤©&quot;, &quot;time&quot;: 1664349874000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯æ˜¨å¤©&quot;, &quot;time&quot;: 1664349874000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯æ˜¨å¤©&quot;, &quot;time&quot;: 1664349874000}, {&quot;m&quot;: &quot;æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯1&quot;, &quot;time&quot;: 1664381016000}, ]; // _getTimeStringAutoShort2(1664380797000, true); var a = msgListTimeHook(mes); print(a); // ç”¨äºèŠå¤©å†…å®¹ç•Œé¢æ—¶ var b = _getTimeStringAutoShort2(1550789954260, true); ///ç”¨äºä¼šè¯åˆ—è¡¨â€œæ¶ˆæ¯â€ç•Œé¢æ—¶ var c = _getTimeStringAutoShort2(1550789954260, false); print(a); print(b); print(c); // mes.forEach((i) { // _getTimeStringAutoShort2(i[&quot;time&quot;] as int, true); // });} å¤§æ¦‚ç»“æœå¦‚ä¸‹ä¸‹é¢è¿”å›çš„ç»“æœå¹¶éä½¿ç”¨ä¸Šé¢çš„æ•°æ® 123456789101112131415161718192021[ { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯12', time: 1630113816000, viewTime: '2021å¹´8æœˆ28æ—¥ 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯11', time: 1661649816000, viewTime: '2022å¹´8æœˆ28æ—¥ 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10.5', time: 1664159074000, viewTime: 'æ˜ŸæœŸä¸€ 10:24' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯10', time: 1664328216000, viewTime: 'æ˜¨å¤© 09:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯9', time: 1664378616000, viewTime: 'æ˜¨å¤© 23:23' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯8', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯7', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯6', time: 1664378616000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯5', time: 1664378676000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯4', time: 1664379876000, viewTime: 'æ˜¨å¤© 23:44' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯3', time: 1664379936000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯2', time: 1664380797000, viewTime: 'æ˜¨å¤© 23:59' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯1', time: 1664381016000 }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-1', time: 1664440902124, viewTime: '16:41' }, { m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-2', time: 1664440962124 }]{ m: 'æˆ‘æ˜¯ä¸€æ¡æ¶ˆæ¯-3', time: 1664441027131 }...","link":"/2022/04/25/20220425IM%E8%81%8A%E5%A4%A9%E9%A1%B5%E9%9D%A2%E6%B6%88%E6%81%AF%E6%97%B6%E9%97%B4%E7%9A%84%E5%B1%95%E7%A4%BAFlutter/"},{"title":"IMé¡¹ç›®ä¸­electronå¯¹æ–‡ä»¶åŠ å¯†çš„æ–¹æ¡ˆè®¾è®¡ä¸è½åœ°","text":"æ–‡æœ¬åŠ å¯†å¾ˆå¥½å®ç°ï¼Œä½†æ˜¯æ–‡ä»¶åŠ å¯†å°±ç¨å¾®éº»çƒ¦ç‚¹ã€‚ ä½†æ˜¯æˆ‘çš„é¢„æœŸåŠ å¯†çš„è§„åˆ™éœ€è¦å…¼å®¹è€ç‰ˆæœ¬èƒ½å¤Ÿåˆ†è¾¨å‡ºè€ç‰ˆæœ¬æœªåŠ å¯†çš„æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨æˆ·è¿˜å¯èƒ½æŸ¥çœ‹è€ç‰ˆæœ¬çš„èŠå¤©è®°å½•ã€‚èƒ½å¤Ÿåˆ†åˆ«ä¸åŒç‰ˆæœ¬è§„åˆ™çš„åŠ å¯†æ–‡ä»¶ã€‚æ–‡ä»¶ä¸èƒ½å…¨åŠ å¯†ï¼Œæ•ˆç‡è¦é«˜ã€‚åŠ å¯†è¿‡åçš„æ–‡ä»¶å¤§å°ï¼Œä¸èƒ½å¤ªå¤§ï¼Œè¦èŠ‚çº¦ossèµ„æºæ§åˆ¶æˆæœ¬ï¼Œè¿™é‡Œæˆ‘æ”¹æˆäº†ä¸€ä¸ªå‚ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®åŠ å¯†åçš„æ–‡ä»¶æ–°å¢çš„å¤§å°ã€‚è§†æƒ…å†µè€Œå®šã€‚ æœ€ç»ˆçš„åŠ å¯†è·¯çº¿å¦‚ä¸‹ï¼š æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248class TBFileRules { static checkHeadSign=[&quot;abcdabcdabcdabc&quot;,&quot;abcdabcdabcdabcd&quot;] ///è§£å¯†æ—¶ä½¿ç”¨ã€‚æ˜¯å¦ç¬¦åˆè§£å¯†æ–‡ä»¶ã€‚ static headSign={sign:&quot;abcdabcdabcdabcd&quot;,headLen:1024/2} ///åŠ å¯†æ—¶ä½¿ç”¨ã€‚æ ‡è®°ä¸ºåŠ å¯†æ–‡ä»¶ã€‚å¯¹è±¡ç¼–è¯‘è¿‡åçš„å­—èŠ‚é•¿åº¦ä¸èƒ½è¶…è¿‡50 static appKey=&quot;tabby&quot; ///appkey static encDataLen=1024*10; ///åŠ å¯†çš„é•¿åº¦ï¼Œæ–‡ä»¶å°äºè¿™ä¸ªé•¿åº¦å…¨åŠ å¯† é»˜è®¤åªåŠ å¯†10kb /** @param {string} -sgin:appç­¾å @param {Number} -headLen:æ–‡ä»¶å¤´çš„æ€»é•¿åº¦ @param {Number} -fileLen:æ–‡ä»¶çš„åŸé•¿ @param {Number} -fileEncLen:æ–‡ä»¶åŠ å¯†åæ€»ä½“çš„é•¿åº¦ï¼ˆä¸å«å¤´ï¼‰ @param {Number} -fileDataLen:åŠ å¯†æ®µåŠ å¯†å‰çš„é•¿åº¦ @param {Number} -fileDataEncLen:åŠ å¯†æ®µåŠ å¯†åçš„é•¿åº¦ @param {Number} -fileEncStart:åŠ å¯†ååŠ å¯†æ®µå¼€å§‹çš„ä½ç½®ï¼ˆä¸å«å¤´ï¼‰ @param {string} -ext:é¢„ç•™æ‹“å±•å­—æ®µ */ static generateHeaderByte(opt={}){ var {fileLen,fileEncLen,fileDataLen,fileDataEncLen,fileEncStart,ext}=opt; let header={} header.sgin=TBFileRules.appKey; ///32 ä½appç­¾å header.headLenSign=50; ///åŠ å¯†æ ‡è¯†çš„é•¿åº¦ header.headLen=TBFileRules.headSign.headLen; ///æ–‡ä»¶å¤´çš„æ€»é•¿åº¦ header.fileLen=fileLen; ///æ–‡ä»¶çš„åŸé•¿ header.fileEncLen=fileEncLen; ///æ–‡ä»¶åŠ å¯†åæ€»ä½“çš„é•¿åº¦ï¼ˆä¸å«å¤´ï¼‰ header.fileDataLen=fileDataLen; ///åŠ å¯†æ®µåŠ å¯†å‰çš„é•¿åº¦ header.fileDataEncLen=fileDataEncLen; ///åŠ å¯†æ®µåŠ å¯†åçš„é•¿åº¦ header.fileEncStart=fileEncStart; ///åŠ å¯†ååŠ å¯†æ®µå¼€å§‹çš„ä½ç½®ï¼ˆä¸å«å¤´ï¼‰ header.ext=ext; ///é¢„ç•™æ‹“å±•å­—æ®µ // console.log(header) return TBFileRules.strToByte(JSON.stringify(header)) } /** æ£€æŸ¥æ˜¯å¦ä¸ºåŠ å¯†æ–‡ä»¶ @param {Uint8Array} -source:æºæ–‡ä»¶ */ static checkIsEncFile(source){ try{ var headSign=JSON.parse(TBFileRules.byteToStr(TBFileRules.unshif0(source.slice(0,50)))) if(TBFileRules.checkHeadSign.indexOf(headSign.sign)&gt;-1)return headSign return false }catch(e){ console.log(e) return false } } /** åŠ å¯†æ–‡ä»¶ @param {CryptoJSTB} -cjstb:CryptoJSTB å®ä¾‹ @param {Uint8Array} -source:æºæ–‡ä»¶ @param {String} -ext:æ‹“å±• */ static encData(opt={}){ return new Promise((resolve,reject)=&gt;{ var {cjstb,source,ext}=opt source=Array.from(source) if(!ext)ext=&quot;&quot; var encDataU8=[], //åŠ å¯†å‰çš„åŠ å¯†æ®µ fileEnd=TBFileRules.encDataLen, //åŠ å¯†ç»“æŸçš„ä½ç½® encDataSourceU8=[], //åŠ å¯†åçš„åŠ å¯†æ®µ sourceOtherData=[], //æœªåŠ å¯†çš„éƒ¨åˆ† sourceEecData=[]; //æœªåŠ å¯†çš„éƒ¨åˆ† if(fileEnd&gt;source.length)fileEnd=source.length else sourceOtherData=source.slice(fileEnd) encDataU8=source.slice(0,fileEnd) encDataSourceU8=cjstb.encByteAES(encDataU8) sourceEecData=[...encDataSourceU8,...sourceOtherData] var headerParams = TBFileRules.generateHeaderByte({ fileLen:source.length, fileEncLen:sourceEecData.length, fileDataLen:encDataU8.length, fileDataEncLen:encDataSourceU8.length, ext }) var headerSign = TBFileRules.strToByte(JSON.stringify(TBFileRules.headSign)) if(headerSign.length&lt;=50){ let ent=[] for(let i=0;i&lt;50-headerSign.length;i++){ent.push(0)} headerSign=[...headerSign,...ent] }else{ reject({code:0,msg:&quot;headerSign.length too long 50&quot;}) } var head=[...headerSign,...headerParams] if(head.length&lt;TBFileRules.headSign.headLen){ let ent=[] for(let i=0;i&lt;TBFileRules.headSign.headLen-head.length;i++){ent.push(0)} head=[...head,...ent] }else{ reject({code:0,msg:&quot;File head too long&quot;}) } resolve({code:1,data:new Uint8Array([...head,...sourceEecData])}) }) } /** è§£å¯†å¯†æ–‡ä»¶ @param {CryptoJSTB} -cjstb:CryptoJSTB å®ä¾‹ @param {Uint8Array} -source:æºæ–‡ä»¶ */ static decData(opt={}){ return new Promise((resolve,reject)=&gt;{ var {source,cjstb}=opt source=Array.from(source) var headSign=TBFileRules.checkIsEncFile(source) if(!headSign){ reject({code:0,msg:&quot;Failed to parse file&quot;}) return } var headParamsByte = source.slice(50,headSign.headLen) var headParamsByteUnfit0 = TBFileRules.unshif0(headParamsByte) var headParams = JSON.parse(TBFileRules.byteToStr(headParamsByteUnfit0)) var encData=source.slice(headSign.headLen,headSign.headLen + headParams.fileDataEncLen) var otherData=source.slice(headSign.headLen + headParams.fileDataEncLen) var decData=cjstb.decByteAES(encData) resolve({ code:1, params:headParams, data:new Uint8Array([...decData,...otherData]) }) }) } /** æ–‡ä»¶è½¬u8 @param {file} @return {Promise&lt;Uint8Array&gt;} */ static fileToUint8(file){ return new Promise((resolve,reject)=&gt;{ var reader = new FileReader(); reader.onload = function (e) {resolve(new Uint8Array(e.target.result))} reader.readAsArrayBuffer(file); }) } static saveFile(uint8List,fileName){ var blob=new Blob([uint8List]); const link = document.createElement('a'); link.href = window.URL.createObjectURL(blob); link.download = fileName; link.click(); window.URL.revokeObjectURL(link.href); } ///å»é™¤å­—èŠ‚æœ€åçš„0 static unshif0(list){ var data=[...list] for(let i=0;i&lt;list.length;i++){ if(data[data.length-1])return data else data.pop() } } static strToByte(str) { var bytes = new Array(); var len, c; len = str.length; for (var i = 0; i &lt; len; i++) { c = str.charCodeAt(i); if (c &gt;= 0x010000 &amp;&amp; c &lt;= 0x10FFFF) { bytes.push(((c &gt;&gt; 18) &amp; 0x07) | 0xF0); bytes.push(((c &gt;&gt; 12) &amp; 0x3F) | 0x80); bytes.push(((c &gt;&gt; 6) &amp; 0x3F) | 0x80); bytes.push((c &amp; 0x3F) | 0x80); } else if (c &gt;= 0x000800 &amp;&amp; c &lt;= 0x00FFFF) { bytes.push(((c &gt;&gt; 12) &amp; 0x0F) | 0xE0); bytes.push(((c &gt;&gt; 6) &amp; 0x3F) | 0x80); bytes.push((c &amp; 0x3F) | 0x80); } else if (c &gt;= 0x000080 &amp;&amp; c &lt;= 0x0007FF) { bytes.push(((c &gt;&gt; 6) &amp; 0x1F) | 0xC0); bytes.push((c &amp; 0x3F) | 0x80); } else { bytes.push(c &amp; 0xFF); } } return bytes; } static byteToStr(utf8Bytes){ var unicodeStr =&quot;&quot;; for (var pos = 0; pos &lt; utf8Bytes.length;){ var flag= utf8Bytes[pos]; var unicode = 0 ; if ((flag &gt;&gt;&gt;7) === 0 ) { unicodeStr+= String.fromCharCode(utf8Bytes[pos]); pos += 1; } else if ((flag &amp;0xFC) === 0xFC ){ unicode = (utf8Bytes[pos] &amp; 0x3) &lt;&lt; 30; unicode |= (utf8Bytes[pos+1] &amp; 0x3F) &lt;&lt; 24; unicode |= (utf8Bytes[pos+2] &amp; 0x3F) &lt;&lt; 18; unicode |= (utf8Bytes[pos+3] &amp; 0x3F) &lt;&lt; 12; unicode |= (utf8Bytes[pos+4] &amp; 0x3F) &lt;&lt; 6; unicode |= (utf8Bytes[pos+5] &amp; 0x3F); unicodeStr+= String.fromCharCode(unicode) ; pos += 6; }else if ((flag &amp;0xF8) === 0xF8 ){ unicode = (utf8Bytes[pos] &amp; 0x7) &lt;&lt; 24; unicode |= (utf8Bytes[pos+1] &amp; 0x3F) &lt;&lt; 18; unicode |= (utf8Bytes[pos+2] &amp; 0x3F) &lt;&lt; 12; unicode |= (utf8Bytes[pos+3] &amp; 0x3F) &lt;&lt; 6; unicode |= (utf8Bytes[pos+4] &amp; 0x3F); unicodeStr+= String.fromCharCode(unicode) ; pos += 5; } else if ((flag &amp;0xF0) === 0xF0 ){ unicode = (utf8Bytes[pos] &amp; 0xF) &lt;&lt; 18; unicode |= (utf8Bytes[pos+1] &amp; 0x3F) &lt;&lt; 12; unicode |= (utf8Bytes[pos+2] &amp; 0x3F) &lt;&lt; 6; unicode |= (utf8Bytes[pos+3] &amp; 0x3F); unicodeStr+= String.fromCharCode(unicode) ; pos += 4; } else if ((flag &amp;0xE0) === 0xE0 ){ unicode = (utf8Bytes[pos] &amp; 0x1F) &lt;&lt; 12;; unicode |= (utf8Bytes[pos+1] &amp; 0x3F) &lt;&lt; 6; unicode |= (utf8Bytes[pos+2] &amp; 0x3F); unicodeStr+= String.fromCharCode(unicode) ; pos += 3; } else if ((flag &amp;0xC0) === 0xC0 ){ //110 unicode = (utf8Bytes[pos] &amp; 0x3F) &lt;&lt; 6; unicode |= (utf8Bytes[pos+1] &amp; 0x3F); unicodeStr+= String.fromCharCode(unicode) ; pos += 2; } else{ unicodeStr+= String.fromCharCode(utf8Bytes[pos]); pos += 1; } } return unicodeStr; }} æµ‹è¯•demo https://github.com/TabbyCute/web_libs/tree/main/demos/crypto-js-bigfile é¡¹ç›®ä½¿ç”¨ https://github.com/TabbyCute/web_libs/tree/main/libs/crypto-js-bigfile","link":"/2022/05/08/20220508IM%E9%A1%B9%E7%9B%AE%E4%B8%ADelectron%E5%AF%B9%E6%96%87%E4%BB%B6%E5%8A%A0%E5%AF%86%E7%9A%84%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1%E4%B8%8E%E8%90%BD%E5%9C%B0/"},{"title":"æŸ¥çœ‹yumè½¯ä»¶çš„å®‰è£…ç›®å½•","text":"ä»Šå¤©ä½¿ç”¨yum å®‰è£…äº†ä¸€ä¸ªè½¯ä»¶ï¼Œåæ¥æ²¡æœ‰æ‰¾åˆ°è·¯å¾„ 1ã€é¦–å…ˆå®‰è£…ä¸€ä¸ªredis 1[root@iZbp1eem925ojwyx17ao9kZ ~]# yum install redis 2ã€æŸ¥æ‰¾redisçš„å®‰è£…åŒ… 123[root@iZbp1eem925ojwyx17ao9kZ ~]# rpm -qa|grep redisredis-3.2.10-2.el7.x86_64[root@iZbp1eem925ojwyx17ao9kZ ~]# 3ã€æŸ¥æ‰¾å®‰è£…åŒ…çš„å®‰è£…è·¯å¾„ 123456789101112[root@iZbp1eem925ojwyx17ao9kZ ~]# rpm -ql redis-3.2.10-2.el7.x86_64/etc/logrotate.d/redis/etc/redis-sentinel.conf/etc/redis.conf/etc/systemd/system/redis-sentinel.service.d/etc/systemd/system/redis-sentinel.service.d/limit.conf/etc/systemd/system/redis.service.d/etc/systemd/system/redis.service.d/limit.conf/usr/bin/redis-benchmark/usr/bin/redis-check-aof/usr/bin/redis-check-rdb/usr/bin/redis-cli","link":"/2022/05/01/20220601%E6%9F%A5%E7%9C%8Byum%E5%AE%89%E8%A3%85%E7%9A%84%E8%BD%AF%E4%BB%B6%E4%BD%8D%E7%BD%AE/"},{"title":"Mac M1 flutterç¯å¢ƒä»è£…æœºåˆ°çœŸæœºä¿å§†çº§æ•™ç¨‹","text":"flutterç¯å¢ƒçš„å®‰è£…å®‰è£…Android Studioè¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„å‚»ç“œå¼å®‰è£…ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯Macçš„å¯èƒ½ä¼šé€‰æ‹©å¤šä¸ªç‰ˆæœ¬ï¼ŒM1ä¸€å®šè¦é€‰armæ¶æ„çš„ï¼Œè¿™ä¸ªå¾ˆé‡è¦ã€‚ ç¡®ä¿èƒ½è¿è¡Œä¸€ä¸ªç©ºç™½çš„é¡¹ç›®èµ·æ¥ã€‚ è§£å†³flutterSDKæ‰¾ä¸åˆ°å®‰å“ç¯å¢ƒ 123sudo vi ~/.bash_profile//æ·»åŠ export ANDROID_SDK_ROOT=/usr/local/share/android-sdk å®‰è£…Flutterä¸‹è½½flutterSDKã€‚M1ä¸€å®šè¦é€‰æ‹©arm64çš„ç‰ˆæœ¬sdkï¼ï¼ï¼ (https://docs.flutter.dev/development/tools/sdk/releases?tab=macos#macos) è§£å‹åˆ°æŸä¸ªç›®å½•ï¼Œæˆ‘è¿™é‡Œè§£å‹çš„ç›®å½•æ˜¯ /Users/bz/FlutterSDK å¯¼å‡ºç¯å¢ƒå˜é‡ 1234export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn// ä¸Šé¢ä¸¤ä¸ªä¸ºå›½å†…é•œåƒï¼Œä¸‹é¢ä¸ºsdkçš„ç¯å¢ƒå˜é‡export PATH=/Users/bz/FlutterSDK/bin:$PATH è§£å†³é‡å¯ç”µè„‘å‘½ä»¤å¤±æ•ˆå®Œæˆäº†ä¸Šé¢çš„æ­¥éª¤ï¼Œç°åœ¨åœ¨å‘½ä»¤è¡Œè¿è¡Œflutter doctoråº”è¯¥æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œå½“ä½ é‡å¯ç”µè„‘å†æ¬¡åˆ°å‘½ä»¤è¡Œé‡Œé¢è¿è¡Œflutter doctorä¼šæç¤ºå‘½ä»¤ä¸å­˜åœ¨ã€‚ å‘ ~/.bash_profileæ–‡ä»¶ä¸­æ·»åŠ ï¼ˆå¦‚æœä¸å­˜åœ¨å°±å…ˆåˆ›å»ºï¼‰ ä¸‹é¢çš„ export PATH=/Users/bz/FlutterSDK/bin:$PATH å–å†³äºä½ ä¸Šé¢å®‰è£…sdkçš„ä½ç½® 12345sudo vi ~/.bash_profile//æ·»åŠ å¦‚ä¸‹export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cnexport PATH=/Users/bz/FlutterSDK/bin:$PATH åˆ·æ–°æ­¤æ–‡ä»¶1source ~/.bash_profile æ‰§è¡Œflutter doctorã€‚ ç°åœ¨æ˜¯æ¯æ¬¡å¼€æœºéƒ½éœ€è¦æ‰§è¡Œsource ~/.bash_profileæ‰èƒ½æ­£å¸¸ä½¿ç”¨bash_profileé‡Œçš„å‘½ä»¤ åœ¨~/.zshrcï¼ˆå¦‚æœæ²¡æœ‰å°±æ·»åŠ ï¼‰æ·»åŠ  source ~/.bash_profile123vim ~/.zshrc//æ·»åŠ å¦‚ä¸‹source ~/.bash_profile å®‰è£…homebrewå®‰è£…æ–¹å¼ä¸€ï¼ˆæ¨èï¼‰å·¥å…·å®˜ç½‘ï¼Œå®˜ç½‘å®‰è£…æ­¥éª¤ï¼Œæ˜é‡‘æ•™ç¨‹ è„šæœ¬ä¸€é”®å®‰è£…ï¼Œå®‰è£…ç›®å½•ä¸º/opt/homebrew1/bin/bash -c &quot;$(curl -fsSL https://gitee.com/ineo6/homebrew-install/raw/master/install.sh)&quot; è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä»”ç»†é˜…è¯»ã€‚åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤echo $SHELLè·å¾—ç»ˆç«¯ç±»å‹ï¼š 12/bin/zsh =&gt; zsh =&gt; .zprofile/bin/bash =&gt; bash =&gt; .bash_profile å¦‚æœçœ‹åˆ°çš„æ˜¯/bin/zsh12echo 'eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;' &gt;&gt; ~/.zprofileeval &quot;$(/opt/homebrew/bin/brew shellenv)&quot; å¦‚æœçœ‹åˆ°çš„æ˜¯/bin/bash12echo 'eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;' &gt;&gt; ~/.bash_profileeval &quot;$(/opt/homebrew/bin/brew shellenv)&quot; å®‰è£…æ–¹å¼äºŒä¸‹è½½homebrewä»“åº“12sudo mkdir /opt/Homebrewsudo git clone https://mirrors.ustc.edu.cn/brew.git /opt/Homebrew ä¸‹è½½homebrew-coreä»“åº“12sudo mkdir -p /opt/Homebrew/Library/Taps/homebrew/homebrew-coresudo git clone https://mirrors.ustc.edu.cn/homebrew-core.git /opt/Homebrew/Library/Taps/homebrew/homebrew-core åªå°†å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨PATHæœç´¢è·¯å¾„ä¸­123sudo mkdir /opt/binecho export PATH=$PATH:/opt/binsudo ln -s /opt/Homebrew/bin/brew /opt/bin/brew varç›®å½•ä¸‹å­˜æ”¾é”1234sudo mkdir -p /opt/var/Homebrew//è¯¥ç›®å½•å­˜æ”¾å¯èƒ½çš„é…ç½®æ–‡ä»¶ï¼Œæ— åˆ™åˆ›å»ºsudo mkdir /opt/etc æ”¹å˜ç›®å½•æƒé™12sudo chown -R $(whoami) /opt/Homebrewsudo chown -R $(whoami) /opt/etc éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ1brew update å¦‚æœæç¤ºå‘½ä»¤ä¸å­˜åœ¨ï¼Œå°±åœ¨~/.bash_profileä¸­æ·»åŠ ï¼Œå®Œäº†è®°å¾—ã€‚source ~/.bash_profile 12//ä¸ä¸€å®šæ˜¯Homebrew ä¹Ÿå¯èƒ½æ˜¯homebrew æˆ–è€… *** å…·ä½“çœ‹ä½ è‡ªå·±æƒ…å†µexport PATH=/opt/Homebrew/bin:$PATH æ­¤è·¯å¾„å–å†³äºä½ å®‰è£…çš„ä½ç½®ã€‚/opt/Homebrew/binç›®å½•ä¸‹æœ‰ä¸ªbrewå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥å…ˆæ‰§è¡Œ./brew v æ£€æŸ¥æ˜¯å¦æœ‰é—®é¢˜ï¼Œæ·»åŠ å¥½äº†è¿‡åå°±æ‰§è¡Œ å®‰è£…cocoapods12345brew install cocoapodsgit clone https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git ~/.cocoapods/repos/master è¿›å…¥flutteré¡¹ç›®çš„iosä¸­ 1pod install ä¸­é€”æ‹‰åº“çš„æ—¶å€™å¯èƒ½ä¼šå¤±è´¥ï¼Œç„¶åé‡å¤æ‹‰æœ‰å¯èƒ½ä¼šæŠ¥é”™æç¤ºpod repo updateï¼Œç›´æ¥æ‰§è¡Œpod repo updateå°±okè€é¡¹ç›®è®°å¾—åˆ é™¤ Podfile.lock .","link":"/2021/10/02/20220625M1%E6%90%AD%E5%BB%BAflutter%E7%8E%AF%E5%A2%83/"},{"title":"dockeråŠç›¸å…³çš„å®‰è£…","text":"centos 7.9 docker-composeæ ¹æ®è‡ªå·±æƒ…å†µå®‰è£… yumé€‰æ‹©è‡ªå·±åˆé€‚çš„ å®˜ç½‘æ¨èå®‰è£… å¸è½½æ—§ç‰ˆæœ¬12345678910111213yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine#å¸è½½ Docker Engineã€CLIã€Containerd å’Œ Docker Compose è½¯ä»¶åŒ…ï¼šyum remove docker-ce docker-ce-cli containerd.io docker-compose-plugin#ä¸»æœºä¸Šçš„æ˜ åƒã€å®¹å™¨ã€å·æˆ–è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ é™¤ã€‚è¦åˆ é™¤æ‰€æœ‰æ˜ åƒã€å®¹å™¨å’Œå·ï¼šsudo rm -rf /var/lib/dockersudo rm -rf /var/lib/containerd å¼€å§‹å®‰è£… è®¾ç½®å­˜å‚¨åº“ã€‚å®‰è£…yum-utilsåŒ…ï¼ˆæä¾›yum-config-manager å®ç”¨ç¨‹åºï¼‰å¹¶è®¾ç½®å­˜å‚¨åº“ã€‚ 1234567891011121314sudo yum install -y yum-utils#é…ç½®æº#å¯ä»¥ä½¿ç”¨é˜¿é‡Œæºï¼Œæœ€å¥½é€‰è¿™ä¸ªyum-config-manager --add-repo=http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo#å®˜æ–¹sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repoyum makecache #é‡æ–°æ„å»ºç¼“å­˜yum repolist {all|enabled|disabled} #åˆ—å‡ºæ‰€æœ‰/å·²å¯ç”¨/å·²ç¦ç”¨çš„yumæºyum --disablerepo=repo #ä¸´æ—¶ç¦ç”¨æŸä¸ªrepoæºyum --enablerepo=repo #è§£é™¤ç¦ç”¨æŸä¸ªrepoæº å®‰è£… Docker å¼•æ“ã€‚å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Engineã€containerd å’Œ Docker Compose 1sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ Docker Engineï¼Œè¯·åœ¨ repo ä¸­åˆ—å‡ºå¯ç”¨ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£… 1234567891011yum list docker-ce --showduplicates | sort -rdocker-ce.x86_64 3:20.10.19-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.18-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.17-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.16-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.15-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.14-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.1-3.el7 docker-ce-stabledocker-ce.x86_64 3:20.10.13-3.el7 docker-ce-stable å®‰è£…ã€‚ 1234#é»˜è®¤å®‰è£…sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin#å¯ä»¥é€‰æ‹©ç‰ˆæœ¬sudo yum install docker-ce-20.10.14 docker-ce-cli-20.10.14 containerd.io docker-compose-plugin ç»“æŸ 1234sudo systemctl start docker #å¯åŠ¨sudo systemctl enable docker #å¼€æœºå¯åŠ¨docker version #æŸ¥çœ‹ç‰ˆæœ¬docker run hello-world #ç¤ºä¾‹è¿›é¡¹ å‡ºç°æŠ¥é”™ 123&gt;Transaction check error: file /usr/libexec/docker/cli-plugins/docker-buildx from install of docker-ce-cli-1:20.10.14-3.el7.x86_64 conflicts with file from package docker-buildx-plugin-0:0.10.2-1.el7.x86_64Error Summary ç”¨ yum list installed | grep docker æŸ¥çœ‹ï¼Œç„¶ååˆ é™¤ç›¸å…³çš„ rpm -e docker-buildx-plugin.x86_64 , rpm -e *** , rpm -e *** å®˜ç½‘è„šæœ¬å®‰è£… 12345curl -fsSL https://get.docker.com -o get-docker.shsudo sh get-docker.shæˆ–è€…sudo DRY_RUN=1 sh ./get-docker.sh å®˜ç½‘ä¸»ç«™ https://docs.docker.com/å†å²ç‰ˆæœ¬ https://download.docker.com/linux/static/stable/x86_64/é•œåƒ https://hub.docker.com/search?q=å®˜ç½‘å®‰è£… https://docs.docker.com/engine/install/centos/ docker-composeå®‰è£…å®˜æ–¹å®‰è£… å®˜ç½‘é€‰æ‹©ç‰ˆæœ¬ https://github.com/docker/compose/releases ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·,ä¾‹å¦‚1.24.1 curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-`uname -s-uname -m` -o /usr/local/bin/docker-compose æ·»åŠ æ‰§è¡Œæƒé™chmod +x /usr/local/bin/docker-compose æ£€æŸ¥docker composeç‰ˆæœ¬docker-compose version æ‰‹åŠ¨å®‰è£… å®˜ç½‘é€‰æ‹©ç‰ˆæœ¬ https://github.com/docker/compose/releases é€‰æ‹©ç›¸åº”ç‰ˆæœ¬,ä¸‹è½½docker-compose-Linux-x86_64åˆ°æœ¬åœ°æˆ–è€…æœåŠ¡å™¨ä¸­ æ›´åä¸ºdocker-compose,å¹¶ç§»åŠ¨åˆ° /usr/local/bin ç›®å½•ä¸‹ æ·»åŠ æ‰§è¡Œæƒé™chmod +x /usr/local/bin/docker-compose æ£€æŸ¥docker composeç‰ˆæœ¬docker-compose version å®‰è£…gcc 12yum -y install gccyum -y install gcc c++ é•œåƒåŠ é€Ÿ åˆ›å»º /etc/docker åŠ å…¥åœ°å€ 12345678910sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'{ &quot;registry-mirrors&quot;: [ &quot;https://mirror.ccs.tencentyun.com&quot; ]}EOFsudo systemctl daemon-reloadsudo systemctl restart docker","link":"/2022/06/10/20220610docker%E7%9A%84%E5%AE%89%E8%A3%85/"},{"title":"etcdå•èŠ‚ç‚¹å®‰è£…å’Œgolangçš„ç®€å•ä½¿ç”¨","text":"å®‰è£…golang1yum install golang etcdå•èŠ‚ç‚¹å®‰è£…æºç åŒ…å®‰è£…ä¸‹è½½etcd1wget https://github.com/etcd-io/etcd/releases/download/v3.1.5/etcd-v3.1.5-linux-amd64.tar.gz è§£å‹ etcd-v3.1.5-linux-amd64.tar.gz å‹ç¼©æ–‡ä»¶1tar -zxf etcd-v3.1.5-linux-amd64.tar.gz å°†æ–‡ä»¶å¤¹ä¸­etcdå’Œetcdctlä¸¤ä¸ªæ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„åˆ°ç¯å¢ƒå˜é‡PATHä¸­ã€‚1234//è¿›å…¥æ–‡ä»¶å¤¹cd etcd-v3.1.5-linux-amd64///å°†æ–‡ä»¶å¤¹ä¸­etcdå’Œetcdctlä¸¤ä¸ªæ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„åˆ°ç¯å¢ƒå˜é‡PATHä¸­ã€‚mv etcd* /usr/local/bin ä¿®æ”¹ä½¿ç”¨çš„apiç­‰çº§12export ETCDCTL_API=3source /etc/profile æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯1234567891011etcdctl vetcdctl version: 3.1.5API version: 3.1etcd --versionetcd Version: 3.1.5Git SHA: 2cf9e51Go Version: go1.10.3Go OS/Arch: linux/amd64 åˆ›å»ºetcdæ•°æ®å­˜æ”¾ä½ç½®12// æ•°æ®å­˜æ”¾ä½ç½®çš„æ–‡ä»¶å¤¹mkdir -p /var/lib/etcd/ åˆ›å»ºå¯åŠ¨æ–‡ä»¶12345678910111213141516171819202122cat &lt;&lt;EOF | sudo tee /etc/systemd/system/etcd.service//å¤åˆ¶ä»¥ä¸‹å³å¯[Unit]Description=Etcd ServerDocumentation=https://github.com/coreos/etcdAfter=network.target [Service]User=rootType=notifyEnvironment=ETCD_NAME=etcd_test_1Environment=ETCD_DATA_DIR=/var/lib/etcd/ExecStart=/usr/local/bin/etcdRestart=on-failureRestartSec=10sLimitNOFILE=40000 [Install]WantedBy=multi-user.targetEOF é‡æ–°åŠ è½½é…ç½® &amp;&amp; å¼€æœºå¯åŠ¨ &amp;&amp; å¯åŠ¨ etcdå¯åŠ¨etcd123systemctl daemon-reload &amp;&amp; systemctl enable etcd &amp;&amp; systemctl start etcd//æˆåŠŸå¦‚ä¸‹Created symlink from /etc/systemd/system/multi-user.target.wants/etcd.service to /etc/systemd/system/etcd.service. å¼€æœºå¯åŠ¨è®¾ç½®çŠ¶æ€ï¼ŒçŠ¶æ€ enabled1234567systemctl list-unit-files etcd.service//æˆåŠŸå¦‚ä¸‹UNIT FILE STATE etcd.service enabled 1 unit files listed. æŸ¥çœ‹ etcd çŠ¶æ€1systemctl show etcd.service æµ‹è¯•12345etcdctl put mykey &quot;this is etcd2&quot;OKetcdctl get mykeymykeythis is etcd å¤–ç½‘è¿æ¥å½“ç„¶ï¼Œetcdé»˜è®¤æœ¬åœ°è®¿é—®ã€‚å¦‚æœéœ€è¦è¿œç¨‹è®¿é—®éœ€è¦åœ¨é…ç½®æ–‡ä»¶ï¼ˆ/etc/etcd.conf ä¸Šé¢åˆ›å»ºçš„æ–‡ä»¶ï¼‰ä¸­åŠ ä¸Šå¦‚ä¸‹æ“ä½œã€‚æ³¨æ„å¦‚æœä¸Šé¢ä¸€è¡Œä¸æ˜¯å­—ç¬¦ä¸²éœ€è¦åŠ ä¸ª 1234567891011121314[Service]User=rootType=notifyEnvironment=ETCD_NAME=etcd_test_1Environment=ETCD_DATA_DIR=/var/lib/etcd/Environment=ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379Environment=ETCD_ADVERTISE_CLIENT_URLS=http://0.0.0.0:2379æˆ–è€…ç›´æ¥ä½¿ç”¨æœ¬æœºEnvironment=ETCD_LISTEN_CLIENT_URLS=http://1.117.72.92:2379Environment=ETCD_ADVERTISE_CLIENT_URLS=http://1.117.72.92:2379ExecStart=/usr/local/bin/etcd å¦‚æœå½“å‰å·²ç»å¯åŠ¨äº†ä¿®æ”¹çš„é…ç½® 12345# é‡å¯ç”Ÿæ•ˆsystemctl restart etcd# é‡å¯ç”Ÿæ•ˆsystemctl stop etcdsystemctl daemon-reload &amp;&amp; systemctl enable etcd &amp;&amp; systemctl start etcd å¸¸ç”¨é…ç½® â€“nameï¼šæ–¹ä¾¿ç†è§£çš„èŠ‚ç‚¹åç§°ï¼Œé»˜è®¤ä¸º defaultï¼Œåœ¨é›†ç¾¤ä¸­åº”è¯¥ä¿æŒå”¯ä¸€ï¼Œå¯ä»¥ä½¿ç”¨ hostname â€“data-dirï¼šæœåŠ¡è¿è¡Œæ•°æ®ä¿å­˜çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º ${name}.etcd â€“snapshot-countï¼šæŒ‡å®šæœ‰å¤šå°‘äº‹åŠ¡ï¼ˆtransactionï¼‰è¢«æäº¤æ—¶ï¼Œè§¦å‘æˆªå–å¿«ç…§ä¿å­˜åˆ°ç£ç›˜ â€“heartbeat-intervalï¼šleader å¤šä¹…å‘é€ä¸€æ¬¡å¿ƒè·³åˆ° followersã€‚é»˜è®¤å€¼æ˜¯ 100ms â€“eletion-timeoutï¼šé‡æ–°æŠ•ç¥¨çš„è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœfolloweråœ¨è¯¥æ—¶é—´é—´éš”æ²¡æœ‰æ”¶åˆ°å¿ƒè·³åŒ…ï¼Œä¼šè§¦å‘é‡æ–°æŠ•ç¥¨ï¼Œé»˜è®¤ä¸º 1000 ms â€“listen-peer-urlsï¼šå’ŒåŒä¼´é€šä¿¡çš„åœ°å€ï¼Œæ¯”å¦‚ http://ip:2380ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œä½¿ç”¨é€—å·åˆ†éš”ã€‚éœ€è¦æ‰€æœ‰èŠ‚ç‚¹éƒ½èƒ½å¤Ÿè®¿é—®ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨ localhost â€“listen-client-urlsï¼šå¯¹å¤–æä¾›æœåŠ¡çš„åœ°å€ï¼šæ¯”å¦‚ http://ip:2379,http://127.0.0.1:2379ï¼Œå®¢æˆ·ç«¯ä¼šè¿æ¥åˆ°è¿™é‡Œå’Œetcdäº¤äº’ â€“advertise-client-urlsï¼šå¯¹å¤–å…¬å‘Šçš„è¯¥èŠ‚ç‚¹å®¢æˆ·ç«¯ç›‘å¬åœ°å€ï¼Œè¿™ä¸ªå€¼ä¼šå‘Šè¯‰é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹ â€“initial-advertise-peer-urlsï¼šè¯¥èŠ‚ç‚¹åŒä¼´ç›‘å¬åœ°å€ï¼Œè¿™ä¸ªå€¼ä¼šå‘Šè¯‰é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹ â€“initial-clusterï¼šé›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ ¼å¼ä¸º node1=http://ip1:2380,node2=http://ip2:2380,â€¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ node1 æ˜¯èŠ‚ç‚¹çš„â€“nameæŒ‡å®šçš„åå­—ï¼›åé¢çš„ip1:2380 æ˜¯â€“initial-advertise-peer-urls æŒ‡å®šçš„å€¼ â€“initial-cluster-stateï¼šæ–°å»ºé›†ç¾¤çš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼ä¸º newï¼›å‡å¦‚å·²ç»å­˜åœ¨çš„é›†ç¾¤ï¼Œè¿™ä¸ªå€¼ä¸ºexisting â€“initial-cluster-tokenï¼šåˆ›å»ºé›†ç¾¤çš„tokenï¼Œè¿™ä¸ªå€¼æ¯ä¸ªé›†ç¾¤ä¿æŒå”¯ä¸€ã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœä½ è¦é‡æ–°åˆ›å»ºé›†ç¾¤ï¼Œå³ä½¿é…ç½®å’Œä¹‹å‰ä¸€æ ·ï¼Œä¹Ÿä¼šå†æ¬¡ç”Ÿæˆæ–°çš„é›†ç¾¤å’ŒèŠ‚ç‚¹ uuidï¼›å¦åˆ™ä¼šå¯¼è‡´å¤šä¸ªé›†ç¾¤ä¹‹é—´çš„å†²çªï¼Œé€ æˆæœªçŸ¥çš„é”™è¯¯ è¿™äº›é€‰é¡¹ï¼Œä¸ä¸Šé¢æˆ‘ä»¬é…ç½®æ–‡ä»¶é‡Œçš„é…ç½®ä¸€ä¸€å¯¹åº”ï¼Œå¦‚ETCD_INITIAL_CLUSTERç­‰åŒäºâ€“inital-cluster, ETCD_INITIAL_CLUSTER_STATEç­‰åŒäºâ€“initial-cluster-stateã€‚ æ‰€æœ‰ä»¥â€“initå¼€å¤´çš„é…ç½®éƒ½æ˜¯åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨etcdé›†ç¾¤çš„æ—¶å€™æ‰ä¼šç”¨åˆ°ï¼Œåç»­èŠ‚ç‚¹çš„é‡å¯ä¼šè¢«å¿½ç•¥ï¼Œå¦‚â€“initial-cluseterå‚æ•°ã€‚æ‰€ä»¥å½“æˆåŠŸåˆå§‹åŒ–äº†ä¸€ä¸ªetcdé›†ç¾¤ä»¥åï¼Œå°±ä¸å†éœ€è¦è¿™ä¸ªå‚æ•°æˆ–ç¯å¢ƒå˜é‡äº†ã€‚ å¸¸ç”¨å‘½ä»¤12345systemctl daemon-reloadsystemctl enable etcdsystemctl start etcdsystemctl stop etcdetcdctl member list //æŸ¥çœ‹èŠ‚ç‚¹ æŠ¥é”™æ”¶é›†123No help topic for â€˜putâ€™export ETCDCTL_API=3 è§£å†³ etcd gitå®˜æ–¹å®‰è£…è„šæœ¬ https://github.com/etcd-io/etcd/releasesç»§ç»­ä» &lt;&lt;å°†æ–‡ä»¶å¤¹ä¸­etcdå’Œetcdctlä¸¤ä¸ªæ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„åˆ°ç¯å¢ƒå˜é‡PATHä¸­&gt;&gt; å¼€å§‹ etcd yumå®‰è£…123yum install etcd//ç»§ç»­ä» &lt;&lt;ä¿®æ”¹ä½¿ç”¨çš„apiç­‰çº§&gt;&gt; å¼€å§‹ å®‰è£…etcd webui è®°å¾—å¯åŠ¨EtcdæœåŠ¡ã€‚ å…ˆå®‰è£…nodeï¼Œgitç¯å¢ƒï¼Œç„¶åcloneã€‚ å®‰è£…nodeå¯ä»¥åˆ° http://nodejs.cn/download/ä¸‹è½½å¯¹åº”çš„ node ç‰ˆæœ¬ã€‚123git clone https://github.com/henszey/etcd-browser.gitcd etcd-browser/vim server.js ç¼–è¾‘server.jsï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š123var etcdHost = process.env.ETCD_HOST || '127.0.0.1'; # etcd ä¸»æœºIPvar etcdPort = process.env.ETCD_PORT || 2379; # etcd ä¸»æœºç«¯å£var serverPort = process.env.SERVER_PORT || 8000; # etcd-browser ç›‘å¬ç«¯å£ ç„¶åå¯åŠ¨1node server.js è®¿é—®ï¼šhttp://127.0.0.1:8000/ goè¿æ¥etcdå’Œä¸€äº›æ“ä½œput/getçš„ç®€å•æ“ä½œç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( &quot;context&quot; &quot;fmt&quot; &quot;go.etcd.io/etcd/client/v3&quot; &quot;time&quot;)func main() { cli, err := clientv3.New(clientv3.Config{ Endpoints: []string{&quot;127.0.0.1:2379&quot;}, DialTimeout: 5 * time.Second, }) if err != nil { // handle error! fmt.Printf(&quot;connect to etcd failed, err:%v\\n&quot;, err) return } fmt.Println(&quot;connect to etcd success&quot;) defer cli.Close() // put ctx, cancel := context.WithTimeout(context.Background(), 3*time.Second) _, err = cli.Put(ctx, &quot;k1&quot;, &quot;v1&quot;) cancel() if err != nil { fmt.Printf(&quot;put to etcd failed, err:%v\\n&quot;, err) return } // get ctx, cancel = context.WithTimeout(context.Background(), 3*time.Second) resp, err := cli.Get(ctx, &quot;k1&quot;) cancel() if err != nil { fmt.Printf(&quot;get from etcd failed, err:%v\\n&quot;, err) return } for _, ev := range resp.Kvs { fmt.Printf(&quot;%s:%s\\n&quot;, ev.Key, ev.Value) }} watchçš„ä½¿ç”¨12345678910111213141516171819202122232425262728package mainimport ( &quot;context&quot; &quot;fmt&quot; &quot;go.etcd.io/etcd/client/v3&quot; &quot;time&quot;)func main() { cli, err := clientv3.New(clientv3.Config{ Endpoints: []string{&quot;127.0.0.1:2379&quot;}, DialTimeout: 5 * time.Second, }) if err != nil { fmt.Printf(&quot;connect to etcd failed, err:%v\\n&quot;, err) return } fmt.Println(&quot;connect to etcd success&quot;) defer cli.Close() // watch key:q1mi change rch := cli.Watch(context.Background(), &quot;k1&quot;) // &lt;-chan WatchResponse for wresp := range rch { for _, ev := range wresp.Events { fmt.Printf(&quot;Type: %s Key:%s Value:%s\\n&quot;, ev.Type, ev.Kv.Key, ev.Kv.Value) } }} åœ¨åŒçº§çš„ç›®å½•ä¸‹cmdè¿›å…¥(ä¸‹é¢æ“ä½œæ˜¯åœ¨windowsä¸Šè¿›è¡Œçš„ï¼Œå› ä¸ºæ–¹ä¾¿) 123etcdctl.exe --endpoints=http://127.0.0.1:2379 put k1 &quot;xixixixix&quot;etcdctl.exe --endpoints=http://127.0.0.1:2379 del k1etcdctl.exe --endpoints=http://127.0.0.1:2379 put k1 &quot;dsb3&quot; leaseç§Ÿçº¦çš„ä½¿ç”¨123456789101112131415161718192021222324252627282930313233package mainimport ( &quot;context&quot; &quot;fmt&quot; &quot;go.etcd.io/etcd/client/v3&quot; &quot;time&quot;)func main() { cli, err := clientv3.New(clientv3.Config{ Endpoints: []string{&quot;127.0.0.1:2379&quot;}, DialTimeout: time.Second * 5, }) if err != nil { fmt.Println(err) } fmt.Println(&quot;connect to etcd success.&quot;) defer cli.Close() // åˆ›å»ºä¸€ä¸ª5ç§’çš„ç§Ÿçº¦ resp, err := cli.Grant(context.TODO(), 5) if err != nil { fmt.Println(err) } fmt.Println(resp.ID) // 5ç§’é’Ÿä¹‹å, /aaaa/ è¿™ä¸ªkeyå°±ä¼šè¢«ç§»é™¤ _, err = cli.Put(context.TODO(), &quot;/aaaa/&quot;, &quot;dsb&quot;, clientv3.WithLease(resp.ID)) if err != nil { fmt.Println(err) } time.Sleep(time.Second * 6)} keepAlive12345678910111213141516171819202122232425262728293031func main() { cli, err := clientv3.New(clientv3.Config{ Endpoints: []string{&quot;127.0.0.1:2379&quot;}, DialTimeout: time.Second * 5, }) if err != nil { fmt.Println(err) } fmt.Println(&quot;connect to etcd success.&quot;) defer cli.Close() resp, err := cli.Grant(context.TODO(), 5) if err != nil { fmt.Println(err) } _, err = cli.Put(context.TODO(), &quot;/aaaa/&quot;, &quot;dsb&quot;, clientv3.WithLease(resp.ID)) if err != nil { fmt.Println(err) } // the key 'foo' will be kept forever ch, kaerr := cli.KeepAlive(context.TODO(), resp.ID) if kaerr != nil { fmt.Println(err) } for { ka := &lt;-ch fmt.Println(&quot;ttl:&quot;, ka.TTL) }}","link":"/2022/09/18/20220918etcd%E5%8D%95%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85%E5%92%8Cgolang%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"},{"title":"etcdé›†ç¾¤çš„æ­å»º","text":"etcdå®‰è£…ä¸è¯´äº†è¯¦æƒ…è¯·çœ‹ä¸Šç¯‡æ–‡ç«  å¯åŠ¨æœåŠ¡èŠ‚ç‚¹112345678etcd --name etcd_t_0 --initial-advertise-peer-urls http://119.91.206.195:2380 \\ --listen-peer-urls http://0.0.0.0:2380 \\ --listen-client-urls http://0.0.0.0:2379 \\ --advertise-client-urls http://119.91.206.195:2379 \\ --initial-cluster-token etcd-cluster-1 \\ --initial-cluster etcd_t_0=http://119.91.206.195:2380,etcd_t_1=http://1.117.72.9:2380,etcd_t_2=http://47.92.80.135:2380 \\ --initial-cluster-state new \\ --data-dir /var/lib/etcd5/ èŠ‚ç‚¹212345678etcd --name etcd_t_1 --initial-advertise-peer-urls http://1.117.72.9:2380 \\ --listen-peer-urls http://0.0.0.0:2380 \\ --listen-client-urls http://0.0.0.0:2379 \\ --advertise-client-urls http://1.117.72.9:2379 \\ --initial-cluster-token etcd-cluster-1 \\ --initial-cluster etcd_t_0=http://119.91.206.195:2380,etcd_t_1=http://1.117.72.9:2380,etcd_t_2=http://47.92.80.135:2380 \\ --initial-cluster-state new \\ --data-dir /var/lib/etcd5/ èŠ‚ç‚¹312345678etcd --name etcd_t_2 --initial-advertise-peer-urls http://47.92.80.135:2380 \\ --listen-peer-urls http://0.0.0.0:2380 \\ --listen-client-urls http://0.0.0.0:2379 \\ --advertise-client-urls http://47.92.80.135:2379 \\ --initial-cluster-token etcd-cluster-1 \\ --initial-cluster etcd_t_0=http://119.91.206.195:2380,etcd_t_1=http://1.117.72.9:2380,etcd_t_2=http://47.92.80.135:2380 \\ --initial-cluster-state new \\ --data-dir /var/lib/etcd5/ å¸¸ç”¨æ“ä½œ æŸ¥çœ‹é›†ç¾¤æˆå‘˜ 12345678[root@VM-20-14-centos ~]# etcdctl member list --write-out=table+------------------+---------+----------+----------------------------+----------------------------+| ID | STATUS | NAME | PEER ADDRS | CLIENT ADDRS |+------------------+---------+----------+----------------------------+----------------------------+| 362499433afddc14 | started | etcd_t_1 | http://1.117.72.9:2380 | http://1.117.72.9:2379 || e4258ae59dee9dc3 | started | etcd_t_0 | http://119.91.206.195:2380 | http://119.91.206.195:2379 || feb1217e15f7013f | started | etcd_t_2 | http://47.92.80.135:2380 | http://47.92.80.135:2379 |+------------------+---------+----------+----------------------------+----------------------------+ æŸ¥çœ‹é›†ç¾¤å¥åº· 1234[root@VM-20-14-centos ~]# etcdctl --endpoints=119.91.206.195:2380,1.117.72.9:2380,47.92.80.135:2380 endpoint health1.117.72.9:2380 is healthy: successfully committed proposal: took = 87.35868ms47.92.80.135:2380 is healthy: successfully committed proposal: took = 111.468497ms119.91.206.195:2380 is healthy: successfully committed proposal: took = 101.468497ms æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ 12345678[root@VM-20-14-centos ~]# etcdctl --endpoints=119.91.206.195:2380,1.117.72.9:2380,47.92.80.135:2380 endpoint status --write-out=table+---------------------+------------------+---------+---------+-----------+-----------+------------+| ENDPOINT | ID | VERSION | DB SIZE | IS LEADER | RAFT TERM | RAFT INDEX |+---------------------+------------------+---------+---------+-----------+-----------+------------+| 1.117.72.9:2380 | 362499433afddc14 | 3.3.11 | 20 kB | false | 15 | 9 || 47.92.80.135:2380 | feb1217e15f7013f | 3.3.11 | 16 kB | false | 15 | 9 || 119.91.206.195:2380 | e4258ae59dee9dc3 | 3.3.11 | 16 kB | true | 15 | 9 |+---------------------+------------------+---------+---------+-----------+-----------+------------+ åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ 12[root@VM-20-14-centos ~]# etcdctl member remove 362499433afddc14Member 362499433afddc14 removed from cluster 51573d7cfd299893 åŠ å…¥ä¸€ä¸ªèŠ‚ç‚¹ 123456[root@VM-20-14-centos ~]# etcdctl member add etcd_t_1 --peer-urls=http://1.117.72.9:2380Member c4356e396bf22311 added to cluster 51573d7cfd299893ETCD_NAME=&quot;etcd_t_1&quot;ETCD_INITIAL_CLUSTER=&quot;etcd_t_1=http://1.117.72.9:2380,etcd_t_0=http://119.91.206.195:2380,etcd_t_2=http://47.92.80.135:2380&quot;ETCD_INITIAL_CLUSTER_STATE=&quot;existing&quot; æ–°èŠ‚ç‚¹å¯åŠ¨çš„æ—¶å€™ä½¿ç”¨ä»¥ä¸Šè¾“å‡ºçš„é…ç½®å¯åŠ¨ä¸€å®šæ³¨æ„å‚æ•° æ•…éšœä¸»æœºåŠ å…¥èŠ‚ç‚¹ æ•…éšœçš„etcdä¸»æœºï¼š 1systemctl stop etcd ç§»é™¤æ•…éšœèŠ‚ç‚¹ 12[root@VM-20-14-centos ~]# etcdctl member remove 362499433afddc14Member 362499433afddc14 removed from cluster 51573d7cfd299893 æŸ¥è¯¢é›†ç¾¤æˆå‘˜ 1234567+------------------+-----------+----------+----------------------------+----------------------------+| ID | STATUS | NAME | PEER ADDRS | CLIENT ADDRS |+------------------+-----------+----------+----------------------------+----------------------------+| 50466d8335f8506a | unstarted | | http://1.117.72.9:2380 | || e4258ae59dee9dc3 | started | etcd_t_0 | http://119.91.206.195:2380 | http://119.91.206.195:2379 || feb1217e15f7013f | started | etcd_t_2 | http://47.92.80.135:2380 | http://47.92.80.135:2379 |+------------------+-----------+----------+----------------------------+----------------------------+ æ­£å¸¸çš„etcdä¸»æœº 123456[root@VM-20-14-centos ~]# etcdctl member add etcd_t_1 --peer-urls=http://1.117.72.9:2380Member c4356e396bf22311 added to cluster 51573d7cfd299893ETCD_NAME=&quot;etcd_t_1&quot;ETCD_INITIAL_CLUSTER=&quot;etcd_t_1=http://1.117.72.9:2380,etcd_t_0=http://119.91.206.195:2380,etcd_t_2=http://47.92.80.135:2380&quot;ETCD_INITIAL_CLUSTER_STATE=&quot;existing&quot; æ•…éšœçš„etcdä¸»æœºï¼Œå¯åŠ¨etcdåï¼Œå†æŸ¥çœ‹etcdçŠ¶æ€ï¼š ä¸€å®šè¦å»ä¿®æ”¹æ•…éšœä¸»æœºçš„é…ç½®ä¸ºï¼šETCD_INITIAL_CLUSTER_STATE=â€existingâ€ 123456# å…ˆåˆ é™¤é”™è¯¯èŠ‚ç‚¹çš„æ•°æ®rm -rf /var/lib/etcd/membersystemctl start etcd# ç­‰å¾…ä¸€ä¼šï¼Œè¿™æ—¶å€™ä¼šåŒæ­¥æ•°æ®ï¼Œç¨ç­‰å†æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€etcdctl endpoint health127.0.0.1:2379 is healthy: successfully committed proposal: took = 24.52485ms åˆ°è¿™é‡Œï¼Œetcdæ•…éšœèŠ‚ç‚¹ä¿®å¤å®Œæ¯• é—®é¢˜æ€»ç»“ è¿™æ˜¯é›†ç¾¤ä¸­ä½¿ç”¨çš„etcdç‰ˆæœ¬ä¸ä¸€è‡´çš„æç¤º(è¿™å¾ˆæœ‰å¯èƒ½åˆ°å¯¼è‡´é›†ç¾¤ä¸å¥åº·ï¼Œè‡³å°‘æˆ‘è¿™ä¸ªç‰ˆæœ¬ä¼šï¼Œåæ¥æˆ‘å…¨æ˜¯yum install etcd)122022-09-25 21:59:44.187212 W | etcdserver: the local etcd version 3.1.5 is not up-to-date2022-09-25 21:59:44.187217 W | etcdserver: member feb1217e15f7013f has a higher version 3.3.11 å¦‚æœåœ¨ä¸€ä¸ªç›®å½•å¯åŠ¨è¿‡etcdï¼Œè¦å¯åŠ¨æ–°çš„é›†ç¾¤æˆ–è€…å…¶ä»–çš„æ–°çš„å®ä¾‹ï¼Œæœ€å¥½æ¢ä¸ªç›®å½•ï¼Œä»–å¯èƒ½ä¼šå¯¼è‡´æ— æ³•å¯åŠ¨ã€‚æš´åŠ›ç‚¹rm -rf ****** æ•…éšœçš„etcdä¸»æœºï¼Œä¸€å®šè¦å»ä¿®æ”¹æ•…éšœä¸»æœºçš„é…ç½®ä¸ºï¼šETCD_INITIAL_CLUSTER_STATE=existing æ³¨æ„å¦‚æœæ˜¯å‰é¢ä¿®å¤è¿‡åèŠ‚ç‚¹ï¼Œä¸‹æ¬¡å¯åŠ¨é›†ç¾¤çš„æ—¶å€™ä¹Ÿä¸éœ€è¦å»ä¿®æ”¹åèŠ‚ç‚¹çš„ETCD_INITIAL_CLUSTER_STATE=new ä¸åŒç‰ˆæœ¬çš„etcdå‘½ä»¤å¯èƒ½ä¸ä¸€æ ·ï¼Œæ¯”å¦‚ï¼šæ·»åŠ èŠ‚ç‚¹ è®¾ç½®æˆexistingï¼Œå¿…é¡»ç¡®ä¿åœ¨å¯åŠ¨æ—¶å€™å…¶ä»–memberæ˜¯å­˜æ´»çš„ï¼ˆpeerç«¯å£ï¼‰ï¼Œå¦åˆ™å¯åŠ¨å¤±è´¥ã€‚ç”¨åœ¨æ‰©å®¹æ–°å®ä¾‹çš„å¯åŠ¨ã€‚è®¾ç½®æˆnewï¼Œç”¨åœ¨clusterå·²çŸ¥memberçš„å¯åŠ¨ã€‚","link":"/2022/09/25/20220925etcd%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"},{"title":"flutteræå…‰æ¨é€é›†æˆåä¸º(é¸¿è’™)å‚å•†é€šé“","text":"flutteræ’ä»¶jpush_flutter: 2.2.5,github åä¸ºæ¨é€è¯ä¹¦agconnect-services.jsonå¯¼å‡ºåœ°å€ æå…‰å¼€å‘è€…å¹³å° å®¢æˆ·ç«¯sdké›†æˆå®˜æ–¹æ–‡æ¡£ å®¢æˆ·ç«¯åä¸ºå‚å•†é€šé“é›†æˆå®˜æ–¹æ–‡æ¡£ æå…‰æ¨é€æ’æŸ¥å·¥å…· com.huawei.hms:push:X.X.X.XXXæ¨é€æœåŠ¡ï¼ˆPush Kitï¼‰æ˜¯åä¸ºæä¾›çš„æ¶ˆæ¯æ¨é€å¹³å°ï¼Œå»ºç«‹äº†ä»äº‘ç«¯åˆ°ç»ˆç«¯çš„æ¶ˆæ¯æ¨é€é€šé“ã€‚æ‚¨é€šè¿‡é›†æˆæ¨é€æœåŠ¡ï¼Œå¯ä»¥å‘å®¢æˆ·ç«¯åº”ç”¨å®æ—¶æ¨é€æ¶ˆæ¯ï¼Œæ„ç­‘è‰¯å¥½çš„ç”¨æˆ·å…³ç³»ï¼Œæå‡ç”¨æˆ·çš„æ„ŸçŸ¥åº¦å’Œæ´»è·ƒåº¦ã€‚ com.huawei.hms:push:X.X.X.XXXæ¨é€æœåŠ¡ç‰ˆæœ¬åŠå…¶å†å²ç‰ˆæœ¬ com.huawei.agconnect:agcp:X.X.X.XXXåä¸ºåˆ†ææœåŠ¡ï¼ˆAnalytics Kitï¼‰æ˜¯é’ˆå¯¹ç§»åŠ¨åº”ç”¨ã€Webã€å¿«åº”ç”¨ã€å¿«æ¸¸æˆã€å°ç¨‹åºç­‰äº§å“çš„ä¸€ç«™å¼ç”¨æˆ·è¡Œä¸ºåˆ†æå¹³å°ï¼Œè´´åˆä¸šåŠ¡åœºæ™¯ï¼Œæä¾›æ•°æ®é‡‡é›†ã€æ•°æ®ç®¡ç†ã€æ•°æ®åˆ†æã€æ•°æ®åº”ç”¨çš„ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆï¼Œé©±åŠ¨ä¼ä¸šå®ç°ç²¾å‡†æ‹‰æ–°ã€äº§å“ä¼˜åŒ–ã€ç²¾ç›Šè¿è¥ã€ä¸šåŠ¡å¢é•¿ã€‚ æå…‰æ¨é€å®˜æ–¹å®¢æˆ·ç«¯é›†æˆï¼ŒåŒ…æ‹¬è£è€€ï¼ŒOPPOï¼Œç­‰ç­‰éœ€è¦å¼•å…¥aaråŒ…ï¼Œæå…‰æ–‡æ¡£å¯èƒ½ä¼šæ›´æ–°ï¼Œéœ€è¦ç•™æ„è§‚çœ‹ï¼Œçœ‹ç€ä»–æ–‡æ¡£æ¥å°±OK æå…‰æ¨é€åŸºç¡€é›†æˆ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071class MyHomePage extends StatefulWidget { const MyHomePage({super.key, required this.title}); final String title; @override State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();}class _MyHomePageState extends State&lt;MyHomePage&gt; { JPush jpush = new JPush(); @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ ElevatedButton(onPressed:(){ try { //Map&lt;String, dynamic&gt; message jpush.addEventHandler(onReceiveNotification: (message) async { print(&quot;jpush flutter onReceiveNotification: ${json.encode(message)}&quot;); }, onOpenNotification: (message) async { }, onReceiveMessage: (message) async { print(&quot;jpush flutter onReceiveMessage: ${json.encode(message)}&quot;); }, onReceiveNotificationAuthorization: (message) async { }); } on PlatformException { print(&quot;jpush Failed to get platform version.&quot;); } jpush.setup( appKey: &quot;bffe9289**********61869be9&quot;, channel: &quot;developer-default&quot;, production: false, debug: false, // è®¾ç½®æ˜¯å¦æ‰“å° debug æ—¥å¿— ); jpush.applyPushAuthority(NotificationSettingsIOS( sound: true, alert: true, badge: true, )); jpush.getRegistrationID().then((rid) { print(&quot;jpush flutter get registration id : $rid&quot;); }); }, child: Text(&quot;setup&quot;)), ElevatedButton(onPressed:(){ jpush.applyPushAuthority(); }, child: Text(&quot;apply&quot;)), ElevatedButton(onPressed:(){ jpush.isNotificationEnabled().then((bool value) { print(&quot;jpush é€šçŸ¥æˆæƒæ˜¯å¦æ‰“å¼€: $value&quot;); }).catchError((onError) { print(&quot;jpush é€šçŸ¥æˆæƒæ˜¯å¦æ‰“å¼€: ${onError.toString()}&quot;); }); }, child: Text(&quot;é€šçŸ¥&quot;)), ElevatedButton(onPressed:(){ jpush.setAlias(&quot;1000*****&quot;).then((map) { print(&quot;==setAlias==${map}==&quot;); }); }, child: Text(&quot;setAlias&quot;)) ], ), ), ); }} å‚å•†é€šé“é›†æˆ gradle:6.7 distributionUrl=https://services.gradle.org/distributions/gradle-6.7-all.zip android/build.gradleâ€”â€”â€”-classpath com.android.tools.build:gradle:4.1.3 jpush_flutter: 2.2.5 Jcoreç‰ˆæœ¬:3.2.2 Jpushç‰ˆæœ¬: 4.6.4 (å¯ä»¥åœ¨flutterçš„æ’ä»¶åœ°å€Changelogä¸­æŸ¥çœ‹) android/build.gradleåŠ ä¸Šå¦‚ä¸‹ä»£ç 12345678910111213141516171819202122232425buildscript { ext.kotlin_version = '1.6.10' repositories { google() mavenCentral() // åŠ ä¸Šå¦‚ä¸‹ä»£ç  maven {url 'https://developer.huawei.com/repo/'} } dependencies { classpath 'com.android.tools.build:gradle:4.1.3' classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // åŠ ä¸Šå¦‚ä¸‹ä»£ç  classpath 'com.huawei.agconnect:agcp:1.4.2.300' }}allprojects { repositories { google() mavenCentral() // åŠ ä¸Šå¦‚ä¸‹ä»£ç  maven { url 'https://developer.huawei.com/repo/' } }} agconnect-services.jsonæ”¾å…¥åˆ°**android/app/**ä¸­è¿›å…¥åˆ°android/app/build.gradle12345apply plugin: 'com.android.application'apply plugin: 'kotlin-android'apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;// åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼ˆä½ç½®éšæ„ï¼‰apply plugin: 'com.huawei.agconnect' å¼•å…¥å‚å•†sdkæå…‰å‚å•†æ’ä»¶ç‰ˆæœ¬ä¸æ¥å…¥ JPush ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œä¸‹åŒï¼Œjpushç‰ˆæœ¬å¯ä»¥åœ¨æå…‰æ¨é€æ’æŸ¥å·¥å…·ä¸­æŸ¥çœ‹ 12345678910111213141516dependencies { // æ¥å…¥åä¸ºå‚å•† implementation 'com.huawei.hms:push:5.3.0.301' implementation 'cn.jiguang.sdk.plugin:huawei:4.4.5'// æå…‰å‚å•†æ’ä»¶ç‰ˆæœ¬ä¸æ¥å…¥ JPush ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œä¸‹åŒ // æ¥å…¥å°ç±³å‚å•† implementation 'cn.jiguang.sdk.plugin:xiaomi:4.4.5' // æ¥å…¥ FCM å‚å•† // implementation 'com.google.firebase:firebase-messaging:21.0.1' // implementation 'cn.jiguang.sdk.plugin:fcm:4.0.0' // æ¥å…¥é­…æ—å‚å•† implementation 'cn.jiguang.sdk.plugin:meizu:4.4.5' // æ¥å…¥ VIVO å‚å•† implementation 'cn.jiguang.sdk.plugin:vivo:4.4.5' // æ¥å…¥ OPPO å‚å•† implementation 'cn.jiguang.sdk.plugin:oppo:4.4.5'} ä¿®æ”¹AndroidManifest.xml12345678&lt;manifest Â·Â·Â· xmlns:tools=&quot;http://schemas.android.com/tools&quot; Â·Â·Â·&gt; &lt;application Â·Â·Â· tools:replace=&quot;android:label&quot; ç‰ˆæœ¬å‡çº§â€˜com.huawei.agconnect:agcp:1.5.2.300â€™ è¿™ä¸ªç‰ˆæœ¬æ˜¯IDEè‡ªåŠ¨æç¤ºæˆ‘çš„å¦‚æœç‰ˆæœ¬ä¸å¯¹ä»–è¿è¡Œå¯èƒ½ä¼šæŠ¥é”™!!!!,å¼€å¤´ç»™åŠ›åœ°å€å¯ä»¥æŸ¥æ‰¾è‡ªå·±å¯¹åº”çš„ç‰ˆæœ¬ â€˜com.huawei.hms:push:5.3.0.301â€™ å¼€å¤´ç»™åŠ›åœ°å€å¯ä»¥æŸ¥æ‰¾è‡ªå·±å¯¹åº”çš„ç‰ˆæœ¬ gradle:7.4 distributionUrl=https://services.gradle.org/distributions/gradle-7.4-all.zip android/build.gradleâ€”â€”â€”-classpath â€˜com.android.tools.build:gradle:7.1.2â€™ jpush_flutter: 2.4.0 Jpushç‰ˆæœ¬: 4.8.4 (å¯ä»¥åœ¨flutterçš„æ’ä»¶åœ°å€Changelogä¸­æŸ¥çœ‹) aarçš„åŒ…ä½äºandroid/app/libs/***.aar 12345678910111213141516171819202122232425262728293031323334buildscript { ... dependencies { classpath 'com.android.tools.build:gradle:7.1.2' classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // åŠ ä¸Šå¦‚ä¸‹ä»£ç  classpath 'com.huawei.agconnect:agcp:1.5.2.300' } ....}dependencies { // æ¥å…¥åä¸ºå‚å•† implementation 'com.huawei.hms:push:5.3.0.301' implementation 'cn.jiguang.sdk.plugin:huawei:4.8.4'// æå…‰å‚å•†æ’ä»¶ç‰ˆæœ¬ä¸æ¥å…¥ JPush ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œä¸‹åŒ // æ¥å…¥å°ç±³å‚å•† implementation 'cn.jiguang.sdk.plugin:xiaomi:4.8.4' // æ¥å…¥é­…æ—å‚å•† implementation 'cn.jiguang.sdk.plugin:meizu:4.8.4' // æ¥å…¥ VIVO å‚å•† implementation 'cn.jiguang.sdk.plugin:vivo:4.8.4' // æ¥å…¥ OPPO å‚å•† implementation 'cn.jiguang.sdk.plugin:oppo:4.8.4' implementation(name: 'com.heytap.msp-push-3.1.0', ext: 'aar') //ä»¥ä¸‹ä¸º OPPO 3.1.0 aaréœ€è¦ä¾èµ– implementation 'com.google.code.gson:gson:2.6.2' implementation 'commons-codec:commons-codec:1.6' implementation 'androidx.annotation:annotation:1.1.0' //è£è€€ implementation 'cn.jiguang.sdk.plugin:honor:4.8.4' implementation(name: 'HonorPushSDK-7.0.1.103', ext: 'aar')}","link":"/2022/10/05/20221005flutter%E9%9B%86%E6%88%90%E5%8D%8E%E4%B8%BA%E6%8E%A8%E9%80%81/"},{"title":"å‰ç«¯æ¢è‚¤è§£å†³æ–¹æ¡ˆåŠå…¶æ€è·¯","text":"CSSå˜é‡å®ç°æ²¡ä»€ä¹ˆå¥½è¯´çš„ç®€å• ä½¿ç”¨stylusæ³¨æ„ â€“fill-1:#222;ï¼ˆæ­£å¸¸ï¼‰ â€“fill-1: #222;ï¼ˆå¯èƒ½æŠ¥é”™ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;script setup&gt; const change=(theme)=&gt;{ var html=document.querySelector(&quot;body&quot;) html.setAttribute(&quot;data-theme&quot;,theme) }&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;button @click=&quot;change('light')&quot;&gt;ä¸»é¢˜é¢œè‰²äº®è‰²&lt;/button&gt; &lt;button @click=&quot;change('dark')&quot;&gt;ä¸»é¢˜é¢œè‰²æš—è‰²&lt;/button&gt; &lt;div class=&quot;bg&quot;&gt;æµ‹è¯•æ–‡å­—å•Šé˜¿è¾¾ç“¦å¤§å¤§&lt;i&gt;å®¶ä¸­çš„&lt;/i&gt;ç‹é˜¿è¾¾ç“¦&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;style lang=&quot;stylus&quot;&gt; //é»˜è®¤ :root { --fill-1:#ffffff; --text:#3c3c3c; --text-1:#757575; --text-2:#222; --font-size-large:18px; --font-size-large-x:22px; --font-size-medium:14px; --font-size-medium-x:16px; --font-size-small-s:10px; --font-size-small:12px; } [data-theme=&quot;dark&quot;] { --fill-1:#222; --text:#fff; --text-1:rgba(255, 255, 255, 0.3); --text-2:#ffcd32; } .bg transition-duration: 0.5s height: 100px background var(--fill-1); color: var(--text-2);&lt;/style&gt; jsåŠ¨æ€ä½¿ç”¨è¦†ç›–æ ·å¼å®ç°ä¸scsså˜é‡å®ç°ä¼šæŠŠå¤šå¥—çš®è‚¤çš„æ ·å¼éƒ½ç¼–è¯‘åˆ°ä¸€ä¸ªcssæ–‡ä»¶é‡Œé¢ï¼Œå¦‚æœæœ‰å¤šå¥—çš®è‚¤æ ·å¼ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¼šéå¸¸å¤§çš„ã€‚ ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå°±è‡ªç„¶çš„æƒ³å‡ºäº†æ‹†åˆ†scssçš„å®ç°ï¼Œï¼Œé€šè¿‡ç¼–è¯‘å·¥å…·ä¸æ„å»ºå·¥å…·ç¼–è¯‘å‡ºå¤šå¥—çš®è‚¤cssã€‚æˆ–è€…ä½¿ç”¨ç½‘ç»œåœ°å€ã€‚ é€šè¿‡jsåŠ¨æ€çš„linkå¯¹åº”çš„çš®è‚¤æ ·å¼ 1234567891011121314var theme = /\\bt=(\\w+)/.exec(location.search);theme = theme ? theme[1] : &quot;light&quot;;changeTheme(theme);function changeTheme(theme) { var head = document.getElementsByTagName(&quot;head&quot;)[0]; var link = document.createElement(&quot;link&quot;); link.dataset.type = &quot;theme&quot;; link.href = &quot;assets/css/theme-&quot; + theme + &quot;/pages/home/home.css&quot;; link.rel = &quot;stylesheet&quot;; link.type = &quot;text/css&quot;; head.appendChild(link);} ElementUIæ¢è‚¤ElementUIçš„å®ç°åŸç†ï¼Œé€šè¿‡é¢„è®¾çš„é…ç½®ï¼Œé¢œè‰²è®¡ç®—å‡ºé¢œè‰²å’Œç”Ÿæˆæ­£åˆ™ï¼Œè·å–æ‰€æœ‰çš„styleæ ‡ç­¾ï¼Œæ‹¿åˆ°æ ‡ç­¾ä¸­çš„å­—ç¬¦ä¸²ï¼Œåœ¨å»ç”¨æ­£åˆ™æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„é¢œè‰²ï¼Œåœ¨è®¾ç½®å›å»ã€‚ ä¸ºäº†è€ƒè™‘é‡å¤è®¾ç½®å¯ä»¥ç»™styleæ ‡ç­¾æ·»åŠ ä¸ªæ ‡è®° è¿™ä¸ªå®ç°æ–¹å¼æ­£å¦‚ä»–å®˜æ–¹æ‰€è¯´ç›¸å½“æš´åŠ›è«å¾—æ„Ÿæƒ…ï¼ï¼ï¼åŒæ—¶è‡ªå·±å†™çš„é¢œè‰²ä¹Ÿä¼šè¢«æ›¿æ¢æ‰ é¢œè‰²è®¡ç®— å‰ç«¯æ­£åˆ™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110&lt;script setup&gt;import Color from &quot;css-color-function&quot;;var current=&quot;default&quot;const formulaes = [ { name: &quot;0&quot;, exp: &quot;color(primary)&quot;, }, { name: &quot;aaa&quot;, exp: &quot;color(textColor)&quot;, }, { name: &quot;bbb&quot;, exp: &quot;color(btn)&quot;, },];///å¤šä¸ªä¸»é¢˜var themes={ default:{ &quot;primary&quot;:&quot;#DC143C&quot;, &quot;textColor&quot;:&quot;#BBFFAA&quot;, &quot;btn&quot;:&quot;#2F4F4F&quot; }, t1:{ &quot;primary&quot;:&quot;#FFD700&quot;, &quot;textColor&quot;:&quot;#000000&quot;, &quot;btn&quot;:&quot;#000080&quot; }, t2:{ &quot;primary&quot;:&quot;#2F4F4F&quot;, &quot;textColor&quot;:&quot;#FFFFFF&quot;, &quot;btn&quot;:&quot;#adff2f&quot; }}const computedColors = (colors) =&gt; { return formulaes.map((f) =&gt; { const value = f.exp .replace(/primary/g, colors.primary) .replace (/textColor/g,colors.textColor) .replace (/btn/g,colors.btn) return Color.convert(value); });};const PageInit=()=&gt;{ Object.keys(themes).forEach(k=&gt;{ var initColorCluster=[...Object.values(themes[k]),...computedColors(themes[k])] var initStyleReg=initColorCluster.join(&quot;|&quot;) .replace(/\\(/g, &quot;\\\\(&quot;) // æ‹¬å·çš„è½¬ä¹‰ .replace(/\\)/g, &quot;\\\\)&quot;) .replace(/0\\./g, &quot;.&quot;); // è¿™é‡Œæ›¿æ¢æ˜¯å› ä¸ºé»˜è®¤çš„cssä¸­è®¡ç®—å‡ºæ¥çš„å€¼é€æ˜åº¦ä¼šç¼ºçœ0ï¼Œ themes[k]._initColorCluster=initColorCluster themes[k]._initStyleReg=initStyleReg })}PageInit()const changeTheme = (t) =&gt; { var cT=themes[current], tT=themes[t]; const styles = Array.from(document.querySelectorAll(&quot;style&quot;)).filter((style) =&gt; { // æ‰¾åˆ°éœ€è¦è¿›è¡Œæ›¿æ¢çš„styleæ ‡ç­¾ const text = style.innerText; const re = new RegExp(`${cT._initStyleReg}`, &quot;i&quot;); return re.test(text); }); ///ç”Ÿæˆæ­£åˆ™ const re = new RegExp(`${cT._initStyleReg}`, &quot;ig&quot;); // è€çš„é¢œè‰²ç°‡æ­£åˆ™ï¼Œå…¨å±€æ›¿æ¢ï¼Œä¸”ä¸åŒºåˆ†å¤§å°å†™ styles.forEach((style) =&gt; { const { innerText } = style; style.innerHTML = innerText.replace(re, (match) =&gt; { ///é€šè¿‡å°å†™æ£€æŸ¥ rgba(0,0,0,.5) æ›¿æ¢æˆ0.5 å…¼å®¹å¥½ let index = cT._initColorCluster.indexOf(match.toLowerCase().replace(&quot;.&quot;, &quot;0.&quot;)); ///é€šè¿‡å¤§å†™å†™æ£€æŸ¥ if (index === -1)index = cT._initColorCluster.indexOf(match.toUpperCase().replace(&quot;.&quot;, &quot;0.&quot;)); // è¿›è¡Œæ›¿æ¢ return tT._initColorCluster[index].toLowerCase().replace(/0\\./g, &quot;.&quot;); }); // console.log(style.innerHTML) // style.setAttribute(&quot;class&quot;, &quot;so-ui-react-theme&quot;); }); current=t; console.log(&quot;å½“å‰ä¸»é¢˜ï¼š%s&quot;,current)};const change=()=&gt;{ if(current===&quot;default&quot;){ changeTheme(&quot;t1&quot;) }else if(current===&quot;t1&quot;){ changeTheme(&quot;t2&quot;) }else{ changeTheme(&quot;default&quot;) }}// componentDidMount();&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;a b&quot;&gt;testaaaaaai&lt;/div&gt; &lt;button class=&quot;b c&quot; @click=&quot;change&quot;&gt;æ›´æ¢é¢œè‰²&lt;/button&gt;&lt;/template&gt;&lt;style scoped&gt;.a{ background: #DC143C;}.b{ color: #BBFFAA;}.c{ background:#2F4F4F;}&lt;/style&gt; lesså®ç°æ¢è‚¤æ„Ÿè§‰lesså®ç°çš„å¾ˆä¼˜é›… è®¾ç½®é»˜è®¤æ ·å¼ï¼ŒåŸæ¥å®ƒä¼šæ‰¾åˆ°æ‰€æœ‰å¦‚ä¸‹çš„lessæ ·å¼æ ‡ç­¾ï¼Œå¹¶ä¸”ä½¿ç”¨å·²ç¼–è¯‘çš„cssåŒæ­¥åˆ›å»º style æ ‡ç­¾ã€‚ ç›¸å½“äºåœ¨åŸæ¥çš„åŸºç¡€ä¸Šç”Ÿæˆä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„styleæ ·å¼è¡¨æ·»åŠ åˆ°é¡µé¢ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–éœ€è¦ä¸€ä¸ªæ¨¡æ¿ã€‚å¦‚æœæ”¾åœ¨srcé‡Œé¢ä»–ä¼šè¢«ç¼–è¯‘æˆcssï¼Œæ— æ³•æˆä¸ºæ¨¡æ¿ã€‚ æˆ‘ä»¬è¿™é‡ŒæŠŠè¿™ä¸ªæ¨¡æ¿æ”¾åˆ°é¡¹ç›®ä¸»ç›®å½•çš„publicä¸­å»ã€‚ã€‚ 1234567891011121314151617/public/test.less@primary-color: red;@bg-color: blue;.test-block { width: 300px; height: 300px; text-align: center; line-height: 300px; margin: 20px auto; color: @primary-color; background: @bg-color; .block2 { color: aquamarine; }} ä¿®æ”¹é¡¹ç›®æ¨¡æ¿æ–‡ä»¶index.htmlï¼Œæ·»åŠ lessjsï¼Œä¹Ÿå¯ä»¥ææˆæœ¬åœ°çš„çš„ï¼Œæˆ‘è¿™é‡Œä¸ºäº†æ–¹ä¾¿ç›´æ¥æ·»åŠ cdnçš„ 12345678910111213141516&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/vite.svg&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Vite + Vue&lt;/title&gt; &lt;link rel=&quot;stylesheet/less&quot; type=&quot;text/css&quot; href=&quot;/test.less&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script&gt;window.less = {async:true,}&lt;/script&gt; &lt;script src=&quot;https://cdn.bootcss.com/less.js/2.7.3/less.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;module&quot; src=&quot;/src/main.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; é¡µé¢ç®€å•ä½¿ç”¨ 12345678910111213141516171819202122232425262728&lt;script setup&gt;var themes={ t1:{ &quot;@primary-color&quot;: &quot;#8b0000&quot;, &quot;@bg-color&quot;: &quot;#2f4f4f&quot;, }, t2:{ &quot;@primary-color&quot;: &quot;#ffa500&quot;, &quot;@bg-color&quot;: &quot;#c0c0c0&quot;, }, t3:{ &quot;@primary-color&quot;:&quot;#000080&quot;, &quot;@bg-color&quot;: &quot;#000000&quot;, }}const onchange=(t)=&gt;{ console.log(themes[t]) window.less.modifyVars(themes[t]).then(() =&gt; { console.log(&quot;ä¿®æ”¹æˆåŠŸ&quot;); });}&lt;/script&gt;&lt;template&gt; &lt;button @click=&quot;onchange('t1')&quot;&gt;æ”¹å˜å“¦&lt;/button&gt; &lt;button @click=&quot;onchange('t2')&quot;&gt;æ”¹å˜å“¦&lt;/button&gt; &lt;button @click=&quot;onchange('t3')&quot;&gt;æ”¹å˜å“¦&lt;/button&gt; &lt;div class=&quot;test-block&quot;&gt;testaaaaaai&lt;/div&gt;&lt;/template&gt; å…¶ä»–æ€è·¯vuexï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ç­‰ç­‰å®ç°èµ·æ¥åº”è¯¥ä¹Ÿå¾ˆä¸é”™ã€‚ç†è®ºä¸Šä»–ä»¬ä¹Ÿèƒ½è·å¾—è¾ƒé«˜çš„è‡ªå®šä¹‰ç¨‹åº¦ï¼Œé¢œè‰²ï¼ŒèƒŒæ™¯å›¾ç­‰ç­‰ç­‰ã€‚","link":"/2022/10/25/20221025%E5%89%8D%E7%AB%AF%E6%8D%A2%E8%82%A4%E6%80%9D%E8%B7%AF/"},{"title":"dartç±»ä¸­çš„æ„é€ å‡½æ•°","text":"ä¼ ç»Ÿçš„æ„é€ å‡½æ•°12345678910class Student { int age = 0; int id = 0; String? name=&quot;&quot;; Student(int age, int id) { this.age = age; this.id = id; }} å‘½åæ„é€ å‡½æ•°12345678910111213141516class Student { int? age = 0; int? id = 0; String? name=&quot;&quot;; Student(this.age, this.id,); Student.fromJson(Map data) { print('å‘½åæ„é€ å‡½æ•°'); this.name=data[&quot;name&quot;]; }}var b=Student.fromJson({&quot;firstName&quot;:&quot;AAAAA&quot;});print(b.firstName);///AAAAA Student.fromJson ä¸å›ºå®šä¹Ÿå¯ä»¥å«Student.fromJson1ï¼ŒStudent.fromJson2 ç»§æ‰¿æ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåº1234567891011121314151617181920212223242526class Student { String? firstName; Student(){ print('in Student con'); } Student.fromJson(Map data) { print('in Student'); this.firstName=data[&quot;firstName&quot;]; }}class Jone extends Student { Jone(){ print('in Jone con'); } Jone.fromJson(Map data) : super.fromJson(data) { print('in Jone'); }}var b=Student.fromJson({&quot;firstName&quot;:&quot;AAAAA&quot;});print(b.firstName);///in Student///AAAAA è°ƒç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼ˆåˆå§‹åŒ–åˆ—è¡¨å°±æ˜¯åœ¨æ„é€ å‡½æ•°æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„ä»£ç ï¼Œå’Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸€æ ·ï¼Œä¹Ÿä½¿ç”¨ï¼šæ“ä½œç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šï¼‰ ä¸‹é¢ï¼šåé¢çš„èµ‹å€¼å°±æ˜¯å‡ºåˆå§‹åŒ–åˆ—è¡¨ 12345Point.fromJson(Map&lt;String, double&gt; json) : x = json['x']!, y = json['y']! { print('In Point.fromJson(): ($x, $y)');} è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° è°ƒç”¨è‡ªå·±çš„æ„é€ å‡½æ•° é‡å®šå‘æ„é€ å‡½æ•°12345678910111213141516class Point { double x, y; // ä¸»æ„é€ å‡½æ•° Point(this.x, this.y); // æ„é€ å‡½æ•° Point.formJson(double x){} // é‡å®šå‘åˆ°ä¸»æ„é€ å‡½æ•° Point.alongXAxis(double x) : this(x, 0); // é‡å®šå‘åˆ°formJsonæ„é€ å‡½æ•° Point.alongXAxis2(double x) : this.formJson(x);} å·¥å‚æ„é€ å‡½æ•°é»˜è®¤æƒ…å†µä¸‹ï¼Œdartç±»ä¸­çš„æ„é€ å‡½æ•°è¿”å›çš„æ˜¯è¯¥ç±»çš„æ–°å®ä¾‹ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨å®é™…çš„åº”ç”¨ä¸­å¯èƒ½ä¼šå¯¹è¿”å›çš„å¯¹è±¡åšäº›é€‰æ‹©ï¼Œæ¯”å¦‚ä»ç¼“å­˜ä¸­è¿”å›å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œæˆ–è€…è¿”å›è¯¥ç±»å…·ä½“çš„å®ç°å­ç±»ã€‚ä¸ºäº†å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œdartä¸­ä¸“é—¨æœ‰ä¸€ä¸ªFactoryå…³é”®å­—ï¼Œä½¿ç”¨Factoryçš„æ„é€ å‡½æ•°å«åšå·¥å‚æ„é€ å‡½æ•°ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œfactoryæ„é€ å‡½æ•°å’Œæ™®é€šæ„é€ å‡½æ•°åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?æœ€å¤§çš„åŒºåˆ«å°±æ˜¯æ™®é€šæ„é€ å‡½æ•°æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œè€Œfactoryæ„é€ å‡½æ•°éœ€è¦ä¸€ä¸ªè¿”å›å€¼ã€‚ Map.putIfAbsentæ–¹æ³•å›é¡¾ï¼Œä¸‹é¢å¤‡ç”¨ 123456789101112131415Map user = { 'name': 'Tom', 'age': 20 };var b=user.putIfAbsent('job', () =&gt; 'engineer');print(user);print(b);b=user.putIfAbsent('job', () =&gt; 'engineer22222222222');print(user);print(b); // {name: Tom, age: 20, job: engineer}// engineer// {name: Tom, age: 20, job: engineer}// engineer ä¾‹å­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152void main(List&lt;String&gt; args) { Student stu0 = Student(&quot;dart0&quot;,99); Student stu1 = Student(&quot;dart&quot;,1); Student stu2 = Student(&quot;dart&quot;,2); Student stu3 = Student.fromJson({&quot;name&quot;: &quot;dart&quot;,&quot;age&quot;:3}); Student stu4 = Student.fromJson2({&quot;name&quot;: &quot;dart&quot;,&quot;age&quot;:4}); print(&quot;============================&quot;); // ä½¿ç”¨ Student() å·¥å‚æ„é€ å‡½æ•° å’Œ Student.fromJson({}) å·¥å‚æ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ print(identical(stu0, stu1)); // false print(identical(stu1, stu2)); // true print(identical(stu2, stu3)); // true print(identical(stu3, stu4)); // false print(&quot;============================&quot;); print(stu1.age); // 1 print(stu2.age); // 1 print(stu3.age); // 1 print(stu4.age); // 10 print(&quot;============================&quot;); print(stu0.hashCode);///595483760 print(stu1.hashCode); ///959865253 print(stu2.hashCode); ///959865253 print(stu3.hashCode); ///959865253 print(stu4.hashCode);///730863203}class Student { String? name; int age=0; static final _cache = &lt;String, Student&gt;{}; static final test = &lt;int&gt;[]; // å·¥å‚æ„é€ å‡½æ•° factory Student(String name,int age) { test.add(age); print(test); Student s =_cache.putIfAbsent(name, () =&gt; Student.useForFactory(name,age)); return s; } // å·¥å‚æ„é€ å‡½æ•° factory Student.fromJson(Map json) { return Student(json['name'],json['age']); } // å‘½åæ„é€ å‡½æ•° Student.fromJson2(Map json):name=json[&quot;json&quot;],age=10; Student.useForFactory(this.name,this.age);} å¦‚ä¸Šçš„ä¾‹å­ä¼ªè§£é‡Šä¸€ä¸‹ 1234567å…ˆå£°æ˜ä¸€ä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªStudentç±»ï¼Œstatic final _cache æˆ‘ä»¬éœ€è¦æŠŠä»–è§£è¯»æˆä¸€ä¸ªå…¨å±€å•ç‹¬çš„å˜é‡(æˆ–è€…è¯´åº”ç”¨çš„ä¸€å—å•ç‹¬å†…å­˜)ï¼Œä¸Šé¢ç‰¹åœ°åŠ äº†static final test = &lt;int&gt;[] æ›´åŠ æ¸…æ™°æ˜äº†ã€‚Student(&quot;dart&quot;,1) å‘å…¨å±€å•ç‹¬çš„å˜é‡_cacheå­˜å…¥äº†ä¸€ä¸ªé”®å€¼å¯¹ { &quot;dart&quot; ï¼šStudent.useForFactory(&quot;dart&quot;,1)}Student(&quot;dart&quot;,2) åˆ™ ä¸ä¼šï¼ï¼ï¼ç»§ç»­å‘å…¨å±€å•ç‹¬çš„å˜é‡_cacheå­˜å…¥äº†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå› ä¸º_cacheä¸­çš„é”® &quot;dart&quot; å·²ç»å­˜åœ¨äº†ï¼Œæ‰€ä»¥ä»–ä¼šç›´æ¥è¿”å›Student.useForFactory(&quot;dart&quot;,1)ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Map.putIfAbsentå®ç°ã€‚ åä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839void main(List&lt;String&gt; args) { Student stu1 = Student(&quot;dart&quot;,1); Student stu2 = Student(&quot;dart&quot;,2); Student stu3 = Student.fromJson({&quot;name&quot;: &quot;dart&quot;,&quot;age&quot;:3}); Student stu4 = Student.fromJson2({&quot;name&quot;: &quot;dart&quot;,&quot;age&quot;:4}); print(&quot;============================&quot;); // ä½¿ç”¨ Student() å·¥å‚æ„é€ å‡½æ•° å’Œ Student.fromJson({}) å·¥å‚æ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ print(identical(stu1, stu2)); // false print(identical(stu2, stu3)); // false print(identical(stu3, stu4)); // false print(&quot;============================&quot;); print(stu1.age); // 1 print(stu2.age); // 2 print(stu3.age); // 3 print(stu4.age); // 10}class Student { String? name; int age=0; static final _cache = &lt;String, Student&gt;{}; // å·¥å‚æ„é€ å‡½æ•° factory Student(String name,int age) { return Student.useForFactory(name,age); } // å·¥å‚æ„é€ å‡½æ•° factory Student.fromJson(Map json) { return Student(json['name'],json['age']); } // å‘½åæ„é€ å‡½æ•° Student.fromJson2(Map json):name=json[&quot;json&quot;],age=10; Student.useForFactory(this.name,this.age);} å·¥å‚æ„é€ å‡½æ•°å®ç°å•ä¾‹ 123456789101112class Singleton { static final Singleton _singleton = Singleton.internal(); factory Singleton() =&gt; _singleton; Singleton.internal();}Singleton s1=Singleton();Singleton s2=Singleton();print(identical(s1, s2));///true æ³¨æ„ï¼Œdartä¸­åªèƒ½æœ‰ä¸€ä¸ªæœªå‘½åçš„æ„é€ å‡½æ•°ï¼Œå¯¹åº”å‘½åå‡½æ•°æ¥è¯´ï¼Œåå­—ä¸èƒ½å¤Ÿé‡å¤ï¼Œå¦åˆ™ä¼šæŠ¥The default constructor is already definedå¼‚å¸¸ã€‚æ‰€ä»¥å¦‚æœä½ å†ç»™StudentåŠ ä¸€ä¸ªæœªå‘½åæ„é€ å‡½æ•°ï¼šStudent(this.name)å› ä¸ºå·²ç»æœ‰äº† factory Student(String name)","link":"/2021/12/09/20211219flutter%E7%B1%BB%E4%B8%AD%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"},{"title":"å›¾ç‰‡é€‰æ‹©å’Œå›¾ç‰‡ç¼–è¾‘æ’ä»¶é­”æ”¹ä»¥åŠiOSæ‰“åŒ…é—®é¢˜çš„è§£å†³","text":"æœ€è¿‘åœ¨é¡¹ç›®é‡è§ä¸€ä¸ªéœ€æ±‚ï¼Œæ˜¯é€‰æ‹©å›¾ç‰‡ã€‚äºæ˜¯æˆ‘åœ¨pubä¸Šé¢æ‰¾äº†è¿™æ¬¾ä»¿å¾®ä¿¡å›¾ç‰‡è§†é¢‘é€‰æ‹©æ’ä»¶æ„Ÿè§‰è¿˜æŒºå¥½çš„~ ç»è¿‡ä¸Šçº¿ä¹‹åè€æ¿è§‰å¾—ä¸æ–¹ä¾¿ï¼Œå¾®ä¿¡æ¯”èµ·æ¥ä¸èƒ½ç¼–è¾‘å›¾ç‰‡ï¼Œäºæ˜¯æˆ‘æœ‰æ‰¾äº†å¦ä¸€æ¬¾ç¼–è¾‘å›¾ç‰‡çš„æ’ä»¶ ç°åœ¨å¥½äº†ï¼Œç¼–è¾‘å›¾ç‰‡å’Œé€‰æ‹©å›¾ç‰‡çš„åŠŸèƒ½éƒ½æœ‰äº†ï¼Œä½†æ˜¯ä»–å¹¶ä¸èƒ½åƒå¾®ä¿¡é€‰æ‹©å›¾ç‰‡çš„é‚£æ ·åœ¨é¢„è§ˆçš„æ—¶å€™ç¼–è¾‘å›¾ç‰‡ã€‚æ²¡åŠæ³•ï¼Œåªèƒ½ç¡¬ç€å¤´çš®åœ¨ç°åœ¨æ’ä»¶ä¸Šæ”¹äº†ã€‚ é›†æˆæ’ä»¶è¦æ”¹ä»£ç æˆ‘ä»¬éœ€è¦æŠŠæ’ä»¶é™æ€é›†æˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚ é¦–å…ˆåœ¨æˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°æ‰¾åˆ°æ’ä»¶éœ€è¦åœ¨flutterçš„SDKç›®å½•ä¸‹\\.pub-cache\\hosted\\pub.dartlang.orgæ‰¾åˆ°æˆ‘ä»¬çš„æ’ä»¶wechat_assets_picker-7.3.4ï¼ˆä»€ä¹ˆç‰ˆæœ¬çœ‹ä½ è‡ªå·±ï¼‰ ä¿®æ”¹ä¹‹å‰ ä¿®æ”¹ä¹‹å ä½¿ç”¨æ’ä»¶åœ¨plugins/wechat_assets_picker****/pubspec.yamlä¸­æ·»åŠ æ’ä»¶ 12345extended_image: ^6.2.0photo_manager: ^2.1.4provider: ^6.0.2video_player: ^2.4.0image_editor_dove: ^0.0.2 ä¿®æ”¹ä»£ç ç¬¬ä¸€ä¸ªä½ç½®ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œåœ¨lib/src/delegates/asset_picker_viewer_builder_delegate.dartæ–‡ä»¶ä¸­å¯¹**Widget selectButton(BuildContext context)**æ¬¡å‡½æ•°åšå¦‚ä¸‹ä¿®æ”¹ è¿›å…¥ç¼–è¾‘é¡µé¢ é¢„è§ˆå¤§å›¾é¡µé¢-&gt;å›¾ç‰‡ç¼–è¾‘é¡µé¢ ç¼–è¾‘é¡µé¢è¿”å›ï¼ˆè¿™é‡Œæ˜¯æˆ‘çš„ä¸šåŠ¡éœ€æ±‚ï¼‰ å¦‚æœç¼–è¾‘çš„å›¾ç‰‡ä¿å­˜æˆåŠŸï¼šå›¾ç‰‡ç¼–è¾‘é¡µé¢-&gt;é¢„è§ˆå¤§å›¾é¡µé¢-&gt;é¢„è§ˆå°å›¾é¡µé¢-&gt;ä¸šåŠ¡é¡µé¢ å¦‚æœç¼–è¾‘çš„å›¾ç‰‡æœªä¿å­˜ï¼šå›¾ç‰‡ç¼–è¾‘é¡µé¢-&gt;é¢„è§ˆå¤§å›¾é¡µé¢ æ³¨æ„è¿™é‡Œéœ€è¦ç»Ÿä¸€ä¸€ä¸‹è·¯ç”±è¿”å›å‚æ•° List&lt;AssetEntity&gt;? 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657Semantics( selected: isSelected, label: semanticsTextDelegate.select, onTap: () =&gt; onChangingSelected(context, asset, isSelected), onTapHint: semanticsTextDelegate.select, excludeSemantics: true, child: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: &lt;Widget&gt;[ /// ä¸‹é¢æ˜¯å°±æ˜¯æ·»åŠ æ ¸å¿ƒä»£ç çš„åœ°æ–¹ if(previewAssets[currentIndex].type==AssetType.image)InkWell( child: Text(&quot;ç¼–è¾‘&quot;), onTap: ()async{ File? f=await previewAssets[currentIndex].file; Directory? savePath=f?.parent; /// é¢„è§ˆå¤§å›¾é¡µé¢-&gt;å›¾ç‰‡ç¼–è¾‘é¡µé¢ var data = await Navigator.push(context, MaterialPageRoute(builder: (context) { return ImageEditor( originImage:f!, savePath: savePath, ); })); /// å¦‚æœç¼–è¾‘çš„å›¾ç‰‡ä¿å­˜æˆåŠŸï¼šå›¾ç‰‡ç¼–è¾‘é¡µé¢-&gt;é¢„è§ˆå¤§å›¾é¡µé¢-&gt;é¢„è§ˆå°å›¾é¡µé¢-&gt;ä¸šåŠ¡é¡µé¢ /// å¦‚æœç¼–è¾‘çš„å›¾ç‰‡ä¿å­˜æˆåŠŸï¼šå›¾ç‰‡ç¼–è¾‘é¡µé¢-&gt;é¢„è§ˆå¤§å›¾é¡µé¢ if (data is EditorImageResult) { List&lt;AssetEntity&gt;? result=[]; result.add(AssetEntity( width: data.imgWidth, typeInt: 0, height: data.imgHeight, id:&quot;editImg&quot;, relativePath:data.newFile.path )); Navigator.pop(context,result); } }, ), Row( mainAxisAlignment: MainAxisAlignment.end, children: &lt;Widget&gt;[ ///tabby if (isAppleOS) _appleOSSelectButton(c, isSelected, asset) else _androidSelectButton(c, isSelected, asset), if (!isAppleOS) ScaleText( textDelegate.select, style: const TextStyle(fontSize: 17, height: 1), semanticsLabel: semanticsTextDelegate.select, ), ], ), ], ),); æ‰“åŒ…ä¸å‘å¸ƒå®‰å“æ‰“åŒ…éå¸¸å®Œç¾ï¼Œä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚ä½†æ˜¯iOSä¸Šå´æœ‰é—®é¢˜ 12345bz@bdeMac-mini ios % pod installAnalyzing dependencies[!] The name of the given podspec `image_editor` doesn't match the expected one `image_editor_dove`[!] Automatically assigning platform `iOS` with version `13.0` on target `Runner` because no platform was specified. Please specify a platform for this target in your Podfile. See `https://guides.cocoapods.org/syntax/podfile.html#platform`. ä»–è¯´image_editorä¸‹é¢æ²¡æœ‰ä¸€ä¸ªåä¸ºimage_editor_doveï¼Œç±»å‹ä¸ºpodspecçš„æ–‡ä»¶ æˆ‘ä»¬è¿›å…¥åˆ°ios/.symlinks/plugins/image_editor_doveè·¯å¾„ä¸‹é¢ï¼Œå‘ç°ç¡®å®æ²¡æœ‰image_editor_dove.podspecï¼Œ ä½†æ˜¯æœ‰ä¸€ä¸ªimage_editor.podspecï¼Œè¯•ç€å°†å…¶é‡æ–°å‘½åä¸ºimage_editor_dove.podspecï¼ŒåŒæ—¶ä¿®æ”¹æ­¤æ–‡ä»¶ä¸­çš„s.name = â€˜image_editor_doveâ€™ pod install å¯ä»¥æ­£å¸¸æ‰§è¡Œäº† é¡¹ç›®è¿è¡Œçš„æ—¶å€™xcodeåˆå‡ºç°äº†ä¸€ä¸ªé”™è¯¯ image_editor-Swift.h å¤§æ¦‚æ„æ€è¿™ä¸ªæ–‡ä»¶å¼•å…¥ä¸è¿›æ¥ï¼Œä¸å­˜åœ¨ ios/Classes/ImageEditorPlugin.m ä¸­ä¿®æ”¹image_editorå…¨éƒ½ä¿®æ”¹ä¸ºimage_editor_dove 123456789101112131415#import &quot;ImageEditorPlugin.h&quot;#if __has_include(&lt;image_editor_dove/image_editor_dove-Swift.h&gt;)#import &lt;image_editor_dove/image_editor_dove-Swift.h&gt;#else// Support project import fallback if the generated compatibility header// is not copied when this plugin is created as a library.// https://forums.swift.org/t/swift-static-libraries-dont-copy-generated-objective-c-header/19816#import &quot;image_editor_dove-Swift.h&quot;#endif@implementation ImageEditorPlugin+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar { [SwiftImageEditorPlugin registerWithRegistrar:registrar];}@end æ‰“åŒ…æˆåŠŸï¼ çŒï¼","link":"/2022/12/05/20221205flutter%E6%8F%92%E4%BB%B6%E5%90%88%E5%B9%B6/"},{"title":"æ„å»ºå·¥å…·çš„å¤ä¹ è®°å½•","text":"å› ä¸ºå…¬å¸é¡¹ç›®è€æ—§ï¼Œæœ‰å¾ˆå¤šé›¶æ•£çš„htmlæ–‡ä»¶ï¼Œè€æ¿è®©æˆ‘åšä¸ªä¼˜åŒ–ç‰ˆï¼Œè®©ä»–ä»¬é›†ä¸­èµ·æ¥ï¼Œæ˜“äºç®¡ç†ã€‚äºæ˜¯è¶æ­¤æœºä¼šå¤ä¹ ä¸€ä¸‹gulpå¹¶è®°å½•ä¸€ä¸‹ gulp.js æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·,ç”¨äºè‡ªåŠ¨åŒ–Webå¼€å‘ä¸­æ¶‰åŠçš„è€—æ—¶å’Œé‡å¤æ€§ä»»åŠ¡,Gulp.js æ˜¯åŸºäº Node.js æ„å»ºçš„,åˆ©ç”¨ Node.js æµçš„å¨åŠ›,ä½ å¯ä»¥å¿«é€Ÿæ„å»ºé¡¹ç›®ã€‚ å…ˆæ”¾ä¸Šå®˜ç½‘ http://www.gulpjs.com.cn/docs/getting-started/quick-start/ ç„¶ååœ¨ç™¾åº¦ä¸€æ³¢æµçš„æ¦‚å¿µã€‚ æµï¼ˆStreamï¼‰ä¸æ˜¯ gulp åˆ›é€ çš„æ¦‚å¿µï¼Œè€Œæ˜¯ä» unix æ—¶ä»£å°±å¼€å§‹ä½¿ç”¨çš„ I/O æœºåˆ¶ï¼Œä¸€ç›´åˆ°ç°åœ¨ä»åœ¨å¹¿æ³›ä½¿ç”¨ã€‚Node å°è£…äº†ä¸€ä¸ª stream æ¨¡å—ä¸“é—¨ç”¨æ¥å¯¹æµè¿›è¡Œæ“ä½œã€‚gulp æ‰€åŸºäºçš„æµå³æ˜¯ Node å°è£…èµ·æ¥çš„ streamã€‚ä¸Šé¢ gulp.task() ä»£ç é‡Œé¢çš„ pipe æ–¹æ³•å¹¶ä¸æ˜¯ gulp æä¾›çš„ apiï¼Œè€Œæ˜¯ node çš„ apiï¼Œå‡†ç¡®çš„è¯´åº”è¯¥æ˜¯ node çš„ stream æ¨¡å—æä¾›çš„ apiã€‚å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼š gulp.src() çš„è¿”å›å€¼æ˜¯ node Stream çš„ä¸€ä¸ªå®ä¾‹ï¼Œä¹‹åçš„ pipe è°ƒç”¨çš„å…¶å®æ˜¯è¿™ä¸ªå®ä¾‹çš„ pipe æ–¹æ³•ï¼Œè€Œ pipe æ–¹æ³•çš„è¿”å›å€¼ä¾ç„¶æ˜¯ node Stream å®ä¾‹ï¼Œä»¥æ­¤å®ç°å‰é¢çš„ .pipe().pipe().pipe() è¿™ç§ä¸²è”å†™æ³•ã€‚ç†Ÿæ‚‰ jQuery çš„åŒå­¦åº”è¯¥å¾ˆæ¸…æ¥šè¿™ç§æŠ€å·§ã€‚ ä¸‹è¡¨æ˜¯ä»å„ä¸ªè§’åº¦å¯¹ gulp å’Œ webpack åšçš„å¯¹æ¯”(å½“ç„¶æ„å»ºåŒ–å·¥å…·æœ‰å¾ˆå¤šï¼Œè¿™é‡Œåªæ¯”è¾ƒäº†ä¸¤ä¸ª)ï¼š Syntax Description å®šä½ åŸºäºæµçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…· ä¸€ä¸ªä¸‡èƒ½æ¨¡å—æ‰“åŒ…å™¨ ç›®æ ‡ è‡ªåŠ¨åŒ–å’Œä¼˜åŒ–å¼€å‘å·¥ä½œæµï¼Œä¸ºé€šç”¨ website å¼€å‘è€Œç”Ÿ é€šç”¨æ¨¡å—æ‰“åŒ…åŠ è½½å™¨ï¼Œä¸ºç§»åŠ¨ç«¯å¤§å‹ SPA(å•é¡µåº”ç”¨) åº”ç”¨è€Œç”Ÿ å­¦ä¹ éš¾åº¦ æ˜“äºå­¦ä¹ ï¼Œæ˜“äºä½¿ç”¨ï¼Œapiæ€»å…±åªæœ‰5ä¸ªæ–¹æ³• æœ‰å¤§é‡æ–°çš„æ¦‚å¿µå’Œapiï¼Œä¸è¿‡å¥½åœ¨æœ‰è¯¦å°½çš„å®˜æ–¹æ–‡æ¡£ é€‚ç”¨åœºæ™¯ åŸºäºæµçš„ä½œä¸šæ–¹å¼é€‚åˆå¤šé¡µé¢åº”ç”¨å¼€å‘ ä¸€åˆ‡çš†æ¨¡å—çš„ç‰¹ç‚¹é€‚åˆå•é¡µé¢åº”ç”¨å¼€å‘ ä½œä¸šæ–¹å¼ å¯¹è¾“å…¥ï¼ˆgulp.srcï¼‰çš„ jsï¼Œtsï¼Œscssï¼Œless ç­‰æºæ–‡ä»¶ä¾æ¬¡æ‰§è¡Œæ‰“åŒ…ï¼ˆbundleï¼‰ã€ç¼–è¯‘ï¼ˆcompileï¼‰ã€å‹ç¼©ã€é‡å‘½åç­‰å¤„ç†åè¾“å‡ºï¼ˆgulp.destï¼‰åˆ°æŒ‡å®šç›®å½•ä¸­å»ï¼Œä¸ºäº†æ„å»ºè€Œæ‰“åŒ… å¯¹å…¥å£æ–‡ä»¶ï¼ˆentryï¼‰é€’å½’è§£æç”Ÿæˆä¾èµ–å…³ç³»å›¾ï¼Œç„¶åå°†æ‰€æœ‰ä¾èµ–æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œåœ¨æ‰“åŒ…ä¹‹å‰ä¼šå°†æ‰€æœ‰ä¾èµ–è½¬è¯‘æˆå¯æ‰“åŒ…çš„ js æ¨¡å—ï¼Œä¸ºäº†æ‰“åŒ…è€Œæ„å»º ä½¿ç”¨æ–¹å¼ å¸¸è§„ js å¼€å‘ï¼Œç¼–å†™ä¸€ç³»åˆ—æ„å»ºä»»åŠ¡ï¼ˆtaskï¼‰ ç¼–è¾‘å„ç§ JSON é…ç½®é¡¹ ä¼˜ç‚¹ é€‚åˆå¤šé¡µé¢å¼€å‘ï¼Œæ˜“äºå­¦ä¹ ï¼Œæ˜“äºä½¿ç”¨ï¼Œæ¥å£ä¼˜é›…ã€‚ å¯ä»¥æ‰“åŒ…ä¸€åˆ‡èµ„æºï¼Œé€‚é…å„ç§æ¨¡å—ç³»ç»Ÿ ç¼ºç‚¹ åœ¨å•é¡µé¢åº”ç”¨æ–¹é¢è¾“å‡ºä¹åŠ›ï¼Œè€Œä¸”å¯¹æµè¡Œçš„å•é¡µæŠ€æœ¯æœ‰äº›éš¾ä»¥å¤„ç†ï¼ˆæ¯”å¦‚ Vue å•æ–‡ä»¶ç»„ä»¶ï¼Œä½¿ç”¨ gulp å¤„ç†å°±ä¼šå¾ˆå›°éš¾ï¼Œè€Œ webpack ä¸€ä¸ª loader å°±èƒ½è½»æ¾æå®šï¼‰ ä¸é€‚åˆå¤šé¡µåº”ç”¨å¼€å‘ï¼Œçµæ´»åº¦é«˜ä½†åŒæ—¶é…ç½®å¾ˆç¹çå¤æ‚ã€‚â€œæ‰“åŒ…ä¸€åˆ‡â€ è¿™ä¸ªä¼˜ç‚¹å¯¹äº HTTP/1.1 å°¤å…¶é‡è¦ï¼Œå› ä¸ºæ‰€æœ‰èµ„æºæ‰“åŒ…åœ¨ä¸€èµ·èƒ½æ˜æ˜¾å‡å°‘æµè§ˆå™¨è®¿é—®é¡µé¢æ—¶çš„èµ„æºè¯·æ±‚æ•°é‡ï¼Œä»è€Œå‡å°‘åº”ç”¨ç¨‹åºå¿…é¡»ç­‰å¾…çš„æ—¶é—´ã€‚ä½†è¿™ä¸ªä¼˜ç‚¹å¯èƒ½ä¼šéšç€ HTTP/2 çš„æµè¡Œè€Œå˜å¾—ä¸é‚£ä¹ˆçªå‡ºï¼Œå› ä¸º HTTP/2 çš„å¤šè·¯å¤ç”¨å¯ä»¥æœ‰æ•ˆè§£å†³å®¢æˆ·ç«¯å¹¶è¡Œè¯·æ±‚æ—¶çš„ç“¶é¢ˆé—®é¢˜ã€‚ ç»“è®º æµè§ˆå™¨å¤šé¡µåº”ç”¨(MPA)é¦–é€‰æ–¹æ¡ˆ æµè§ˆå™¨å•é¡µåº”ç”¨(SPA)é¦–é€‰æ–¹æ¡ˆ æˆ‘çœ‹å¥½å¤šäººè¯´ gulp å’Œ webpack ä¸æ˜¯ä¸€ç±»ä¸œè¥¿ï¼Œæˆ‘ä¸è¿™ä¹ˆè§‰å¾—ï¼Œè™½ç„¶è¯´ä¸¤è€…çš„å‡ºå‘ç‚¹ç¡®å®æ˜¯ä¸ä¸€æ ·çš„ï¼Œgulp èµ°çš„æ˜¯æµå¼å¤„ç†è·¯çº¿ï¼Œwebpack èµ°çš„æ˜¯æ¨¡å—å¤„ç†è·¯çº¿ï¼Œä½†æ˜¯ä¸¤è€…æ‰€è¦è¾¾æˆçš„ç›®æ ‡å´æ˜¯ä¸€æ ·çš„ï¼Œé‚£å°±æ˜¯ä¿ƒè¿›å‰ç«¯é¢†åŸŸçš„è‡ªåŠ¨åŒ–å’Œå·¥ç¨‹åŒ–ç®¡ç†ã€‚webpack å‘å±•åˆ°ç°åœ¨ï¼Œå·²ç»éå¸¸å¼ºå¤§äº†ï¼Œå¼ºå¤§åˆ°åœ¨æ„å»ºæ–¹é¢ gulp èƒ½åšçš„äº‹ webpack åŸºæœ¬ä¸Šéƒ½å¯ä»¥èƒœä»»ï¼Œgulp åšä¸äº†çš„ webpack ä¹Ÿèƒ½æã€‚åŒæ ·çš„é‚£äº›å¼€å‘å·¥ä½œä¸­ç—›è‹¦åˆè€—æ—¶çš„ä»»åŠ¡ï¼Œgulp å’Œ webpack éƒ½èƒ½è§£å†³ï¼Œåªæ˜¯è§£å†³æ€è·¯æœ‰å¤©å£¤ä¹‹åˆ«ã€‚gulp å’Œ webpack åªæ˜¯æˆ‘ä»¬è§£å†³é—®é¢˜çš„å·¥å…·ï¼Œä¸è¦è¢«å·¥å…·æŸç¼šäº†æ‰‹è„šä¸èƒ½å‰è¿›ã€‚ | å…¨å±€å®‰è£… 12cnpm i -g gulp//å…¨å±€å®‰è£…æ˜¯ä¸ºäº†æ‰§è¡Œä½ æ‰€ç¼–å†™çš„ gulp ä»»åŠ¡ï¼Œå¦‚gulp yourTask åˆå§‹åŒ–é¡¹ç›® 123456789//åˆå§‹åŒ–npm init//å®‰è£…gulpï¼Œæœ¬åœ°å®‰è£…ï¼Œæ˜¯ä¸ºäº†å’±ä»¬ç¼–å†™ä»»åŠ¡æ—¶ä½¿ç”¨ gulp æä¾›çš„ apiï¼Œä¾‹å¦‚ gulp.src()cnpm i --save-dev gulp //æˆ–è€… -D//ä¸»ç›®å½•ä¸‹åˆ›å»º gulpfile.js æ ¸å¿ƒæ–‡ä»¶å­¦ä¹ å†ç¨‹å¦‚ä¸‹(æ›´åŠ è¯¦ç»†çš„ä½¿ç”¨æŸ¥çœ‹å®˜ç½‘) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242//cnpm i -D gulp-cssmin //æ›¿æ¢cssç©ºæ ¼çš„æ’ä»¶//cnpm i -D gulp-autoprefixer //ç»™æ ·å¼æ·»åŠ å‰ç¼€ï¼Œä¸ºäº†å…¼å®¹æµè§ˆå™¨/* æŠŠé…ç½®å†™åœ¨package.json é‡Œé¢ eg &quot;browserslist&quot;:[&quot;last 5 versions&quot;] Replace Autoprefixer browsers option to Browserslist config. Use browserslist key in package.json or .browserslistrc file. Using browsers option can cause errors. Browserslist config can be used for Babel, Autoprefixer, postcss-normalize and other tools. If you really need to use option, rename it to overrideBrowserslist. Learn more at: https://github.com/browserslist/browserslist#readme https://twitter.com/browserslist*///cnpm i -D gulp-sass //æ‰“åŒ…sass æç¤ºpythonå•¥çš„ é‚£æ˜¯ç‰ˆæœ¬æ²¡å¯¹//cnpm i -D gulp-uglify //å‹ç¼©æ‰“åŒ…js//cnpm i -D gulp-babel //es6 è½¬ es5 gulp-babel@8ç”¨çš„gulp4 gulp-babel@7ç”¨çš„gulp3 åŒæ—¶è¿˜ä¾èµ–ä¸‹é¢ä¸¤ä¸ª//cnpm i -D @babel/core//cnpm i -D @babel/preset-env//cnpm i -D gulp-htmlmin //å‹ç¼©html å‚æ•°è¯¦æƒ…çœ‹æ–‡æ¡£https://github.com/kangax/html-minifier//cnpm i -D del //æ¸…æ¥šä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ &lt;!--ä¸æ˜¯æµï¼Œç›´æ¥æ‰§è¡Œè¿™ä¸ªå‡½æ•°--&gt;//cnpm i -D gulp-webserver //æœ¬åœ°æœåŠ¡å™¨ https://www.npmjs.com/package/gulp-webserver//cnpm i -D gulp-imagemin //å‹ç¼©å›¾ç‰‡ å› ä¸ºè¦ä¿è¯æ— æŸï¼Œå¤§å¤šæ—¶å€™ä¸å‹ç¼©//cnpm i -D gulp-file-include //ç»„ä»¶æ‰“åŒ…ï¼ŒæŠŠä¸€ä¸ªhtmlå½“æˆä¸€ä¸ªç‰‡æ®µæ‰“åˆ°å¦ä¸€ä¸ªç»„ä»¶é‡Œé¢//æœ‰äº›ä¸œè¥¿ä¸éœ€è¦æ‰“åŒ…ï¼Œæ¯”å¦‚ fonts ....const gulp = require(&quot;gulp&quot;)const cssmin = require(&quot;gulp-cssmin&quot;)const autoprefixer = require(&quot;gulp-autoprefixer&quot;)const sass = require(&quot;gulp-sass&quot;)(require(&quot;node-sass&quot;))const uglify = require(&quot;gulp-uglify&quot;)const babel = require(&quot;gulp-babel&quot;)const htmlMin = require(&quot;gulp-htmlmin&quot;)const del = require(&quot;del&quot;)const webserver = require(&quot;gulp-webserver&quot;)const fileInclude = require(&quot;gulp-file-include&quot;)//æ‰“åŒ…cssconst cssompress = function(){ // gulp.src(&quot;./src/**/*&quot;) return gulp .src(&quot;./src/css/*.css&quot;) .pipe(autoprefixer()) .pipe(cssmin()) .pipe(gulp.dest(&quot;./dist/css/&quot;))}//æ‰“åŒ…scssconst sassHandler = function(){ // gulp.src(&quot;./src/**/*&quot;) return gulp .src(&quot;./src/css/*.scss&quot;) .pipe(sass()) .pipe(autoprefixer()) .pipe(cssmin()) .pipe(gulp.dest(&quot;./dist/css/&quot;))}//æ‰“åŒ…jsconst jsHandler = function(){ return gulp .src(&quot;./src/js/*.js&quot;) .pipe(babel({ presets:[&quot;@babel/env&quot;] })) .pipe(uglify()) .pipe(gulp.dest(&quot;./dist/js/&quot;))}//æ‰“åŒ…htmlconst htmlHandler = function(){ return gulp .src(&quot;./src/page/*.html&quot;) //æ‰“åŒ…ç»„ä»¶ .pipe(fileInclude({ prefix:&quot;@#@&quot;,//å®šä¹‰çš„ä¸€ä¸ªæ ‡è¯†ç¬¦ basepath:&quot;./src/components&quot;,//ç»„ä»¶å­˜æ”¾çš„ç›®å½• /* ä½¿ç”¨ ï¼š @#@include(&quot;./header.html&quot;) ç»™ç»„ä»¶ä¼ å€¼ @#@include(&quot;./header.html&quot;,{data:&quot;1&quot;,name:&quot;header&quot;}) ç»„ä»¶ &lt;div&gt;@#@data&lt;/div&gt; &lt;div&gt;@#@header&lt;/div&gt; */ })) .pipe(htmlMin({ collapseWhitespace:true,//ç§»é™¤ç©ºæ ¼ removeEmptyAttributes:true,//ç§»é™¤ç©ºå±æ€§(è‡ªå®šä¹‰å±æ€§ä¸è¡Œï¼ŒåŸç”Ÿçš„) collapseBooleanAttributes:true,//åˆå¹¶boolä¸ºtrueçš„å±æ€§ ï¼Œæ¯”å¦‚checked=&quot;checked&quot; =&gt; checked removeAttributeQuotes:true,//æ¯”å¦‚ class=&quot;a&quot; -&gt; class=a class=&quot;a b&quot;åˆ™ä¸è¡Œ minifyCSS:true,//å‹ç¼©styleæ ‡ç­¾çš„ä»£ç (åŸºæœ¬å‹ç¼©ï¼Œæ‰€ä»¥æœ€å¥½å¤–è”) minifyJS:true,//å‹ç¼©jsæ ‡ç­¾çš„ä»£ç (åŸºæœ¬å‹ç¼©ï¼Œæ‰€ä»¥æœ€å¥½å¤–è”) removeScriptTypeAttributes:true,//type=&quot;text/javascript&quot;ä»scriptæ ‡ç­¾ä¸­åˆ é™¤ã€‚å…¶ä»–typeå±æ€§å€¼ä¿æŒä¸å˜ removeStyleLinkTypeAttributes:true,//type=&quot;text/css&quot;ä»styleå’Œlinkæ ‡ç­¾ä¸­åˆ é™¤ã€‚å…¶ä»–typeå±æ€§å€¼ä¿æŒä¸å˜ //å…¶ä»–çœ‹æ–‡æ¡£ })) .pipe(gulp.dest(&quot;./dist/page/&quot;))}//å¯¼å‡ºå›¾ç‰‡const imgHandler = function(){ return gulp .src(&quot;./src/assets/*&quot;) .pipe(gulp.dest(&quot;./dist/assets/&quot;))}//æ‰“åŒ…ä¸€ä¸ªç¬¬ä¸‰æ–¹ä»»åŠ¡const libHandler = function(){ return gulp .src(&quot;./src/lib/**/*&quot;) .pipe(gulp.dest(&quot;./dist/lib/&quot;))}//åˆ é™¤æ–¹ä»»åŠ¡const delHandler = function(){ //ä¼ å¦‚æ•°ç»„(ä½ è¦åˆ é™¤çš„ç›®å½•) return del([&quot;./dist/&quot;])}//åˆ é™¤æ–¹ä»»åŠ¡const webserverHandler = function(){ //ä¼ å¦‚æ•°ç»„(ä½ è¦åˆ é™¤çš„ç›®å½•) return gulp .src(&quot;./dist&quot;) .pipe(webserver({ host:&quot;localhost&quot;, /* å¦‚æœä½ è¿™é‡Œæ˜¯è‡ªå®šä¹‰,å‡å¦‚ www.tabby.com æ‰¾åˆ° C:\\Windows\\System32\\drivers\\etc\\hosts æœ«å°¾åŠ ä¸Š 127.0.0.1 www.tabby.com */ port:&quot;9527&quot;, livereload:true,//é»˜è®¤ä½ ä¿®æ”¹distä¸‹é¢çš„æ–‡ä»¶æ‰ä¼šåˆ·æ–°,ä½†æ˜¯è¦ä¿®æ”¹disté‚£ä¹ˆåªèƒ½é‡æ–°æ‰“åŒ… open:true,//è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ fallback: './page/index.html',//é»˜è®¤æ‰“å¼€çš„è·¯å¾„(æ ¹ç›®å½•æ˜¯ä¸Šé¢çš„dist proxies:[ /* æ¯ä¸€ä¸ªä»£ç†éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸è¦å†™ç©ºå¯¹è±¡ http://localhost:9000/geta/cors è·¨åŸŸé”™è¯¯çš„åœ°å€ http://localhost:9000/ ä»£ç†åœ°å€ /proxytest/geta/cors 200 http://localhost:9000/geta/cors è·¨åŸŸé”™è¯¯çš„åœ°å€ http://localhost:9000/geta/ ä»£ç†åœ°å€ /proxytest/cors 200 */ { source: '/proxytest',//ä»£ç†æ ‡è¯†ç¬¦å· target: 'http://localhost:9000/geta/',//ä»£ç†åœ°å€ // options: { // headers: { // 'ABC_HEADER': 'abc', // }, // }, } ] }))}//ç›‘æ§ä»»åŠ¡const watchHandler = function(){ gulp.watch(&quot;./src/css/*&quot;,sassHandler)}module.exports.cssompress=cssompressmodule.exports.sassHandler=sassHandlermodule.exports.jsHandler=jsHandlermodule.exports.htmlHandler=htmlHandlermodule.exports.imgHandler=imgHandlermodule.exports.delHandler=delHandlermodule.exports.webserverHandler=webserverHandler/* é…ç½®ä¸€ä¸ªé»˜è®¤ä»»åŠ¡ï¼ŒæŠŠä¸Šé¢çš„ä¸€èµ·æ‰§è¡Œäº† 1. gulp.task(&quot;defalut&quot;,()=&gt;{}) 2. module.exports.default=()=&gt;{} 3. å¦‚ä¸‹ å½“ç„¶ä½ ä¹Ÿå¯ä»¥å«abcé‚£ä¹ˆæ‰§è¡Œ gulp abc,å¦‚æœæ˜¯default,é‚£ä¹ˆå¯ä»¥åªæ‰§è¡Œgulpå°±OJ*/// module.exports.default=gulp.parallel(cssompress,sassHandler,jsHandler,htmlHandler,imgHandler)/* åˆ é™¤ä»»åŠ¡ æ¯”å¦‚ä½ è¿™æ¬¡cssæ–‡ä»¶å¤¹é‡Œåªæœ‰ä¸€ä¸ªb.cssæ–‡ä»¶åˆ é™¤äº†ä¸Šæ¬¡çš„a.cssï¼Œ é‚£ä¹ˆä½ ä¸‹æ¬¡æ‰“åŒ…dist/cssæ–‡ä»¶è·¯å¾„ä¸‹a.cssè¿˜æ˜¯å­˜åœ¨ */// module.exports.default=gulp.series(// delHandler,// gulp.parallel(cssompress,sassHandler,jsHandler,htmlHandler,imgHandler)// )/* ç”¨gulpå¯åŠ¨ä¸€ä¸ªæœåŠ¡ srcï¼š htmlå¼•ç”¨çš„æ˜¯ä¸€ä¸ªstylusScss.cssæ–‡ä»¶ å› ä¸ºä¸å­˜åœ¨æ‰€ä»¥ä¼šæŠ¥é”™ distï¼š htmlå¼•ç”¨çš„æ˜¯ä¸€ä¸ªstylusScss.cssæ–‡ä»¶ å› ä¸ºstylusScss.scssè¢«è½¬æˆäº†cssæ–‡ä»¶æ‰€ä»¥æ²¡é—®é¢˜*/// module.exports.default=gulp.series(// delHandler,// gulp.parallel(cssompress,sassHandler,jsHandler,htmlHandler,imgHandler),// webserverHandler,// )/* ç›‘æ§ä»»åŠ¡*/module.exports.default=gulp.series( delHandler, gulp.parallel(cssompress,sassHandler,jsHandler,htmlHandler,imgHandler), webserverHandler, watchHandler)","link":"/2021/04/25/20210425gulp%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E5%A4%8D%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"title":"æµè§ˆå™¨ä¸­çš„æ¨¡å—åŒ–(ES Module,import-maps)","text":"ES ModuleES Module æ˜¯ JavaScript æ¨¡å—åŒ–çš„å®˜æ–¹æ ‡å‡†ï¼Œ ç›®å‰ä¸»æµçš„æµè§ˆå™¨å·²ç»å®ç°ï¼Œä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åŠ è½½å™¨ (Loader) å³å¯ä½¿ç”¨ã€‚ ç‚¹å‡»æ­¤é“¾æ¥æŸ¥çœ‹æœ€æ–°çš„æµè§ˆå™¨æ”¯æŒæƒ…å†µ æµè§ˆå™¨ä¸­åªæ”¯æŒç›¸å¯¹è·¯å¾„æˆ–è€…ç»å¯¹è·¯å¾„ä¸‹çš„ ES æ¨¡å— (./, ../, /, http://, https://) ï¼Œ åŒæ—¶ä¹Ÿå—æœåŠ¡å™¨è·¨åŸŸè¯·æ±‚ç­–ç•¥ã€ HTTPS ç­–ç•¥çš„çº¦æŸã€‚ 123456789// my_func.jsexport function my_func() {}&lt;script type=&quot;module&quot;&gt;import { my_func } from './my_func.js';my_func();&lt;/script&gt; import-mapsimport-maps å°±æ˜¯ä¸ºäº†è§£å†³æµè§ˆå™¨ä¸­çš„å…¨å±€æ¨¡å—è€Œå‡ºç°çš„ï¼Œ ç›®å‰æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ åŸºäº Chromium çš„æµè§ˆå™¨å·²ç»å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ è¿™ä¸ªscript æ ‡ç­¾å¿…é¡»æ”¾åœ¨ document ä¸­çš„ä¸­ç¬¬ä¸€ä¸ª type=â€moduleâ€ æ ‡ç­¾ä¹‹å‰ï¼ˆæœ€å¥½æ˜¯åœ¨ä¸­ï¼‰ï¼Œä»¥ä¾¿åœ¨è¿›è¡Œæ¨¡å—è§£æä¹‹å‰å¯¹å®ƒè¿›è¡Œè§£æã€‚ ç‚¹å‡»æ­¤é“¾æ¥æŸ¥çœ‹æœ€æ–°çš„æµè§ˆå™¨æ”¯æŒæƒ…å†µ import-maps ä½¿ç”¨ Json çš„å½¢å¼æ¥å®šä¹‰æµè§ˆå™¨ä¸­çš„å…¨å±€æ¨¡å—ï¼š 123456789&lt;script type=&quot;importmap&quot;&gt; { &quot;imports&quot;: { &quot;three&quot;: &quot;./build/three.module.js&quot;, &quot;three/addons/&quot;: &quot;./jsm/&quot;, &quot;react-dom&quot;: &quot;https://cdn.skypack.dev/react-dom&quot; } }&lt;/script&gt; è¿™ä¸ªæ ‡ç­¾ä¸­åº”è¯¥æ˜¯ä¸¥æ ¼çš„jsonæ ¼å¼ï¼Œæ³¨æ„é€—å·çš„ä½¿ç”¨ï¼Œå¦‚ä¸‹é”™è¯¯å®ä¾‹ 123456789&lt;script type=&quot;importmap&quot;&gt; { &quot;imports&quot;: { &quot;three&quot;: &quot;./build/three.module.js&quot;, &quot;three/addons/&quot;: &quot;./jsm/&quot;, &quot;react-dom&quot;: &quot;https://cdn.skypack.dev/react-dom&quot;, } }&lt;/script&gt; ä¸Šé¢é€—å·å¼•èµ·æµè§ˆå™¨æŠ¥é”™ Failed to resolve module specifier â€œvueâ€. Relative references must start with either â€œ/â€œ, â€œ./â€œ, or â€œ../â€œ. åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ import-maps å’Œ ES æ¨¡å—ç¤ºä¾‹ ç®€å•æµ‹è¯•demo index.html/web/aaa.js å› ä¸ºä½¿ç”¨çš„æœ¬åœ°çš„ï¼Œè®°å¾—æœ¬åœ°æœåŠ¡å¯åŠ¨ 1234const Test = ()=&gt;{ console.log(&quot;sdadadada&quot;)}export { Test,} 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-cn&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Vue&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;root&quot;&gt; &lt;/div&gt; &lt;script type=&quot;importmap&quot;&gt; { &quot;imports&quot;: { &quot;@t/&quot;: &quot;./web/&quot;, } } &lt;/script&gt; &lt;script type=&quot;module&quot;&gt; import {Test} from '@t/aaa.js' Test() &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; åœ¨æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ ArcGIS JS API 4.20 æä¾›çš„ ES æ¨¡å— 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;ArcGIS JS API ES Module Demo&lt;/title&gt; &lt;link id=&quot;mapstyle-link&quot; rel=&quot;stylesheet&quot; href=&quot;https://js.arcgis.com/4.20/@arcgis/core/assets/esri/themes/dark/main.css&quot;&gt; &lt;style&gt; html,body,#mapview { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapview&quot;&gt;&lt;/div&gt; &lt;script type=&quot;importmap&quot;&gt; { &quot;imports&quot;: { &quot;@arcgis/&quot;: &quot;https://js.arcgis.com/4.20/@arcgis/&quot; } } &lt;/script&gt; &lt;script type=&quot;module&quot;&gt; import Map from '@arcgis/core/Map.js'; import MapView from '@arcgis/core/views/MapView.js'; import * as intl from &quot;@arcgis/core/intl.js&quot;; intl.setLocale('zh-CN'); const map = new Map({ basemap: 'dark-gray-vector', ground: 'world-elevation', }); const view = new MapView({ container: 'mapview', map: map, zoom: 7, center: [113.2, 23.4], viewingMode: 'global' }); &lt;/script&gt;&lt;/body&gt; &lt;/html&gt;","link":"/2022/11/11/20221111%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96/"},{"title":"åœ¨Reacté¡¹ç›®ä¸­IMå¯Œæ–‡æœ¬è¾“å…¥æ¡†","text":"imä¸­çš„ç¼–è¾‘å™¨å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¯Œæ–‡æœ¬çš„ç¼–è¾‘å™¨æ”¹å¥½çš„æˆå“ï¼Œæ‰¾äº†å¾ˆå¤šéƒ½æ²¡æœ‰é€‚åˆ æœ€ç»ˆè¿˜æ˜¯è‡ªå·±æ‰¾ä¸€ä¸ªæ’ä»¶äºŒæ¬¡å°è£…ä¸€ä¸‹å§ï¼ˆåŸºäºquillï¼‰ï¼Œå®é™…ä¸Šå¤§éƒ¨åˆ†å¯Œæ–‡æœ¬ç¼–è¾‘å™¨éƒ½æ˜¯åŸºäºcontenteditableçš„é«˜åº¦å°è£…ï¼Œæœ‰å…´è¶£å¯ä»¥äº†è§£ä¸‹ã€‚ éœ€è¦@ç”¨æˆ·ï¼Œè¡¨æƒ…å°±ok å…ˆå®‰è£…ä¾èµ– npm i react-quill â€“saveâ€œreact-quillâ€: â€œ^2.0.0â€npm i quill-image-drop-module â€“saveâ€œquill-image-drop-moduleâ€: â€œ^1.0.3â€ æ ¸å¿ƒä»£ç (æµ‹è¯•demo) è¿˜æ²¡å†™è¾“å…¥éƒ¨åˆ†ã€‚jsæ·»åŠ çš„å†…å®¹æµ‹è¯•ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151import { Quill } from &quot;react-quill&quot;;import &quot;react-quill/dist/quill.snow.css&quot;;import { ImageDrop } from &quot;quill-image-drop-module&quot;;import {theme,Tooltip} from &quot;antd&quot;;import {useEffect} from &quot;react&quot;import {TalkVideoCall,TalkSingCall,TalkFile,TalkPhotos,TalkEmoji,TalkAtIcon,TalkPicture,TalkVideo} from &quot;@/strings/imgs&quot;import Gap from &quot;../gap.jsx&quot;;///æ‹–æ‹½å›¾ç‰‡Quill.register(&quot;modules/imageDrop&quot;, ImageDrop);///å»é™¤å‰ªè´´æ¿ä¸­æ–‡å­—çš„æ ·å¼const ClipboardTextHandler = (node, delta) =&gt; { delta.ops = delta.ops.map((op) =&gt; { return { insert: op.insert, ///ä¿®æ”¹æ’å…¥å›¾ç‰‡çš„å¤§å°,å½“ç„¶è¿™é‡Œè‚¯å®šæœ‰äº›åˆ¤æ–­ // attributes: { width: &quot;50px&quot;, height: &quot;50px&quot; } }; }); return delta;};/// ç»§æ‰¿ç›¸å…³ https://kang-bing-kui.gitbook.io/quill/other/parchment///atç”¨æˆ·æ’å…¥const Embed = Quill.import(&quot;blots/embed&quot;);class MsgAtUser extends Embed { static create(value) { if(value.tagName&amp;&amp;(value.tagName.toLowerCase()===&quot;at&quot;)){ return value } let node = super.create(); node.innerText = value.text; node.setAttribute(&quot;id&quot;, value.id); node.style.margin = &quot;0 4px&quot;; node.style.fontWeight = &quot;600&quot;; node.setAttribute(&quot;contenteditable&quot;, false); return node; } ///æ’¤æ¶ˆæ“ä½œ static value=(node)=&gt;node}MsgAtUser.blotName = &quot;MsgAtUser&quot;;MsgAtUser.tagName = &quot;at&quot;;Quill.register(MsgAtUser);///è¡¨æƒ…class MsgEmoji extends Embed { static create(value) { console.log(&quot;create&quot;,value) ///é€šè¿‡idåˆ¤æ–­æ˜¯å¦éœ€è¦æ ¼å¼åŒ–ï¼Œé˜²æ­¢è¯¯ä¼¤ if(Object.prototype.toString.call(value)===&quot;[object HTMLImageElement]&quot;){ return value } let node = super.create(); node.setAttribute(&quot;src&quot;, value.src); node.style.width = &quot;16px&quot;; node.style.height = &quot;16px&quot;; node.style.backgroundColor = &quot;red&quot;; return node; } ///æ’¤æ¶ˆæ“ä½œ static value=node=&gt;node}MsgEmoji.blotName = &quot;MsgEmoji&quot;;MsgEmoji.tagName = &quot;img&quot;;Quill.register(MsgEmoji);const InputTools=()=&gt;{ const { token } = theme.useToken(); const {colorText,colorBorder}=token; return ( &lt;div className=&quot;flex-ltr-ac-js&quot; style={{ width:&quot;100%&quot;, padding:&quot;12px 15px 0&quot; }} &gt; &lt;div className=&quot;flex-ltr-ac-js&quot; style={{alignItems:&quot;start&quot;}}&gt; &lt;Tooltip title=&quot;è¡¨æƒ…&quot;&gt;&lt;div&gt;&lt;TalkEmoji size={28} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; &lt;Gap w={16}/&gt; &lt;Tooltip title=&quot;æ–‡ä»¶&quot;&gt;&lt;div&gt;&lt;TalkPicture size={26} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; &lt;Gap w={16}/&gt; &lt;Tooltip title=&quot;æ–‡ä»¶&quot;&gt;&lt;div&gt;&lt;TalkVideo size={26} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; &lt;Gap w={16}/&gt; &lt;Tooltip title=&quot;æ–‡ä»¶&quot;&gt;&lt;div&gt;&lt;TalkFile size={26} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; {/*&lt;TalkPhotos size={26}/&gt;*/} &lt;/div&gt; &lt;div className=&quot;flex-ltr-ac-js&quot;&gt; &lt;Tooltip title=&quot;æ–‡ä»¶&quot;&gt;&lt;div&gt;&lt;TalkVideoCall size={26} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; &lt;Gap w={16}/&gt; &lt;Tooltip title=&quot;æ–‡ä»¶&quot;&gt;&lt;div&gt;&lt;TalkSingCall size={26} color={colorText} /&gt;&lt;/div&gt;&lt;/Tooltip&gt; &lt;/div&gt; &lt;/div&gt; )}export default function ChatTalkInput(){ const { token } = theme.useToken(); const {colorBgContainer,colorBorder}=token; let quill=null; useEffect(() =&gt; { quill = new Quill(&quot;#editor&quot;, { modules: { toolbar: false, clipboard: { matchers: [[Node.ELEMENT_NODE, ClipboardTextHandler]], }, }, theme: &quot;snow&quot;, imageDrop: true, }); quill.insertText(0,&quot;ä»Šå¤©ä¸‹åˆå…¨éƒ½å»å¼€ä¼š&quot;,Quill.sources.USER); ///æ’å…¥at quill.insertEmbed(9,&quot;MsgAtUser&quot;,{ text: `@æ‰€æœ‰äºº`, id: &quot;0&quot; },Quill.sources.USER); quill.insertText(10,&quot;éƒ½è¦åˆ°&quot;,Quill.sources.USER); ///æ’å…¥è¡¨æƒ… quill.insertEmbed(0,&quot;MsgEmoji&quot;,{src: &quot;https://www.w3school.com.cn/i/eg_tulip.jpg&quot;, code: &quot;0&quot; },Quill.sources.USER); quill.insertText(0,&quot;é€šçŸ¥ï¼ï¼ï¼ï¼ï¼ï¼ï¼&quot;,Quill.sources.USER); // quill.setSelection(1, Quill.sources.SILENT); }, []); ///å½“è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹ï¼Œåå¦‚æœè¾“å…¥æ¡†é‡Œé¢å…¨æ˜¯Embedï¼Œä¸‹æ¬¡åˆ™æ— æ³•èšç„¦ï¼ï¼ï¼ï¼åªèƒ½é‡æ–°èšç„¦ const setSelection=()=&gt;{ ///å…ˆè¦åˆ¤æ–­ä¸€ä¸‹ï¼Œé˜²æ­¢è¯¯ä¼¤ï¼ï¼ï¼ // quill.setSelection(1, Quill.sources.SILENT); } return ( &lt;div className=&quot;flex-ttb-ac-js&quot; style={{ height:&quot;230px&quot;, width:&quot;100%&quot;, border:&quot;none&quot;, }} &gt; &lt;InputTools /&gt; &lt;div id=&quot;editor&quot; onClick={setSelection} style={{width:&quot;100%&quot;,height:&quot;100px&quot;,flex:&quot;1&quot;,border:&quot;none&quot;}}&gt;&lt;/div&gt; &lt;/div&gt; )}","link":"/2022/11/15/20221115%E8%87%AA%E5%AE%9A%E4%B9%89im%E7%BC%96%E8%BE%91%E5%99%A8/"},{"title":"imglyè¶…å¼ºç¼–è¾‘å™¨åœ¨flutterä¸­çš„ç®€å•ä½¿ç”¨","text":"å…ˆç»™å‡ºå®˜ç½‘ï¼š https://img.ly/ flutteræ’ä»¶åœ°å€ï¼š https://pub.flutter-io.cn/packages/photo_editor_sdk ä¸‹é¢å¼€å§‹é›†æˆï¼ˆä¼šéœ€è¦ä¸€ä¸ªé€‰æ‹©å›¾ç‰‡çš„æ’ä»¶ï¼Œè¿™ä¸ªè‡ªå·±è§£å†³ï¼Œæˆ–è€…ä½¿ç”¨é™æ€æ–‡ä»¶ï¼‰ é€šè¿‡æ‰“å¼€ android/build.gradle æ–‡ä»¶ï¼ˆä¸æ˜¯ android/app/build.gradleï¼‰å¹¶æ›´æ”¹ä»¥ä¸‹å—æ¥æ·»åŠ  img.ly å­˜å‚¨åº“å’Œæ’ä»¶ï¼š ä¸ºäº†æ›´æ–°é€‚ç”¨äº Android çš„ PhotoEditor SDKï¼Œè¯·å°†ç‰ˆæœ¬å­—ç¬¦ä¸² 10.3.1 æ›¿æ¢ä¸ºè¾ƒæ–°çš„ç‰ˆæœ¬ã€‚ å¦‚æœç‰ˆæœ¬å’Œä½ pubçš„ç‰ˆæœ¬ä¸å¯¹å¯èƒ½ä¼šæŠ¥é”™ï¼Œæ ¹æ®æŠ¥é”™çš„ç‰ˆæœ¬æ¥ä¿®æ”¹ä¸‹é¢çš„æ’ä»¶ç‰ˆæœ¬å°±å¥½äº†ï¼Œå»æŸ¥çœ‹changelog 123456789101112131415buildscript {- ext.kotlin_version = '1.3.50'+ ext.kotlin_version = '1.5.32' // Minimum version. repositories { ... mavenCentral()+ maven { url &quot;https://artifactory.img.ly/artifactory/imgly&quot; } ... } dependencies { ...+ classpath 'ly.img.android.sdk:plugin:10.4.1' ... }} ä»ç„¶åœ¨ android/build.gradle æ–‡ä»¶ï¼ˆä¸æ˜¯ android/app/build.gradleï¼‰ä¸­ï¼Œåœ¨åº•éƒ¨æ·»åŠ è¿™äº›è¡Œï¼š 12345allprojects { repositories { maven { url 'https://artifactory.img.ly/artifactory/imgly' } }} android/build.gradle å®Œæ•´é…ç½®å¦‚ä¸‹ 1234567891011121314151617181920212223buildscript { ext.kotlin_version = '1.6.10' repositories { google() mavenCentral() maven { url &quot;https://artifactory.img.ly/artifactory/imgly&quot; } } dependencies { classpath 'com.android.tools.build:gradle:7.1.2' classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; classpath 'ly.img.android.sdk:plugin:10.4.1' }}allprojects { repositories { google() mavenCentral() maven { url 'https://artifactory.img.ly/artifactory/imgly' } }} åœ¨ android/app/build.gradle æ–‡ä»¶ï¼ˆä¸æ˜¯ android/build.gradleï¼‰ä¸­ï¼Œæ‚¨éœ€è¦å°† minSdkVersion ä¿®æ”¹ä¸ºè‡³å°‘ 21ã€‚æˆ‘ä»¬è¿˜å»ºè®®å°† buildToolsVersion æ›´æ–°ä¸º 31.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶å°† compileSdkVersion æ›´æ–°ä¸º 31 æˆ–æ›´é«˜ 1234567891011121314151617181920android { compileSdkVersion 33 ndkVersion flutter.ndkVersion buildToolsVersion &quot;31.0.0&quot; compileOptions { sourceCompatibility JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 } defaultConfig { applicationId &quot;com.example.demoimg&quot; minSdkVersion 22 targetSdkVersion flutter.targetSdkVersion versionCode flutterVersionCode.toInteger() versionName flutterVersionName } ...} åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé€šè¿‡åœ¨åº”ç”¨æ’ä»¶ä¸‹æ·»åŠ ä»¥ä¸‹è¡Œæ¥é…ç½®é€‚ç”¨äº Android çš„ PhotoEditor SDK 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647...def flutterVersionName = localProperties.getProperty('flutter.versionName')if (flutterVersionName == null) { flutterVersionName = '1.0'}apply plugin: 'com.android.application'apply plugin: 'kotlin-android'apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;///æ·»åŠ å¦‚ä¸‹éƒ¨åˆ†apply plugin: 'ly.img.android.sdk'apply plugin: 'kotlin-android'apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;imglyConfig { modules { include 'ui:text' include 'ui:focus' include 'ui:frame' include 'ui:brush' include 'ui:filter' include 'ui:sticker' include 'ui:overlay' include 'ui:transform' include 'ui:adjustment' include 'ui:text-design' // This module is big, remove the serializer if you don't need that feature. include 'backend:serializer' // Remove the asset packs you don't need, these are also big in size. include 'assets:font-basic' include 'assets:frame-basic' include 'assets:filter-basic' include 'assets:overlay-basic' include 'assets:sticker-shapes' include 'assets:sticker-emoticons' include 'backend:sticker-smart' include 'backend:background-removal' }}... flutter ä½¿ç”¨ 12345678910111213141516///è·å–ä¸€ä¸ªå›¾ç‰‡final List&lt;AssetEntity&gt;? result = await AssetPicker.pickAssets(context);print(result?.first.relativePath);if(result==null)return;File? f=await result.first.file;if(f==null)return;print(f.path);///è§£é™¤æ°´å°ï¼Œå…è´¹ç‰ˆæ˜¯æœ‰æ°´å°çš„ï¼Œéœ€è¦è´­ä¹°è·å–è¯ä¹¦// å°†ä¸å¸¦æ‰©å±•åçš„æ–‡ä»¶è·¯å¾„ä¼ é€’ç»™unlockWithLicenseå‡½æ•°ä»¥è§£é” iOS å’Œ Androidï¼šPESDK.unlockWithLicense(&quot;assets/pesdk_license&quot;);///ä¼ å…¥ä¸€ä¸ªå›¾ç‰‡åœ°å€PESDK.openEditor(image:f.path);","link":"/2022/12/10/20221210imgly%E8%B6%85%E5%BC%BA%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91%E8%A7%86%E9%A2%91%E7%BC%96%E8%BE%91%E5%88%9B%E6%84%8F%E7%BC%96%E8%BE%91%E4%BD%BF%E7%94%A8/"},{"title":"æŸä¼—ç‚¹è¯„çš„å•†æˆ·æ•°æ®çˆ¬å–","text":"æœ€è¿‘éœ€è¦è·å–æŸä¼—ç‚¹è¯„çš„å•†æˆ·æ•°æ®éœ€æ±‚å°±æ˜¯æœç´¢æŸä¸ªåˆ†ç±»ï¼Œç„¶åè·å–æ¯å®¶åº—çš„ç”µè¯åœ°å€æœåŠ¡è¯„åˆ†ç­‰ç­‰å„ç§ä¿¡æ¯ï¼› é€‰æ‹©åœ°åŒºï¼Œç™»å½•ï¼Œåœ¨ç½‘ç«™é‡Œé¢æ‹¿tokenï¼Œuuidï¼Œcookieä»€ä¹ˆçš„å°±ä¸è¿‡å¤šèµ˜è¿°ï¼› è¿™é‡Œåªæ˜¯æ¼”ç¤ºåˆ†æè¿‡ç¨‹å®é™…ä½¿ç”¨æ ¹æ®è‡ªå·±éœ€æ±‚æ›´æ”¹ï¼Œè¯·æ±‚è¿‡å¤šå¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†æ¥å£æš‚æ—¶æ€§æ— æ³•è®¿é—®ï¼› å‰æéƒ¨åˆ†å‡†å¤‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227var Fileds = make([]string, 0) ///å•†å®¶ç»“æœåˆ†é¡µåˆ—è¡¨é”™è¯¯çš„é›†åˆvar ShopIdList = make([]string, 0) ///å•†å®¶idé›†åˆvar ShopInfo = make(map[string]string) ///å•†å®¶ä¿¡æ¯ç»“æœï¼šåº—é“ºåç§°ï¼Œç±»å‹ï¼Œåœ°å€ï¼Œç”µè¯ï¼Œè¥ä¸šæ—¶é—´ï¼Œå…¶ä»–...var ShopPrice = make(map[string]string) ///å•†å®¶ä¿¡æ¯ç»“æœï¼šæ˜Ÿçº§ï¼Œè¯„åˆ†ï¼Œè¯„è®ºæ•°é‡ï¼Œäººå‡ä»·æ ¼ï¼Œå…¶ä»–...var wg sync.WaitGroup///æœç´¢å•†å®¶ç»“æœåˆ†é¡µåˆ—è¡¨const url = &quot;https://www.dianping.com/search/keyword/3/0_%E5%AE%A0%E7%89%A9/o3&quot;const token = &quot;&quot; ///ç”¨æˆ·tokenconst uuid = &quot;uuid&quot; ///ç”¨æˆ·uuidconst cityId = &quot;3&quot; ///åŸå¸‚idconst mainCategoryId = &quot;25147&quot; ///åˆ†ç±»idconst cookie = &quot;cookie&quot; ///ç”¨æˆ·cookiefunc RequestPage(u string) { req, _ := http.NewRequest(&quot;GET&quot;, u, nil) req.Header.Set(&quot;Cookie&quot;, cookie) req.Header.Set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;) req.Header.Set(&quot;Content-Type&quot;, &quot;application/json&quot;) req.Header.Set(&quot;Accept&quot;, &quot;*/*&quot;) req.Header.Set(&quot;Host&quot;, &quot;www.dianping.com&quot;) req.Header.Set(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;) req.Header.Set(&quot;Connection&quot;, &quot;keep-alive&quot;) req.Header.Set(&quot;sec-ch-ua-mobile&quot;, &quot;?0&quot;) req.Header.Set(&quot;sec-ch-ua-platform&quot;, &quot;Windows&quot;) req.Header.Set(&quot;Sec-Fetch-Dest&quot;, &quot;document&quot;) req.Header.Set(&quot;Sec-Fetch-Mode&quot;, &quot;navigate&quot;) req.Header.Set(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;) req.Header.Set(&quot;Sec-Fetch-User&quot;, &quot;?1&quot;) req.Header.Set(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;) req.Header.Set(&quot;sec-ch-ua&quot;, `Not_A Brand;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=109`) resp, err := (&amp;http.Client{}).Do(req) if err != nil { fmt.Println(err) } defer resp.Body.Close() ///å¯èƒ½ä¼šä¹±ç ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ¤æ–­ä¸‹å¥½çš„ var bodyReader io.Reader switch resp.Header.Get(&quot;Content-Encoding&quot;) { case &quot;gzip&quot;: bodyReader, err = gzip.NewReader(resp.Body) case &quot;deflate&quot;: bodyReader = flate.NewReader(resp.Body) default: bodyReader = resp.Body } respByte, _ := ioutil.ReadAll(bodyReader) fmt.Println(string(respByte)) if len(respByte) &gt; 150000 { GetShopIdSlice(respByte[150000:]) return } Fileds=append(Fileds,u) wg.Done() fmt.Println(u + &quot;é”™è¯¯&quot;)}func Find(slice []string, val string) (int, bool) { for i, item := range slice { if item == val { return i, true } } return -1, false}func GetShopIdSlice(data []byte) { re, _ := regexp.Compile(`&quot;[A-Za-z0-9]{16}&quot;`) all := re.FindAll(data, -1) for _, bytes := range all { key := strings.Replace(string(bytes), `&quot;`, ``, -1) fmt.Println(key) if _, found := Find(ShopIdList, key); !found { ShopIdList = append(ShopIdList, key) } } wg.Done()}func GetShopInfo(id string) { curl := fmt.Sprintf(&quot;https://www.dianping.com/ajax/json/shopDynamic/basicHideInfo?shopId=%v&amp;_token=%v&amp;uuid=%v&amp;platform=1&amp;partner=150&amp;optimusCode=10&amp;originUrl=https://www.dianping.com/shop/%v&quot;, id, token, uuid, id) req, _ := http.NewRequest(&quot;GET&quot;, curl, nil) req.Header.Set(&quot;Cookie&quot;, cookie) req.Header.Set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;) req.Header.Set(&quot;Content-Type&quot;, &quot;application/json&quot;) req.Header.Set(&quot;Accept&quot;, &quot;*/*&quot;) req.Header.Set(&quot;Host&quot;, &quot;www.dianping.com&quot;) req.Header.Set(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;) req.Header.Set(&quot;Connection&quot;, &quot;keep-alive&quot;) req.Header.Set(&quot;sec-ch-ua-mobile&quot;, &quot;?0&quot;) req.Header.Set(&quot;sec-ch-ua-platform&quot;, &quot;Windows&quot;) req.Header.Set(&quot;Sec-Fetch-Dest&quot;, &quot;document&quot;) req.Header.Set(&quot;Sec-Fetch-Mode&quot;, &quot;navigate&quot;) req.Header.Set(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;) req.Header.Set(&quot;Sec-Fetch-User&quot;, &quot;?1&quot;) req.Header.Set(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;) req.Header.Set(&quot;sec-ch-ua&quot;, `Not_A Brand;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=109`) //req.Header.Set(&quot;Content-Length&quot;, &quot;231&quot;) resp, err := (&amp;http.Client{}).Do(req) if err != nil { fmt.Println(&quot;é”™è¯¯--&quot;,id) wg.Done() return } defer resp.Body.Close() ///å¯èƒ½ä¼šä¹±ç ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ¤æ–­ä¸‹å¥½çš„ var bodyReader io.Reader switch resp.Header.Get(&quot;Content-Encoding&quot;) { case &quot;gzip&quot;: bodyReader, err = gzip.NewReader(resp.Body) case &quot;deflate&quot;: bodyReader = flate.NewReader(resp.Body) default: bodyReader = resp.Body } respByte, _ := ioutil.ReadAll(bodyReader) ShopInfo[id] = string(respByte) wg.Done()}func GetShopPrice(id string) { curl := fmt.Sprintf(&quot;https://www.dianping.com/ajax/json/shopDynamic/reviewAndStar?shopId=%v&amp;cityId=%v&amp;mainCategoryId=%v&amp;_token=%v&amp;uuid=%v&amp;platform=1&amp;partner=150&amp;optimusCode=10&amp;originUrl=https://www.dianping.com/shop/%v&quot;, id, cityId, mainCategoryId, token, uuid, id) fmt.Println(curl) req, _ := http.NewRequest(&quot;GET&quot;, curl, nil) req.Header.Set(&quot;Cookie&quot;, cookie) req.Header.Set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;) req.Header.Set(&quot;Content-Type&quot;, &quot;application/json&quot;) req.Header.Set(&quot;Accept&quot;, &quot;*/*&quot;) req.Header.Set(&quot;Host&quot;, &quot;www.dianping.com&quot;) req.Header.Set(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;) req.Header.Set(&quot;Connection&quot;, &quot;keep-alive&quot;) req.Header.Set(&quot;sec-ch-ua-mobile&quot;, &quot;?0&quot;) req.Header.Set(&quot;sec-ch-ua-platform&quot;, &quot;Windows&quot;) req.Header.Set(&quot;Sec-Fetch-Dest&quot;, &quot;document&quot;) req.Header.Set(&quot;Sec-Fetch-Mode&quot;, &quot;navigate&quot;) req.Header.Set(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;) req.Header.Set(&quot;Sec-Fetch-User&quot;, &quot;?1&quot;) req.Header.Set(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;) req.Header.Set(&quot;sec-ch-ua&quot;, `Not_A Brand;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=109`) //req.Header.Set(&quot;Content-Length&quot;, &quot;231&quot;) resp, err := (&amp;http.Client{}).Do(req) if err != nil { fmt.Println(&quot;é”™è¯¯--&quot;,id) wg.Done() return } defer resp.Body.Close() ///å¯èƒ½ä¼šä¹±ç ï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ¤æ–­ä¸‹å¥½çš„ var bodyReader io.Reader switch resp.Header.Get(&quot;Content-Encoding&quot;) { case &quot;gzip&quot;: bodyReader, err = gzip.NewReader(resp.Body) case &quot;deflate&quot;: bodyReader = flate.NewReader(resp.Body) default: bodyReader = resp.Body } respByte, _ := ioutil.ReadAll(bodyReader) ShopPrice[id] = string(respByte) wg.Done()}///å­˜å‚¨ç»“æœjsonfunc SetInfoFile(filePath string, t map[string]string) { file, err := os.OpenFile(filePath, os.O_WRONLY|os.O_CREATE, 0666) if err != nil { fmt.Println(&quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥&quot;, err) } //åŠæ—¶å…³é—­fileå¥æŸ„ defer file.Close() //å†™å…¥æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨å¸¦ç¼“å­˜çš„ *Writer write := bufio.NewWriter(file) write.WriteString(&quot;{ \\n&quot;) for k, v := range t { if strings.HasPrefix(v,&quot;&lt;html&gt;&quot;){ data := fmt.Sprintf(&quot;\\&quot;%v\\&quot;:%v,\\n&quot;, k, `{&quot;msg&quot;:&quot;403 Forrbiden&quot;}`) write.WriteString(data) }else{ data := fmt.Sprintf(&quot;\\&quot;%v\\&quot;:%v,\\n&quot;, k, v) write.WriteString(data) } } write.WriteString(&quot;} \\n&quot;) //Flushå°†ç¼“å­˜çš„æ–‡ä»¶çœŸæ­£å†™å…¥åˆ°æ–‡ä»¶ä¸­ write.Flush()}///å­˜å‚¨åº—é“ºidå’Œå¤±è´¥çš„åº—é“ºurlfunc SetInfoFile2(filePath string, t []string) { file, err := os.OpenFile(filePath, os.O_WRONLY|os.O_CREATE, 0666) if err != nil { fmt.Println(&quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥&quot;, err) } //åŠæ—¶å…³é—­fileå¥æŸ„ defer file.Close() //å†™å…¥æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨å¸¦ç¼“å­˜çš„ *Writer write := bufio.NewWriter(file) for _, v := range t { data := fmt.Sprintf(&quot;%v\\n&quot;,v) write.WriteString(data) } //Flushå°†ç¼“å­˜çš„æ–‡ä»¶çœŸæ­£å†™å…¥åˆ°æ–‡ä»¶ä¸­ write.Flush()} token,uuid,cityId,mainCategoryId,cookieå¯åœ¨https://www.dianping.com/ajax/json/shopDynamic/reviewAndStarå‚æ•°è·å– ä¸‹é¢å¼€å§‹éƒ¨åˆ†æ­¥éª¤ æœç´¢æŸä¸ªåˆ†ç±»æ”¶é›†æ‰€æœ‰å•†æˆ·çš„idï¼ˆéœ€è¦cookieï¼‰ï¼Œå¹¶å†™å…¥åˆ°æœ¬åœ°æ–‡ä»¶ 12345678910111213141516171819202122232425262728main(){ wg.Add(50) RequestPage(url) for i := 2; i &lt; 51; i++ { urll := fmt.Sprintf(&quot;%vp%v&quot;, url, i) RequestPage(urll) } wg.Wait() SetInfoFile2(&quot;./ShopIdList.txt&quot;,ShopIdList) SetInfoFile2(&quot;./Fileds.txt&quot;,Fileds)}///ShopIdList å†…ä¸ºä¸‹æ ¼å¼/*k7iqTA5NY3wKmZt6k6MAqHVYeFjSSlHyG8ir506MAEWwZThal4Z2t8wfoLfTBe66l4xW5fnwhEUwarXbl3oH7kNLYmaqIjQyl3i0yhjr2vYIlIgGGa6HlnZT8cD8LGLnk3zNWxI6HirLcY5PH7EHl8np2n0SdI1gGaPMQLKeBPOhEV8aH1gT7NAaoUUvem6gl5NBYrCIEaMVi8s4*/ è·å–å•†å®¶çš„å„ç§ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031fi, err := os.Open(&quot;./ShopIdList.txt&quot;)if err != nil { fmt.Printf(&quot;Error: %s\\n&quot;, err) return}defer fi.Close()br := bufio.NewReader(fi)for { a, _, c := br.ReadLine() if c == io.EOF { break } ShopIdList=append(ShopIdList,string(a)) //fmt.Println(string(a))}fmt.Println(&quot;å½“å‰å…±æœ‰åº—é“ºï¼š&quot;,len(ShopIdList))time.Sleep(time.Second*2)//æµ‹è¯•ä¸€ä¸‹ï¼Œè·å–éƒ¨åˆ†ä¿¡æ¯//ä¸‹é¢è¿™ä¸ªä¼šå‡ºç°éå¹¶å‘å®‰å…¨çš„é”™è¯¯ï¼Œä½¿ç”¨è¯»å†™é”å°±å¥½äº†ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æµ‹è¯•ä¸€ä¸‹èƒ½å¦è·å–æ•°æ®a:=ShopIdList[:30]wg.Add(len(a)*2)for _, v := range a { go GetShopPrice(v) go GetShopInfo(v)}wg.Wait()time.Sleep(time.Second*2)SetInfoFile(&quot;./Ainfo.json&quot;, ShopInfo)SetInfoFile(&quot;./Aprice.json&quot;, ShopPrice) ç»“æœå±•ç¤º é—®é¢˜æ¥äº†ä»–çš„éƒ¨åˆ†ä¿¡æ¯æ˜¯htmlæ ‡ç­¾å’Œä¸€äº›ä»£ç  åœ¨ç½‘é¡µå®¡æŸ¥ä»–çš„å…ƒç´  åŸæ¥æ˜¯ç”¨äº†å­—ä½“æ–‡ä»¶æ€ªä¸å¾—ï¼Œç½‘é¡µå¤åˆ¶éƒ½æ˜¯ä¹±ç çš„ è§£å†³ä¸‹è½½ç½‘é¡µä¸­æ‰€æœ‰çš„woffæ–‡ä»¶ï¼Œç„¶åæŠŠä¸Šé¢çš„jsonæ–‡ä»¶å¼•å…¥åˆ°htmlä¸­å¾ªç¯å±•ç¤ºï¼Œå†™ç‚¹æ ·å¼ï¼Œå°±å¯ä»¥æŸ¥çœ‹äº† å®Œç»“ï¼","link":"/2023/01/30/20230130%E6%9F%90%E4%BC%97%E7%82%B9%E8%AF%84%E7%9A%84%E5%95%86%E6%88%B7%E6%95%B0%E6%8D%AE%E7%88%AC%E5%8F%96/"},{"title":"flutteré€šè¿‡æœ¬åœ°æœåŠ¡è®¿é—®é™æ€æ–‡ä»¶","text":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œç»™æˆ‘ä¸€ä¸ªh5çš„é¡µé¢ï¼Œè®©æˆ‘ç›´æ¥æ”¾åœ¨appå†…ï¼Œç”¨webviewé™æ€è®¿é—®ã€‚ è¿™ä¸ªéœ€æ±‚æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä»–è¿™ä¸ªé¡¹ç›®æ¯”è¾ƒç‰¹æ®Šæ˜¯ä¸ªthree.jsæå¾—ä»»åŠ¡æ¨¡å‹ï¼ŒåŒå‡»åœ¨æµè§ˆå™¨æ‰“å¼€ç›´æ¥å°±æŠ¥é”™ã€‚ å› ä¸ºè¿™ä¸ªé¡¹ç›®éœ€è¦ä½¿ç”¨æœ¬åœ°æœåŠ¡å¯åŠ¨ï¼é€šè¿‡æœ¬åœ°æœåŠ¡æ¥è®¿é—®è·¯å¾„ å‡†å¤‡ä¸‰ä¸ªåŒ… jaguar_flutter_asset: ^3.0.0 å¼€å¯æœ¬åœ°æœåŠ¡webview_flutter: ^4.0.2 webviewdio: ^4.0.6 ç½‘ç»œè®¿é—®ã€‚æµ‹è¯•ç”¨ï¼ æ³¨å†Œé™æ€æ–‡ä»¶æŠŠé¡¹ç›®æ‹·è´çš„åˆ°é¡¹ç›®çš„é™æ€ç›®å½•ä¸‹ï¼Œå¹¶ä¸”åœ¨pubspec.yamlä¸­æ³¨å†Œè¿™ä¸ªé¡¹ç›®æ‰€æœ‰çš„æ–‡ä»¶å¤¹æ˜¯æ‰€æœ‰çš„ï¼ï¼ï¼å¦åˆ™ä½ çš„é¡¹ç›®å¯èƒ½ä¼šè·‘ä¸èµ·æ¥ï¼ï¼ï¼ä¸€å®šè¦æ˜¯æ‰€æœ‰ 123456 assets:... - assets/web/models/ - assets/web/models/obj/ - assets/web/models/obj/male02/... å®é™…é¡¹ç›®ï¼Œç›®å½•æ˜¯å¾ˆå¤šçš„ï¼Œå±‚çº§ä¹Ÿå¤šï¼Œæ‰‹åŠ¨å†™ï¼Œéš¾å…ä¸¢å¤±ï¼Œæˆ‘æ˜¯ç”¨çš„shellè„šæœ¬éå†ç”Ÿæˆçš„ é¡µé¢ä½¿ç”¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051class MyHomePage extends StatefulWidget { const MyHomePage({Key? key, required this.title}) : super(key: key); final String title; @override State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();}class _MyHomePageState extends State&lt;MyHomePage&gt; { void loadData() async{ final server = Jaguar(address:&quot;127.0.0.1&quot;,port: 8000); server.addRoute(serveFlutterAssets()); await server.serve(logRequests: true); server.log.onRecord.listen((r) =&gt; print(r)); await Future.delayed(Duration(seconds: 1)); ///æµ‹è¯•ç”¨ try { var response = await Dio().get('http://127.0.0.1:8000/web/webgl_loader_obj_mtl.html'); print(response); } catch (e) { print(e); } loadView(); } WebViewController? controller; loadView()async{ controller=WebViewController() ..setJavaScriptMode(JavaScriptMode.unrestricted) ..setBackgroundColor(const Color(0x00000000)) ..loadRequest(Uri.parse('http://127.0.0.1:8000/web/webgl_loader_obj_mtl.html')); setState(() {}); } @override void initState() { // TODO: implement initState super.initState(); loadData(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body:controller==null?Container():WebViewWidget(controller: controller!), ); }} æˆ‘æµ‹è¯•çš„æ˜¯å®‰å“å¹³å°ï¼ˆå…¬å¸çš„æµ‹è¯•æœºï¼çœŸæœºï¼ï¼‰ï¼ç°åœ¨è®¿é—®é¡µé¢è®¿é—®ä¸äº†ï¼Œç”¨dioè¯·æ±‚ä¸‹çœ‹çœ‹èƒ½å¦æ‹¿åˆ°é¡µé¢ï¼Œç»“æœå¦‚ä¸‹ï¼š ç„¶åæˆ‘æ€€ç–‘æ˜¯http://127.0.0.1:8000è¿™ä¸ªåœ°å€çš„åŸå› ï¼ŒæŸ¥äº†ä¸€ä¸‹æœç„¶~ å®‰å“é…ç½® åœ¨ä¸‹åˆ›å»º/android/app/src/main/res/xml/network_security_config.xmlæ–‡ä»¶ï¼Œå¡«ä¸Šé…ç½®å†…å®¹ï¼š 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;network-security-config&gt; &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt; &lt;trust-anchors&gt; &lt;certificates src=&quot;system&quot; /&gt; &lt;certificates src=&quot;user&quot; /&gt; &lt;/trust-anchors&gt; &lt;/base-config&gt;&lt;/network-security-config&gt; ä¿®æ”¹android/app/src/main/AndroidManifest.xmlï¼Œåœ¨applicationèŠ‚ç‚¹åŠ å…¥ä»¥ä¸‹ä¸¤ä¸ªå±æ€§å³å¯ï¼š 123456789101112&lt;application android:label=&quot;demoimg&quot; android:name=&quot;${applicationName}&quot; &lt;!--æ·»åŠ å¦‚ä¸‹--&gt; android:usesCleartextTraffic=&quot;true&quot; android:networkSecurityConfig=&quot;@xml/network_security_config&quot; android:icon=&quot;@mipmap/ic_launcher&quot;&gt; &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot; é‡æ–°è®¿é—®OKã€‚iosæœªçŸ¥ï¼ï¼ï¼","link":"/2023/02/02/20230202flutter%E9%80%9A%E8%BF%87%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6/"},{"title":"Httpè¯·æ±‚çš„Rangeå‚æ•°ç²¾ç®€è§£é‡Š","text":"ä¸»è¦æ˜¯ä¾èµ–Httpè¯·æ±‚å¤´Rangeå®ç°å¤§æ–‡ä»¶çš„ä¸‹è½½æš‚åœï¼ŒåŒæ—¶ä»–è¿˜èƒ½å®ç°æ–‡ä»¶åˆ†ç‰‡ä¸‹è½½ï¼Œåˆ†ç‰‡ä¸‹è½½è¿™é‡Œdemoä¸åšæ¼”ç¤ºã€‚ Range: &lt;æ•°æ®æ ¼å¼&gt;=&lt;æ•°æ®å¼€å§‹çš„ç´¢å¼•ä½ç½®&gt;-&lt;æ•°æ®ç»“æŸçš„ç´¢å¼•ä½ç½®&gt;ï¼› è¯·æ±‚ä»0è‡³500çš„byteæ•°æ®ï¼šRange: bytes=0-500 è¯·æ±‚ç¬¬500ä¸ªbyteä»¥åçš„å…¨éƒ¨æ•°æ®ï¼šRange: bytes=501- è¯·æ±‚æœ€å500ä¸ªbyteçš„æ•°æ®ï¼šRange:bytes=-500 è¯·æ±‚å¤šä¸ªåˆ†æ®µæ—¶ï¼Œå„åˆ†æ®µä»¥,åˆ†å‰²ï¼šRange: bytes=0-100,101-200 å¦‚æœå“åº”å¤´ä¸­çš„Accept-Rangesï¼šnoneï¼› é‚£ä¹ˆæœåŠ¡å™¨å°±ä¸æ”¯æŒå½“å‰æ ¼å¼ è¯·æ±‚çš„èŒƒå›´ä¸åˆæ ¼æˆ–è€…è¶…å‡ºæ–‡ä»¶å¤§å°éƒ½ä¼šæŠ¥é”™è¶… GET http://127.0.0.1:8080/down 416 (Requested Range Not Satisfiable)416:è¡¨ç¤ºRangeè¯·æ±‚çš„èµ„æºèŒƒå›´æ— æ³•æ»¡è¶³;206:æ”¯æŒéƒ¨åˆ†è¿”å›ï¼Œå°†è¿”å›æŒ‡å®šéƒ¨åˆ†æ•°æ®ï¼›200:ä¸æ”¯æŒéƒ¨åˆ†è¿”å›ï¼Œå°†ä»å¤´å¼€å§‹å®Œæ•´è¿”å›æ•°æ®ï¼› å“åº”å¤´ä¸­å°†è¿”å›Contentâ€”Rangeå­—æ®µ:Content-Range: &lt;æ•°æ®æ ¼å¼&gt; &lt;æ•°æ®å¼€å§‹çš„ç´¢å¼•ä½ç½®&gt;-&lt;æ•°æ®ç»“æŸçš„ç´¢å¼•ä½ç½®&gt;/&lt;å®Œæ•´æ•°æ®å¤§å°&gt;ã€‚ ä¸Transfer-Encodingåˆ†å—ä¼ è¾“çš„å·®åˆ« åˆ†å—ä¼ è¾“ç¼–ç åªåœ¨HTTPåè®®1.1ç‰ˆæœ¬ï¼ˆHTTP/1.1ï¼‰ä¸­æä¾›ã€‚ æ•°æ®åˆ†è§£æˆä¸€ç³»åˆ—æ•°æ®å—ï¼Œå¹¶ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªå—å‘é€ï¼Œè¿™æ ·æœåŠ¡å™¨å¯ä»¥å‘é€æ•°æ®è€Œä¸éœ€è¦é¢„å…ˆçŸ¥é“å‘é€å†…å®¹çš„æ€»å¤§å°ã€‚è€Œä½¿ç”¨Rangeéœ€è¦æœåŠ¡ç«¯åœ¨è¿”å›å“åº”å‰å°±çŸ¥é“æ•°æ®å®Œæ•´å¤§å°ï¼Œå› æ­¤Transfer-Encodingçš„å“åº”é€Ÿåº¦ç›¸åº”ä¼šæ›´å¿«ä¸€äº›ã€‚ä¸¤è€…ä¸å†²çªï¼Œå¯ä»¥ä¸€èµ·ä½¿ç”¨ã€‚ åœ¨å¤´éƒ¨åŠ å…¥ Transfer-Encoding: chunked ä¹‹åï¼Œå°±ä»£è¡¨è¿™ä¸ªæŠ¥æ–‡é‡‡ç”¨äº†åˆ†å—ç¼–ç ã€‚è¿™æ—¶ï¼ŒæŠ¥æ–‡ä¸­çš„å®ä½“éœ€è¦æ”¹ä¸ºç”¨ä¸€ç³»åˆ—åˆ†å—æ¥ä¼ è¾“ã€‚æ¯ä¸ªåˆ†å—åŒ…å«åå…­è¿›åˆ¶çš„é•¿åº¦å€¼å’Œæ•°æ®ï¼Œé•¿åº¦å€¼ç‹¬å ä¸€è¡Œï¼Œé•¿åº¦ä¸åŒ…æ‹¬å®ƒç»“å°¾çš„ CRLF(\\r\\n)ï¼Œä¹Ÿä¸åŒ…æ‹¬åˆ†å—æ•°æ®ç»“å°¾çš„ CRLFã€‚æœ€åä¸€ä¸ªåˆ†å—é•¿åº¦å€¼å¿…é¡»ä¸º 0ï¼Œå¯¹åº”çš„åˆ†å—æ•°æ®æ²¡æœ‰å†…å®¹ï¼Œè¡¨ç¤ºå®ä½“ç»“æŸã€‚ Content-Encoding å’Œ Transfer-Encoding äºŒè€…ç»å¸¸ä¼šç»“åˆæ¥ç”¨ï¼Œå…¶å®å°±æ˜¯é’ˆå¯¹ Transfer-Encoding çš„åˆ†å—å†è¿›è¡Œ Content-Encodingå‹ç¼©ã€‚ æœ‰æ—¶å€™æœåŠ¡å™¨å¼€å¯å‹ç¼©æˆ–è€…ä¸ºäº†å‡å°‘cpuå‹åŠ›ç­‰ç­‰ï¼Œæ˜¯ä¸ä¼šå»è®¡ç®—æ–‡ä»¶çš„æ€»å¤§å°çš„ï¼Œè¿™æ—¶å€™ä»å“åº”å¤´ä¸­å°±æ— æ³•è·å–èµ„æºçš„æ€»å¤§å°ã€‚ å¤§æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½çš„è¿›åº¦ç›‘å¬å’Œæš‚åœfetchä¹Ÿèƒ½å®ç°ï¼Œè¿™é‡Œæ—¶é—´ä¸å¤šï¼Œåé¢å›æ¥è¡¥ä¸Šï¼Œå…ˆç»™ä¸ªè§£å†³æ–¹æ¡ˆçš„æ€è·¯. æ›´ç®€å•çš„æ˜¯ä½¿ç”¨XHRï¼ï¼ï¼ Fetchå¤§æ–‡ä»¶ä¸‹è½½å¤§æ–‡ä»¶çš„ä¸‹è½½è¿›åº¦å’Œæš‚åœå¯ä»¥å¦‚ä¸‹å®ç°ã€‚å¦‚ä¸‹ä»£ç å®é™…æ˜¯æ“ä½œä¸€ä¸ªæµçš„è¿›åº¦è€Œå·²ã€‚æœ€ç»ˆæŠŠUint8Arrayè½¬æˆä¸€ä¸ªæ–‡ä»¶å°±OKã€‚ å¦‚æœæƒ³å®ç°æ–‡ä»¶å¿«é€Ÿä¸‹è½½ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Range æ¥å®ç°åŒæ—¶ä¸‹è½½å¤šä¸ªæ–‡ä»¶æ®µï¼Œç„¶åæŠŠå®ƒä»¬æŒ‰ç…§é¡ºåºæ‹¼æ¥èµ·æ¥ã€‚å½“ç„¶ Range ä¹Ÿèƒ½å®ç°æ–‡ä»¶çš„è¿›åº¦ç›‘å¬ï¼Œä¸è¿‡æ•ˆç‡ä¸å¤ªå¥½ã€‚æ¯ä¸ªå®¢æˆ·ç«¯çš„ç½‘é€Ÿä¸ä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨çš„å®é™…ç½‘é€Ÿèƒ½è¾¾åˆ°10MB/Sï¼Œæˆ‘ä»¬è®¾å®šçš„æ˜¯Range:0-512,è¿™æ ·æ˜¾å¾—å¾ˆç¼“æ…¢ï¼Œä½†æ˜¯å¯¹äºä¸ªåˆ«ç½‘é€Ÿå·®çš„å®¢æˆ·ç«¯å´å¾ˆåˆé€‚ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849let size = 0;var data=[]fetch(&quot;http://127.0.0.1:8080/file&quot;,{ cache: 'no-cache', // headers:{ // Range:&quot;&quot;,///å¦‚æœæš‚åœäº†ï¼Œä¸‹æ¬¡ç»§ç»­å¼€å§‹å°±ç”¨è¿™ä¸ªï¼Œæ¥ç€ä¸Šä¸€æ¬¡çš„æ–­ç‚¹ç»§ç»­å¼€å§‹ // }}).then(response =&gt; { if (response.ok) { return response; } else { console.log(&quot;è¯·æ±‚å¤±è´¥&quot;) }})// å–å‡ºbody.then(response =&gt; response.body).then(body =&gt; { const reader = body.getReader(); return new ReadableStream({ start(controller) { function pump() { return reader.read().then(res =&gt; { //res ({ done, value }) const { done, value } = res; if (done) {// è¯»ä¸åˆ°æ›´å¤šæ•°æ®å°±å…³é—­æµ console.log(&quot;end&quot;) controller.close(); } data=[...data,...value] console.log(&quot;æœ¬æ¬¡è¯·æ±‚é•¿åº¦ï¼š&quot;,value.length, &quot;--------ç°åœ¨çš„æ€»é•¿åº¦:&quot;,data.length) // å°†ä¸‹ä¸€ä¸ªæ•°æ®å—ç½®å…¥æµä¸­ controller.enqueue(value); return pump(); }); } return pump(); } })}).catch(err =&gt; console.error(err));/*æœ¬æ¬¡è¯·æ±‚é•¿åº¦ï¼š 1638400 --------ç°åœ¨çš„æ€»é•¿åº¦: 1638400æœ¬æ¬¡è¯·æ±‚é•¿åº¦ï¼š 458752 --------ç°åœ¨çš„æ€»é•¿åº¦: 2097152æœ¬æ¬¡è¯·æ±‚é•¿åº¦ï¼š 1638400 --------ç°åœ¨çš„æ€»é•¿åº¦: 3735552...æœ¬æ¬¡è¯·æ±‚é•¿åº¦ï¼š 509341 --------ç°åœ¨çš„æ€»é•¿åº¦: 15648157end*/ å¤§æ–‡ä»¶ä¸Šä¼ ç›®å‰èƒ½æƒ³åˆ°çš„åªæœ‰åˆ‡ç‰‡ã€‚","link":"/2020/10/11/20201011%E5%9F%BA%E4%BA%8ERange%E5%8F%82%E6%95%B0fetch%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/"},{"title":"gitæ¸¸ç¦»(detached)åˆ†æ”¯è§£å†³","text":"æŠ¥é”™å†…å®¹å¤§æ¦‚ä¸º Git HEAD detached from XXX ä¸»è¦æ˜¯çœ‹æŠ¥é”™å…³é”®è¯detached æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€ï¼ˆä½ è‡ªå·±å†²çªçš„å¯èƒ½æ˜¯å…¶ä»–åˆ†æ”¯ï¼‰ 123git branch* (HEAD detached at 925fda6)master æ–°å»ºä¸€ä¸ªä¸´æ—¶ tem åˆ†æ”¯ï¼ŒæŠŠå½“å‰æäº¤çš„ä»£ç æ”¾åˆ°æ•´ä¸ªåˆ†æ”¯ 12git branch temgit checkout tem æ¢å›è¦å›åˆ°çš„é‚£ä¸ªåˆ†æ”¯ï¼Œè¿™é‡Œæ˜¯ master 1git checkout master ç„¶å merge åˆšæ‰åˆ›å»ºçš„ä¸´æ—¶åˆ†æ”¯ 1234git merge temUpdating cad0be9..2437c6bFast-forward...... æ£€æŸ¥æ˜¯å¦æœ‰å†²çªï¼Œæ²¡æœ‰å°±æäº¤åˆ°è¿œç«¯ 123...git push åˆ é™¤ä¸´æ—¶åˆ†æ”¯ 1git branch -d tem","link":"/2021/07/15/20210715git%E6%B8%B8%E7%A6%BB(detached)%E5%88%86%E6%94%AF%E8%A7%A3%E5%86%B3/"},{"title":"dockerå®‰è£…redisåŠredisé›†ç¾¤","text":"éœ€è¦è‡ªå·±å‡†å¤‡ä¸€ä¸ªredis.confæ–‡ä»¶ redisä¸­æ–‡å®˜æ–¹ç½‘ç«™ï¼šhttp://www.redis.cn/download.html ä¸‹è½½è§£å‹ç„¶åè·å–æ–‡ä»¶ dockerç‰ˆæœ¬20.10.14 å•æœºæ¨¡å¼ è·å–dockeré•œåƒ docker pull redis ä¿®æ”¹å‡†å¤‡å¥½çš„redis.confæ–‡ä»¶ 12345678910bind 127.0.0.1 ä¿®æ”¹å # bind 127.0.0.1protected-mode yes ä¿®æ”¹å protected-mode no#è®¾ç½®å¯†ç ï¼Œä»–è¿™ä¸ªæ²¡æœ‰å†™ï¼Œéšä¾¿æ‰¾ä¸€è¡ŒåŠ ä¸Šrequirepass myPassword ä¿®æ”¹å requirepass bb123456# è¿™ä¸ªé…ç½®ä¸èƒ½ä¸ºyes ï¼Œä»–ä¼šå’Œdockerçš„ -d å‚æ•°å†²çªdaemonize no#redisæŒä¹…åŒ–éšæ„appendonly no æŠŠä¸Šé¢çš„æ–‡ä»¶æ”¾å…¥æŸä¸ªç›®å½• æˆ‘è¿™é‡Œæ”¾å…¥ /usr/redis/redis.conf å¯åŠ¨ 1234docker run -d -p=16379:6379 --name=testredis --privileged=true \\-v /usr/redis/redis.conf:/etc/redis/redis.conf \\-v /usr/redis/data:/data \\redis redis-server /etc/redis/redis.conf é›†ç¾¤æ¨¡å¼å¯åŠ¨å¤šä¸ªredisï¼ˆå¯ä»¥åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šæˆ–è€…åœ¨ä¸€ä¸ªä¸Šï¼‰åˆ›å»ºå¹¶è¿è¡Œdockerå®¹å™¨å®ä¾‹ â€“name redis-node-6 å®¹å™¨åå­—â€“net host ä½¿ç”¨å®¿ä¸»æœºçš„IPå’Œç«¯å£ï¼Œé»˜è®¤â€“privileged=true è·å–å®¿ä¸»æœºrootç”¨æˆ·æƒé™-v /data/redis/share/redis-node-6:/data å®¹å™¨å·ï¼Œå®¿ä¸»æœºåœ°å€:dockerå†…éƒ¨åœ°å€redis:6.0.8 redisé•œåƒå’Œç‰ˆæœ¬å·â€“cluster-enabled yes å¼€å¯redisé›†ç¾¤â€“appendonly yes å¼€å¯æŒä¹…åŒ–â€“port 6386 redisç«¯å£å· 123456docker run -d --name=redis-node-1 --net=host --privileged=true -v /usr/redis/redisnode1:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6381docker run -d --name=redis-node-2 --net=host --privileged=true -v /usr/redis/redisnode2:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6382docker run -d --name=redis-node-3 --net=host --privileged=true -v /usr/redis/redisnode3:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6383docker run -d --name=redis-node-4 --net=host --privileged=true -v /usr/redis/redisnode4:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6384docker run -d --name=redis-node-5 --net=host --privileged=true -v /usr/redis/redisnode5:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6385docker run -d --name=redis-node-6 --net=host --privileged=true -v /usr/redis/redisnode6:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6386 æ„å»ºé›†ç¾¤å…³ç³»ä¸æµ‹è¯• éšæœºé€‰å–ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºä¸»èŠ‚ç‚¹,å¹¶è¿›å…¥å®¹å™¨ 1docker exec -it redis-node-1 /bin/bash -it æ„å»ºé›†ç¾¤ 12345678910111213141516171819202122232425262728293031323334353637383940414243redis-cli --cluster create 1.117.72.9:6381 \\1.117.72.9:6382 \\1.117.72.9:6383 \\1.117.72.9:6384 \\1.117.72.9:6385 \\1.117.72.9:6386 \\--cluster-replicas 1# è¾“å…¥yesyes#é‡æ–°è¿›å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹docker exec -it redis-node-1 /bin/bash#ä½¿ç”¨redisredis-cli -p 6381#æŸ¥çœ‹é›†ç¾¤çŠ¶æ€127.0.0.1:6381&gt; cluster info#æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ï¼Œå½“å‰é…ç½®ä¼šè¿”å›ä¸‰ä¸»ä¸‰ä»127.0.0.1:6381&gt; cluster nodes#å­˜å‚¨æµ‹è¯•127.0.0.1:6381&gt; set k1 v1(error) MOVED 12706 1.117.72.9:6383127.0.0.1:6381&gt; set k2 v2OK#ä¸Šé¢å¤±è´¥äº†æ˜¯å› ä¸ºæˆ‘åœ¨node1èŠ‚ç‚¹ä¸­ï¼Œå› ä¸ºnode1çš„èŠ‚ç‚¹æ§½ä½0-5460ï¼Œä½†æ˜¯å­˜å‚¨k1çš„æ—¶å€™åˆ†é…çš„æ§½ä½ä¸º12706ï¼Œé«˜äºå½“å‰èŠ‚ç‚¹çš„5460æ‰€ä»¥å­˜ä¸è¿›å»ã€#ä¸Šé¢æ˜¯å•æœºä½¿ç”¨redisï¼Œåº”è¯¥ä½¿ç”¨é›†ç¾¤æ¨¡å¼è¿›å…¥redis-cli -p 6381 -c#æ¸…ç©ºredisFLUSHALL#å­˜å‚¨æµ‹è¯•127.0.0.1:6381&gt; set k1 v1-&gt; Redirected to slot [12706] located at 1.117.72.9:6383OK1.117.72.9:6383&gt; #Redirected to slot [12706] located at 1.117.72.9:6383 è¿™é‡Œk1åˆ†é…çš„æ§½ä½ä¸º12706ï¼Œä½†æ˜¯ä»–ä¼šé…é‡å®šå‘åˆ°åˆé€‚çš„èŠ‚ç‚¹#åŒæ—¶è¿˜ç»™æˆ‘è·³åˆ°äº†è¿™ä¸ªèŠ‚ç‚¹ä¸Š æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯ 1234567891011121314151617181920212223242526272829303132333435#è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹docker exec -it redis-node-1 /bin/bash#æŸ¥çœ‹ä¿¡æ¯redis-cli --cluster check 1.117.72.9:6382root@VM-4-14-centos:/data# redis-cli --cluster check 1.117.72.9:63821.117.72.9:6382 (544721f6...) -&gt; 0 keys | 5462 slots | 1 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 5461 slots | 1 slaves.1.117.72.9:6381 (ea6144e4...) -&gt; 0 keys | 5461 slots | 1 slaves.[OK] 1 keys in 3 masters.0.00 keys per slot on average.&gt;&gt;&gt; Performing Cluster Check (using node 1.117.72.9:6382)M: 544721f66ef390e6536bd7314e0f367b776fa369 1.117.72.9:6382 slots:[5461-10922] (5462 slots) master 1 additional replica(s)S: 821e7809ebd937c7abfc25460ddeba1e22587ac2 1.117.72.9:6385 slots: (0 slots) slave replicates ea6144e47cd29369eceaf3406cc51b85daa672a4S: 0ac5588e0826bfe7242e193150404412360c5197 1.117.72.9:6386 slots: (0 slots) slave replicates 544721f66ef390e6536bd7314e0f367b776fa369M: 893773f4b7f1e15f0477056c4895aad7d6076ca4 1.117.72.9:6383 slots:[10923-16383] (5461 slots) master 1 additional replica(s)S: 60a5f33a6ae6c4dc892613e0243b3bb371b6fc70 1.117.72.9:6384 slots: (0 slots) slave replicates 893773f4b7f1e15f0477056c4895aad7d6076ca4M: ea6144e47cd29369eceaf3406cc51b85daa672a4 1.117.72.9:6381 slots:[0-5460] (5461 slots) master 1 additional replica(s)[OK] All nodes agree about slots configuration.&gt;&gt;&gt; Check for open slots...&gt;&gt;&gt; Check slots coverage...[OK] All 16384 slots covered. ä¸»ä»å®¹é”™åˆ‡æ¢åˆ†æä¸å®ç° å½“å‰çš„ä¸‰ä¸»ä¸‰ä» 12345671 52 63 4 åœæ­¢èŠ‚ç‚¹1 12345671[X] 52 63 4 è¿‡ä¸€åˆ†é’Ÿå·¦å³ï¼Œè¿›å…¥èŠ‚ç‚¹2æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°1å¯¹åº”çš„5ç›´æ¥æˆä¸ºäº†master 12345678910111213docker stop redis-node-1docker exec -it redis-node-2 /bin/bashredis-cli -p 6382 -c127.0.0.1:6382&gt; cluster nodes544721f66ef390e6536bd7314e0f367b776fa369 10.0.4.14:6382@16382 myself,master - 0 1665762114000 2 connected 5461-10922821e7809ebd937c7abfc25460ddeba1e22587ac2 1.117.72.9:6385@16385 master - 0 1665762115241 7 connected 0-54600ac5588e0826bfe7242e193150404412360c5197 1.117.72.9:6386@16386 slave 544721f66ef390e6536bd7314e0f367b776fa369 0 1665762112000 2 connected893773f4b7f1e15f0477056c4895aad7d6076ca4 1.117.72.9:6383@16383 master - 0 1665762114000 3 connected 10923-1638360a5f33a6ae6c4dc892613e0243b3bb371b6fc70 1.117.72.9:6384@16384 slave 893773f4b7f1e15f0477056c4895aad7d6076ca4 0 1665762114240 3 connectedea6144e47cd29369eceaf3406cc51b85daa672a4 1.117.72.9:6381@16381 master,fail - 1665761820440 1665761816433 1 disconnected é‡æ–°å¯åŠ¨èŠ‚ç‚¹1ï¼Œå¯ä»¥çœ‹åˆ°èŠ‚ç‚¹5ä»»ç„¶æ˜¯masterï¼ŒèŠ‚ç‚¹1å˜æˆäº†slave 123455 12 63 4 å¦‚æœä½ è¿˜è¡Œè®©èŠ‚ç‚¹1ä¸ºä¸»æœºï¼ŒèŠ‚ç‚¹5æˆä»æœºï¼Œé‚£ä¹ˆå°±å…ˆåœæ‰ï¼ŒèŠ‚ç‚¹5ï¼Œåœ¨å¯åŠ¨èŠ‚ç‚¹5â€¦. 123456789docker start redis-node-1127.0.0.1:6382&gt; cluster nodes544721f66ef390e6536bd7314e0f367b776fa369 10.0.4.14:6382@16382 myself,master - 0 1665762514000 2 connected 5461-10922821e7809ebd937c7abfc25460ddeba1e22587ac2 1.117.72.9:6385@16385 master - 0 1665762517279 7 connected 0-54600ac5588e0826bfe7242e193150404412360c5197 1.117.72.9:6386@16386 slave 544721f66ef390e6536bd7314e0f367b776fa369 0 1665762516000 2 connected893773f4b7f1e15f0477056c4895aad7d6076ca4 1.117.72.9:6383@16383 master - 0 1665762516000 3 connected 10923-1638360a5f33a6ae6c4dc892613e0243b3bb371b6fc70 1.117.72.9:6384@16384 slave 893773f4b7f1e15f0477056c4895aad7d6076ca4 0 1665762515000 3 connectedea6144e47cd29369eceaf3406cc51b85daa672a4 1.117.72.9:6381@16381 slave 821e7809ebd937c7abfc25460ddeba1e22587ac2 0 1665762516278 7 connected redisé›†ç¾¤æ‰©å®¹123455 12 63 4 æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯å…¶ä»–çš„æœåŠ¡å™¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125#å…ˆå¢åŠ ä¸¤ä¸ªèŠ‚ç‚¹docker run -d --name=redis-node-7 --net=host --privileged=true -v /usr/redis/redisnode7:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6387docker run -d --name=redis-node-8 --net=host --privileged=true -v /usr/redis/redisnode8:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6388#è¿›å…¥èŠ‚ç‚¹7docker exec -it redis-node-7 /bin/bash#å°†æ–°å¢çš„6387ä½œä¸ºmasterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤#6387å°±æ˜¯å°†è¦ä½œä¸ºmasteræ–°å¢èŠ‚ç‚¹#1.117.72.9:6385å°±æ˜¯åŸæ¥é›†ç¾¤èŠ‚ç‚¹é‡Œé¢çš„é¢†è·¯äººï¼Œç›¸å½“äº47.92.80.135:6387æ‹œæ‹œ1.117.72.9:6385çš„ç å¤´ä»è€Œæ‰¾åˆ°ç»„ç»‡åŠ å…¥é›†ç¾¤redis-cli --cluster add-node 47.92.80.135:6387 1.117.72.9:6385#åœ¨èŠ‚ç‚¹1ä¸­æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼Œå¹¶ä¸”é‡æ–°åˆ†é…æ§½å·ï¼ˆå…¶å®éšä¾¿åœ¨å“ªä¸ªèŠ‚ç‚¹ä¸­ï¼Œåªä¸æ˜¯é€šè¿‡æŸä¸ªæœºå™¨æ‰§è¡Œé›†ç¾¤å‘½ä»¤ï¼Œéšæ„ï¼‰docker exec -it redis-node-1 /bin/basredis-cli --cluster check 127.0.0.1:6381#å¯ä»¥å‘ç°èŠ‚ç‚¹7è™½ç„¶æ˜¯masterä½†æ˜¯æ²¡æœ‰åˆ†é…æ§½ä½47.92.80.135:6387 (27313d8b...) -&gt; 0 keys | 0 slots | 0 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 5461 slots | 1 slaves.1.117.72.9:6382 (544721f6...) -&gt; 0 keys | 5462 slots | 1 slaves.1.117.72.9:6385 (821e7809...) -&gt; 0 keys | 5461 slots | 1 slaves.[OK] 1 keys in 4 masters.0.00 keys per slot on average.&gt;&gt;&gt; Performing Cluster Check (using node 127.0.0.1:6381)S: ea6144e47cd29369eceaf3406cc51b85daa672a4 127.0.0.1:6381 slots: (0 slots) slave replicates 821e7809ebd937c7abfc25460ddeba1e22587ac2M: 27313d8b85918737d08e068ef0c1eecf7d82211b 47.92.80.135:6387 slots: (0 slots) masterM: 893773f4b7f1e15f0477056c4895aad7d6076ca4 1.117.72.9:6383 slots:[10923-16383] (5461 slots) master 1 additional replica(s)S: 60a5f33a6ae6c4dc892613e0243b3bb371b6fc70 1.117.72.9:6384 slots: (0 slots) slave replicates 893773f4b7f1e15f0477056c4895aad7d6076ca4S: 0ac5588e0826bfe7242e193150404412360c5197 1.117.72.9:6386 slots: (0 slots) slave replicates 544721f66ef390e6536bd7314e0f367b776fa369M: 544721f66ef390e6536bd7314e0f367b776fa369 1.117.72.9:6382 slots:[5461-10922] (5462 slots) master 1 additional replica(s)M: 821e7809ebd937c7abfc25460ddeba1e22587ac2 1.117.72.9:6385 slots:[0-5460] (5461 slots) master 1 additional replica(s)[OK] All nodes agree about slots configuration.&gt;&gt;&gt; Check for open slots...&gt;&gt;&gt; Check slots coverage...[OK] All 16384 slots covered.#åœ¨èŠ‚ç‚¹7ä¸­é‡æ–°åˆ†é…æ§½ä½ï¼ˆå…¶å®éšä¾¿åœ¨å“ªä¸ªèŠ‚ç‚¹ä¸­ï¼Œåªä¸æ˜¯é€šè¿‡æŸä¸ªæœºå™¨æ‰§è¡Œé›†ç¾¤å‘½ä»¤ï¼Œéšæ„ï¼‰redis-cli --cluster reshard 1.117.72.9:6385#ä½ æƒ³è¦ç§»åŠ¨å¤šå°‘æ§½ä½#æˆ‘è¿™é‡Œåˆ†é…çš„æ˜¯4096 = 16383 / masteræ•°é‡How many slots do you want to move (from 1 to 16384)? 4096#éœ€è¦ç§»åŠ¨åˆ°é‚£ä¸€ä¸ªèŠ‚ç‚¹ä¸Šé¢ï¼ˆIDï¼‰what is the receiving node ID? 27313d8b85918737d08e068ef0c1eecf7d8221#all ä¸ºè‡ªåŠ¨åˆ†é…ï¼Œç¬¬äºŒç§æ–¹å¼ä¸ºæ‰‹åŠ¨åˆ†é…ã€‚Please enter all the source node IDs.Type 'all' to use all the nodes as source nodes for the hash slots.Type 'done' once you entered all the source nodes IDs.#æˆ‘è¿™é‡Œé€‰æ‹©allSource node #1: all#ä¸­é€”ä¼šè¾“å…¥yes#å®Œäº†è¿‡åé‡æ–°æŸ¥çœ‹åˆ†é…çš„ç»“æœroot@tabby-aliyun:/data# redis-cli --cluster check 127.0.0.1:6387127.0.0.1:6387 (27313d8b...) -&gt; 0 keys | 4096 slots | 0 slaves.1.117.72.9:6382 (544721f6...) -&gt; 0 keys | 4096 slots | 1 slaves.1.117.72.9:6385 (821e7809...) -&gt; 0 keys | 4096 slots | 1 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 4096 slots | 1 slaves.[OK] 1 keys in 4 masters.0.00 keys per slot on average.&gt;&gt;&gt; Performing Cluster Check (using node 127.0.0.1:6387)M: 27313d8b85918737d08e068ef0c1eecf7d82211b 127.0.0.1:6387 slots:[0-1364],[5461-6826],[10923-12287] (4096 slots) masterS: ea6144e47cd29369eceaf3406cc51b85daa672a4 1.117.72.9:6381 slots: (0 slots) slave replicates 821e7809ebd937c7abfc25460ddeba1e22587ac2M: 544721f66ef390e6536bd7314e0f367b776fa369 1.117.72.9:6382 slots:[6827-10922] (4096 slots) master 1 additional replica(s)M: 821e7809ebd937c7abfc25460ddeba1e22587ac2 1.117.72.9:6385 slots:[1365-5460] (4096 slots) master 1 additional replica(s)S: 60a5f33a6ae6c4dc892613e0243b3bb371b6fc70 1.117.72.9:6384 slots: (0 slots) slave replicates 893773f4b7f1e15f0477056c4895aad7d6076ca4S: 0ac5588e0826bfe7242e193150404412360c5197 1.117.72.9:6386 slots: (0 slots) slave replicates 544721f66ef390e6536bd7314e0f367b776fa369M: 893773f4b7f1e15f0477056c4895aad7d6076ca4 1.117.72.9:6383 slots:[12288-16383] (4096 slots) master 1 additional replica(s)[OK] All nodes agree about slots configuration.&gt;&gt;&gt; Check for open slots...&gt;&gt;&gt; Check slots coverage...[OK] All 16384 slots covered.#å¯¹è¾¹å‰åçš„å˜åŒ–ï¼Œå¯ä»¥çœ‹å‡ºä»–çš„èŠ‚ç‚¹å¹¶ä¸æ˜¯é‡æ–°åˆ†é…ï¼Œè€Œæ˜¯ä»æ¯ä¸ªèŠ‚ç‚¹ä¸ŠæŠ½å‡ºä¸€ç‚¹ç‚¹ç»™æ–°èŠ‚ç‚¹47.92.80.135:6387 (27313d8b...) -&gt; 0 keys | 0 slots | 0 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 5461 slots | 1 slaves.1.117.72.9:6382 (544721f6...) -&gt; 0 keys | 5462 slots | 1 slaves.1.117.72.9:6385 (821e7809...) -&gt; 0 keys | 5461 slots | 1 slaves.127.0.0.1:6387 (27313d8b...) -&gt; 0 keys | 4096 slots | 0 slaves.1.117.72.9:6382 (544721f6...) -&gt; 0 keys | 4096 slots | 1 slaves.1.117.72.9:6385 (821e7809...) -&gt; 0 keys | 4096 slots | 1 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 4096 slots | 1 slaves.M: 27313d8b85918737d08e068ef0c1eecf7d82211b 47.92.80.135:6387 slots: (0 slots) masterM: 27313d8b85918737d08e068ef0c1eecf7d82211b 127.0.0.1:6387 slots:[0-1364],[5461-6826],[10923-12287] (4096 slots) master#ç»™èŠ‚ç‚¹7æŒ‚è½½ä»æœº47.92.80.135:6388redis-cli --cluster add-node 47.92.80.135:6388 47.92.80.135:6387 --cluster-slave --cluster-master-id 27313d8b85918737d08e068ef0c1eecf7d82211b redisé›†ç¾¤ç¼©å®¹1234567897 85 12 63 4å°†6388ï¼Œ6387ä»é›†ç¾¤åˆ é™¤ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#è¿›å…¥èŠ‚ç‚¹5docker exec -it redis-node-5 /bin./bash#æŸ¥çœ‹é›†ç¾¤çŠ¶æ€redis-cli --cluster check 127.0.0.1:6387#æ‹¿åˆ°èŠ‚ç‚¹7å’Œ8S: b4ca84a31f5fc5129f6e201e8db85dad2d256b21 47.92.80.135:6388 slots: (0 slots) slave replicates 27313d8b85918737d08e068ef0c1eecf7d82211bM: 27313d8b85918737d08e068ef0c1eecf7d82211b 47.92.80.135:6387 slots:[0-1364],[5461-6826],[10923-12287] (4096 slots) master 1 additional replica(s) #åˆ é™¤ä»èŠ‚ç‚¹8redis-cli --cluster del-node 47.92.80.135:6388 b4ca84a31f5fc5129f6e201e8db85dad2d256b21&gt;&gt;&gt; Removing node b4ca84a31f5fc5129f6e201e8db85dad2d256b21 from cluster 47.92.80.135:6388&gt;&gt;&gt; Sending CLUSTER FORGET messages to the cluster...&gt;&gt;&gt; Sending CLUSTER RESET SOFT to the deleted node.#æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å·²ç»åˆ é™¤#æ¸…ç©º6387çš„æ§½å·ï¼Œé‡æ–°åˆ†é…ç»™6385ï¼ˆåªä¸æ˜¯é€šè¿‡6385æœºå™¨æ‰§è¡Œé›†ç¾¤å‘½ä»¤ï¼Œéšæ„ï¼‰#é€šè¿‡6385æ‰§è¡Œå‘½ä»¤redis-cli --cluster reshard 1.117.72.9:6385#æŠŠ6387ä¸Šçš„4096ä¸ªæ§½ä½ç§»é™¤How many slots do you want to move (from 1 to 16384)? 4096#6387çš„idWhat is the receiving node ID? 821e7809ebd937c7abfc25460ddeba1e22587ac2Please enter all the source node IDs. Type 'all' to use all the nodes as source nodes for the hash slots. Type 'done' once you entered all the source nodes IDs. #ç§»åŠ¨åˆ°6385ä¸Šï¼Œè¿™é‡Œæ˜¯6385çš„idSource node #1: 27313d8b85918737d08e068ef0c1eecf7d82211b#è¾“å…¥doneSource node #2: done#è¾“å…¥yes#æ£€æŸ¥é›†ç¾¤çš„çŠ¶æ€root@VM-4-14-centos:/data# redis-cli --cluster check 1.117.72.9:63851.117.72.9:6385 (821e7809...) -&gt; 0 keys | 8192 slots | 1 slaves.1.117.72.9:6383 (893773f4...) -&gt; 1 keys | 4096 slots | 1 slaves.1.117.72.9:6382 (544721f6...) -&gt; 0 keys | 4096 slots | 1 slaves.47.92.80.135:6387 (27313d8b...) -&gt; 0 keys | 0 slots | 0 slaves.#4096ä¸ªæ§½ä½éƒ½æŒ‡ç»™6381ï¼Œå®ƒå˜æˆäº†8192ä¸ªæ§½ä½ï¼Œç›¸å½“äºå…¨éƒ¨éƒ½ç»™6381äº†ï¼Œä¸ç„¶è¦è¾“å…¥3æ¬¡ï¼Œä¸€é”…ç«¯#å¦‚æœä½ éœ€è¦å¹³å‡åˆ†é…ç»™å‰©ä¸‹çš„ä¸»æœºï¼Œé‚£ä¹ˆè¦é‡æ–°åˆ†é…ä¸‰æ¬¡#åˆ é™¤6387redis-cli --cluster del-node 47.92.80.135:6387 27313d8b85918737d08e068ef0c1eecf7d82211b&gt;&gt;&gt; Removing node 27313d8b85918737d08e068ef0c1eecf7d82211b from cluster 47.92.80.135:6387&gt;&gt;&gt; Sending CLUSTER FORGET messages to the cluster...&gt;&gt;&gt; Sending CLUSTER RESET SOFT to the deleted node.","link":"/2022/06/12/20220612docker%E5%AE%89%E8%A3%85redis%E5%8F%8Aredis%E9%9B%86%E7%BE%A4/"},{"title":"dockerå®‰è£…mysql","text":"æ³¨æ„è‡ªå·±çš„mysqlé•œåƒç‰ˆæœ¬ dockerç‰ˆæœ¬20.10.14 å•æœºæ¨¡å¼ æ‹‰å–é•œåƒ 1docker pull mysql è¿è¡Œå®¹å™¨ éœ€è¦æŠŠæ•°æ®åº“çš„æ•°æ®æ˜ å°„åˆ°ä¸»æœºï¼ˆå¦åˆ™å®¹å™¨å…³é—­æ•°æ®ä¸¢å¤±ï¼‰ä¸”ï¼Œä¸‹æ¬¡ä½¿ç”¨åŒæ ·çš„æ˜ å°„å‘½ä»¤åˆ›å»ºå®¹å™¨ï¼Œæ•°æ®èƒ½ç»§ç»­ä½¿ç”¨ 1234567docker run -d -p=13306:3306 --privileged=true \\-v /usr/mysql/log:/var/log/mysql \\-v /usr/mysql/data:/var/lib/mysql \\-v /usr/mysql/conf:/etc/mysql/conf.d \\--name=tabbymysql2 \\-e MYSQL_ROOT_PASSWORD=bb123456 \\mysql æŠ¥é”™è§£å†³ ä¸åŒç‰ˆæœ¬çš„æ˜ å°„å¯èƒ½ä¸åŒæ¯”å¦‚ï¼š5.7 123- /app/mysql/db:/var/lib/mysql- /app/mysql/conf/my.cnf:/etc/my.cnf- /app/mysql/init:/docker-entrypoint-init.d å¯èƒ½ä¼šå‡ºç°æŸ¥è¯¢ä¹±ç  éœ€è¦ä¿®æ”¹æ•°æ®çš„é»˜è®¤å­—ç¬¦é›† dockerçš„mysqlé»˜è®¤å­—ç¬¦é›†æ˜¯æ‹‰ä¸è¿˜æ˜¯å…¶ä»–çš„ï¼ˆå¦‚ä¸‹æ–¹æ³•æŸ¥çœ‹ï¼‰ï¼Œä¼šå¯¼è‡´ä¸­æ–‡ä¹±ç ï¼ŒnavicatæŸ¥çœ‹ä¸ä¼šä¹±ç ï¼Œå› ä¸ºnavicatå·¥å…·è‡ªå¸¦åŠŸèƒ½utf8 mysql -uroot -pSHOW VARIABLES LIKE â€˜character%â€™; è§£å†³æ–¹æ³•ï¼š åœ¨å®¿ä¸»æœºä¸­ä¿®æ”¹é…ç½®æ–‡ä»¶ 12345678vim /usr/mysql/conf/my.cnf[client]default_character_set=utf8[mysqld]collation_server = utf8_general_cicharacter_set_server = utf8 ç®€å•çš„æµ‹è¯•ä¸€ä¸‹ 123456789101112#é‡å¯å®¹å™¨docker restart b4f981975015#è¿›å…¥å®¹å™¨#è¿›å…¥sqlmysql -uroot -p#æµ‹è¯•ï¼šcreate database test2;insert into t1 values(1,&quot;zs&quot;);#navicatä¸­ï¼šINSERT into test2.t1 VALUES(3,&quot;å¼ ä¸‰&quot;);#dockeræŸ¥è¯¢SELECT * FROM t1;","link":"/2022/06/14/20220614docker%E5%AE%89%E8%A3%85mysql/"},{"title":"flutteræ’ä»¶å¼€å‘(é›†æˆæœ¬åœ°sdk)","text":"å¹³å°ï¼šAndroidï¼ŒiOSï¼› éƒ½ä½¿ç”¨æœ¬åœ°çš„sdkï¼Œè§£å†³ç¼–è¯‘å™¨é»˜è®¤è¯­æ³•æŠ¥é”™ï¼› å‡†å¤‡å·¥ä½œå…ˆåˆ›å»ºæ’ä»¶é¡¹ç›®å®‰è£…ç¯å¢ƒä»€ä¹ˆçš„ä¸éœ€è¦è¿‡å¤šä»‹ç»ï¼› å®‰å“é…ç½®å¼•å…¥è°ƒç”¨ å…ˆåœ¨android/libså¼•å…¥aaråŒ… æ’ä»¶ä¸­çš„androidç›®å½•ä¸‹çš„å±‚çº§å’Œæ™®é€šé¡¹ç›®ä¸­çš„androidç›®å½•ä¸‹çš„å±‚çº§ä¸å¤ªä¸€æ · åœ¨android/build.gradleé‡Œé¢åšä¸€äº›æ›´æ”¹ api â€˜io.openim:core-sdk:2.3.5-t08@aarâ€™å®é™…è·¯å¾„ä¸º ***/android/libs/core-sdk-2.3.5-t08.aar***/android/libs/core-sdk.aar ç„¶ååœ¨é¡¹ç›®è°ƒç”¨æ–¹æ³• ç¼–å†™å¹³å°é€šé“(åˆ›å»ºæ’ä»¶é¡¹ç›®è‡ªåŠ¨é¡¹ç›®ä¸­è‡ªå¸¦) ç„¶åå°±å¯ä»¥æµ‹è¯•ä¸‹ã€‚ è¯­æ³•é”™è¯¯è§£å†³å¯èƒ½ä½ çš„é¡¹ç›®ä¼šå‡ºç°è¯­æ³•é”™è¯¯ä¸€ç›´çˆ†çº¢ï¼Œåˆ©ç”¨local.propertiesä¸­çš„flutter.sdkè·¯å¾„æ¥ï¼› android/local.propertiesä¸‹é¢æ·»åŠ fluttersdkè·¯å¾„ï¼ˆæ ¹æ®è‡ªå·±ç”µè„‘ç¯å¢ƒæ¥é…ç½®ï¼‰ 12sdk.dir=C:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\Sdkflutter.sdk=G:\\\\flutterDev\\\\flutter #æ ¹æ®è‡ªå·±ç”µè„‘ç¯å¢ƒæ¥é…ç½® æˆ‘ä»¬åœ¨android/build.gradleæ–‡ä»¶ä¸­ï¼Œç¼–å†™è¯»å–flutter.sdkçš„ä»£ç ï¼Œæœ€åä½¿ç”¨compileOnly filesä¾èµ–æœ¬åœ°çš„flutteråº“ 123456789101112131415161718//è·å–local.propertiesé…ç½®æ–‡ä»¶def localProperties = new Properties()def localPropertiesFile = rootProject.file('local.properties')if (localPropertiesFile.exists()) { localPropertiesFile.withReader('UTF-8') { reader -&gt; localProperties.load(reader) }}//è·å–flutterçš„sdkè·¯å¾„def flutterRoot = localProperties.getProperty('flutter.sdk')if (flutterRoot == null) { throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)}dependencies { compileOnly files(&quot;$flutterRoot/bin/cache/artifacts/engine/android-arm/flutter.jar&quot;) api 'io.openim:core-sdk:2.3.5-t08@aar'} æ‰“å¼€androidç›®å½•(ç›´æ¥file-open)ï¼Œæ‰“å¼€äº†è¿‡åä¼šåŒæ­¥æ›´æ–°ç„¶åå°±okï¼›åŒæ­¥æœ‰ç‚¹ä¹…ã€‚ã€‚ã€‚ æˆ‘å‡ºç°äº†æ²¡æœ‰gradleçš„é”™è¯¯ï¼Œæˆ‘è‡ªå·±å¤åˆ¶äº†ä¸€ä»½è¿‡æ¥ è§£å†³å®Œæˆï¼ iOSå‡†å¤‡å·¥ä½œå¯ä»¥å‚è€ƒå®‰å“ ä½¿ç”¨macè¿›å…¥åˆ°exampleçš„iosä¸­åœ¨xcodeä¸­æ‰“å¼€ é¦–å…ˆé¡¹ç›®å…ˆæ­£å¸¸è¿è¡Œèµ·æ¥ï¼› ç”¨æˆ‘ä»¬è‡ªå·±çš„****.xcframeworkå»æ›¿æ¢ä»è¿œç¨‹æ‹‰ä¸‹æ¥çš„æ–‡ä»¶ï¼› å¯¹iOSæ¯”è¾ƒé™Œç”Ÿï¼Œæš‚æ—¶ä¸ä¼šç›´æ¥åœ¨æœ¬åœ°ä½¿ç”¨ï¼ŒåæœŸå­¦ä¹ ä¸‹æ‰è¡Œè¿™é‡Œçš„æ’ä»¶ä¸å¹¶ä¸æ˜¯æˆ‘ä»¬è‡ªå·±çš„ï¼Œæ˜¯ä¸€ä¸ªçº¿ä¸Šç‰ˆæœ¬çš„ä¿®æ”¹ç‰ˆ ä¸»è¦æ˜¯æ›¿æ¢æ‰ä»–å°±okï¼› æŠ¥é”™1ï¼š","link":"/2023/02/08/20230208flutter%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"title":"List&lt;String&gt;ä¸Stringäº’è½¬","text":"ä¾‹1 123456789101112131415import 'dart:convert';void main() {//1.Listè½¬ä¸ºString var l1 = &lt;String&gt;['adaadad', 'adaadad']; String s = JsonEncoder().convert(l1); print(s);//2.Stringè½¬å›List List&lt;String&gt; l2 = &lt;String&gt;[]; for (var value in JsonDecoder().convert(s)) { l2.add(value); } print(l2);} ä¾‹2 1234567String s ='[{&quot;sessionID&quot;:&quot;10000002&quot;,&quot;sessionKey&quot;:&quot;d44caf6bd7184aeb&quot;,&quot;sessionType&quot;:1}]'; List&lt;Map&gt; l1 = []; for (var value in JsonDecoder().convert(s)) { print(value[&quot;sessionID&quot;]); l1.add(value); }; print(l1[0]);","link":"/2023/02/23/20230223DartList%E5%92%8CString%E4%BA%92%E8%BD%AC/"},{"title":"è…¾è®¯äº‘COSå‰ç«¯ä¸´æ—¶tokenç›´ä¼ ","text":"åå°ä½¿ç”¨å¯†é’¥é€šè¿‡SDKç”Ÿæˆä¸´æ—¶tokenï¼Œå‰ç«¯ä½¿ç”¨åç«¯è¿”å›çš„å‚æ•°ï¼Œé€šè¿‡ç®—æ³•ç”Ÿæˆç›´ä¼ COSçš„å‚æ•°ã€‚ æœåŠ¡ç«¯è·å–ä¸´æ—¶ç§˜é’¥golangè·å–cosä¸´æ—¶ç§˜é’¥å®˜æ–¹æ–‡æ¡£ å‰ç«¯ç›´ä¼ æ™®é€šé¡¹ç›®cos-js-sdk-v5åœ°å€æˆ–è€…CDNåœ°å€å¼•å…¥https://cdn.jsdelivr.net/npm/cos-js-sdk-v5/dist/cos-js-sdk-v5.min.js ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/cos-js-sdk-v5/dist/cos-js-sdk-v5.min.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;input id=&quot;file-selector&quot; type=&quot;file&quot;&gt; &lt;script&gt; var XCosSecurityToken=&quot;3PCM60BvU7Rn6i5X9uPq6hni4MR0a7a545dc67e23d015d82bf311650ba22ab6S7pP-3AVNt1ob9zN8BdkGSFDF5r0KeAIvl3JAWayfA4M-z5K5JzzlHY_aU-XAi8y8DVLHPq61kYFEzQvCQ2wgbSDjWNwXH3V6QYEZvW2BtHpEFU87ME4h9geXrFXucln3a4cwCW_VWDzvHc07rhYbTOjYY0Iv5QfCvgrAtqmlgYN4i6G0DNOW-77-cePbwYPY9edzZH2LNCjdvFGEpWVAuta5KzGjEetyN2GvsexFq2pHVxZmNu6zEcEQ4_sS1EcTRtv86h75KGjbunbrrkpNV6uoTgE6gdy49QoOWbkMZeVczPzM2QyTpwi7P8tfIDvc4NapoD6GxJIbHvrW4PiUbpi0loHC5HFdswPFJn7UiR_uw8ZOpIBcI_MGvBx5nJBMgiw5YFABcb0JQqO8f6BKBZRE7BFPAx8BmUiD_UuTF8SsyLUKEcAzCwEFqXovI2c6eBJtBxh8wpDj86mh3YCNL90gMWL2MOC_wp4aye46NS-WbUFEJcVaEaSSghYJ8KMIkzaGpl_qoZyw8iOOu7DPDHj7V_J02FJLR239k0io4nwZm-1yL7fui12ufqm3gVqYYNtkm6FUQGA8Gj0cw58eEgNZyx3bUxuWuHHT7tMk0rQQWbMUJrKPqhFvvZ-dtSCf_-6gzpXXq-L1WqtOTEv4shv6Oe6hvV8dOfuf5QzcBigoqE50H1LUf0WsBAoJhJNqCrX8wc14cFsi52Mb50H35T86ccynx10G52m8JaKuCGl8MdGAoH2nf7sUoNzfalm&quot; XCosSecurityToken=&quot;3PCMV60vU7Rn6i5X9uPq6hni4MR0a7a2d3bc587bab11a530d40f363a977d412S7pP-3AVNt1ob9zN8BdkGXMZQHasR3fm0UnpYU65oT3T2fAH92lRKCRYTjA4h4LGp3bgp4o0eaKBRPr2KmYdVfKwH0h1-TRU8VF05qpgbqw1gv_ty-A0ovUNFLJCX5-2O8eARmOdl8jt6bQHvEfcsy4xfAwy_to-y7Ax3ErdjqJ5cTsaKWr5ru85bW7nPJH945hyqRHX1nduwGlYlIn4GztlVB2W-EbrjnKAti8P-HKY4JWD7kxS3UjB1yQm5QBNcM5lY6xyyS-pat_nmm7pqyegU_P7VWcIT587o_OUTC_lLJPD9S0nLYygB_7VWITWOCZcGd_Yfhj5pQR4L0ByMMTHqkvG3B3JVl2j8EKKZOpDXUtzBqznCVw9bDp87F5AwDtE0RQSLzoqBK-Dd68d5leqk_nULqPAMQPjmu2YUApI2X81Lsz6VioD7HNwRxegPPa1Ik53X89nFAh6GhKVouw0cQjDvj39SpHeVAvH8TL0S4muRborXqkmyLhqrgY98NZOVr0TIeoV-KEbxKgbciRe18sMowJ7jsmmuy3iI_FGRL97pDmNFWX4vMkVS9R4&quot; var TmpSecretKey = &quot;NpEEntHyD9X/TzdXg9muRnB8obxtUzeKePT3QPX820=&quot; var TmpSecretId = &quot;AKIDxKFyybjsuzxhTg-5WvrZhuTQ5xKxrivElSB81ySz9KKl1qK1_O5yglpWqD7kf_&quot; var StartTime = 1664288985 var ExpiredTime = 1664292585 var Bucket = 'test9-1314103605'; var Region = 'ap-chengdu'; // åˆå§‹åŒ–å®ä¾‹ var cos = new COS({ getAuthorization: function (options, callback) { callback({ TmpSecretId: TmpSecretId, TmpSecretKey: TmpSecretKey, XCosSecurityToken: XCosSecurityToken, StartTime: StartTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000000ï¼Œå»ºè®®è¿”å›æœåŠ¡å™¨æ—¶é—´ä½œä¸ºç­¾åçš„å¼€å§‹æ—¶é—´ï¼Œé¿å…ç”¨æˆ·æµè§ˆå™¨æœ¬åœ°æ—¶é—´åå·®è¿‡å¤§å¯¼è‡´ç­¾åé”™è¯¯ ExpiredTime:ExpiredTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000900 }); } }); // ç›‘å¬é€‰æ–‡ä»¶ document.getElementById('file-selector').onchange = function () { var file = this.files[0]; if (!file) return; // åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶ cos.sliceUploadFile({ Bucket: Bucket, Region: Region, Key: &quot;test/&quot;+file.name, Body: file, onHashProgress: function (progressData) { console.log('æ ¡éªŒä¸­', JSON.stringify(progressData)); }, onProgress: function (progressData) { console.log('ä¸Šä¼ ä¸­', JSON.stringify(progressData)); }, }, function (err, data) { console.log(err, data); }); }; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å¾®ä¿¡å°ç¨‹åºå‰ç«¯ç›´ä¼ å¾®ä¿¡å°ç¨‹åºå‰ç«¯ç›´ä¼ SDK ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556æŠŠ demo/lib/cos-wx-sdk-v5.js å¤åˆ¶åˆ°è‡ªå·±å°ç¨‹åºé¡¹ç›®ä»£ç é‡Œï¼Œåœ¨éœ€è¦ä¸Šä¼ æ–‡ä»¶çš„åœ°æ–¹è´´ä»¥ä¸‹ä»£ç æŠŠ demo/lib/cos-wx-sdk-v5.js å¤åˆ¶åˆ°è‡ªå·±å°ç¨‹åºé¡¹ç›®ä»£ç é‡Œï¼Œåœ¨éœ€è¦ä¸Šä¼ æ–‡ä»¶çš„åœ°æ–¹è´´ä»¥ä¸‹ä»£ç æŠŠ demo/lib/cos-wx-sdk-v5.js å¤åˆ¶åˆ°è‡ªå·±å°ç¨‹åºé¡¹ç›®ä»£ç é‡Œï¼Œåœ¨éœ€è¦ä¸Šä¼ æ–‡ä»¶çš„åœ°æ–¹è´´ä»¥ä¸‹ä»£ç å¾ˆé‡è¦// å­˜å‚¨æ¡¶åç§°ï¼Œç”±bucketname-appid ç»„æˆï¼Œappidå¿…é¡»å¡«å…¥ï¼Œå¯ä»¥åœ¨COSæ§åˆ¶å°æŸ¥çœ‹å­˜å‚¨æ¡¶åç§°ã€‚ https://console.cloud.tencent.com/cos5/bucketvar Bucket = 'test-1250000000';// å­˜å‚¨æ¡¶Regionå¯ä»¥åœ¨COSæ§åˆ¶å°æŒ‡å®šå­˜å‚¨æ¡¶çš„æ¦‚è§ˆé¡µæŸ¥çœ‹ https://console.cloud.tencent.com/cos5/bucket/ // å…³äºåœ°åŸŸçš„è¯¦æƒ…è§ https://cloud.tencent.com/document/product/436/6224var Region = 'ap-guangzhou';// åˆå§‹åŒ–å®ä¾‹var cos = new COS({ getAuthorization: function (options, callback) { // å¼‚æ­¥è·å–ç­¾å wx.request({ url: 'https://example.com/sts.php', // æ­¥éª¤äºŒæä¾›çš„ç­¾åæ¥å£ data: { Method: options.Method, Key: options.Key }, dataType: 'text', success: function (result) { var data = result.data; callback({ TmpSecretId: data.credentials &amp;&amp; data.credentials.tmpSecretId, TmpSecretKey: data.credentials &amp;&amp; data.credentials.tmpSecretKey, XCosSecurityToken: data.credentials &amp;&amp; data.credentials.sessionToken, ExpiredTime: data.expiredTime, }); } }); }});// é€‰æ‹©æ–‡ä»¶wx.chooseImage({ count: 1, // é»˜è®¤9 sizeType: ['original'], // å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤ç”¨åŸå›¾ sourceType: ['album', 'camera'], // å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ success: function (res) { var filePath = res.tempFiles[0].path; var filename = filePath.substr(filePath.lastIndexOf('/') + 1); cos.postObject({ Bucket: Bucket, Region: Region, Key: filename, FilePath: filePath, onProgress: function (info) { console.log(JSON.stringify(info)); } }, function (err, data) { console.log(err || data); }); }}); å°è£…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107///å®é™…å¼•å…¥var COS = require('./cos-wx-sdk-v5.js');///è¿™ä¸ªå¿…é¡»å¼•å…¥ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æ–‡ä»¶///è¿™ä¸ªå¿…é¡»å¼•å…¥ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æ–‡ä»¶///è¿™ä¸ªå¿…é¡»å¼•å…¥ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æ–‡ä»¶import _ from './cos-wx-sdk-v5.js'export class Credential { TmpSecretId=&quot;&quot; TmpSecretKey=&quot;&quot; XCosSecurityToken=&quot;&quot; StartTime=0 ExpiredTime=0 Bucket=&quot;&quot; Region=&quot;&quot; BucketPath=&quot;&quot; constructor(obj={}){ this.TmpSecretId=obj.TmpSecretId this.TmpSecretKey=obj.TmpSecretKey this.XCosSecurityToken=obj.XCosSecurityToken this.StartTime=obj.StartTime this.ExpiredTime=obj.ExpiredTime this.Bucket=obj.Bucket this.Region=obj.Region this.BucketPath=obj.BucketPath }}const getFileNameByPath=(filePath)=&gt;{ return filePath.match(/[^/]*$/)[0];}/**@process [function] è¿›åº¦å›è°ƒ@done [function] ç»“æœå›è°ƒ@filePath string æ–‡ä»¶è·¯å¾„@filename string æ–‡ä»¶åç§° ï¼Œå¯ä¸ä¼  */export const COSSingle = (obj={}) =&gt; { let {cre,filePath,done,process,filename}=obj // åˆå§‹åŒ–å®ä¾‹ var cos = new COS({ getAuthorization: function (options, callback) { callback({ TmpSecretId: cre.TmpSecretId, TmpSecretKey: cre.TmpSecretKey, XCosSecurityToken: cre.XCosSecurityToken, StartTime: cre.StartTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000000ï¼Œå»ºè®®è¿”å›æœåŠ¡å™¨æ—¶é—´ä½œä¸ºç­¾åçš„å¼€å§‹æ—¶é—´ï¼Œé¿å…ç”¨æˆ·æµè§ˆå™¨æœ¬åœ°æ—¶é—´åå·®è¿‡å¤§å¯¼è‡´ç­¾åé”™è¯¯ ExpiredTime: cre.ExpiredTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000900 }); } }); if(!filename){filename=getFileNameByPath(filePath)} cos.postObject({ Bucket: cre.Bucket, Region: cre.Region, Key: cre.BucketPath+filename, FilePath: filePath, onProgress: function (info) {process&amp;&amp;process(info)} }, function (err, data) { done&amp;&amp;done(err,data) });}export const COSMultiple = (cre=new Credential(),Files=[]) =&gt; { return new Promise((resolve,reject)=&gt;{ // åˆå§‹åŒ–å®ä¾‹ var cos = new COS({ getAuthorization: function (options, callback) { callback({ TmpSecretId: cre.TmpSecretId, TmpSecretKey: cre.TmpSecretKey, XCosSecurityToken: cre.XCosSecurityToken, StartTime: cre.StartTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000000ï¼Œå»ºè®®è¿”å›æœåŠ¡å™¨æ—¶é—´ä½œä¸ºç­¾åçš„å¼€å§‹æ—¶é—´ï¼Œé¿å…ç”¨æˆ·æµè§ˆå™¨æœ¬åœ°æ—¶é—´åå·®è¿‡å¤§å¯¼è‡´ç­¾åé”™è¯¯ ExpiredTime: cre.ExpiredTime, // æ—¶é—´æˆ³ï¼Œå•ä½ç§’ï¼Œå¦‚ï¼š1580000900 }); } }); function UpItem(filePath,filename){ return new Promise((sle,reject)=&gt;{ if(!filename){filename=getFileNameByPath(filePath)} cos.postObject({ Bucket: cre.Bucket, Region: cre.Region, Key: cre.BucketPath+filename, FilePath: filePath, onProgress: function (info) {} }, function (err, data) { sle({err, data}); // done&amp;&amp;done(err,data) }); }) } Promise.all(Files.map(i=&gt;UpItem(i.filePath,i.filename))).then(res=&gt;{ resolve(res) }).catch(e=&gt;{ reject(e) }) }) } ä½¿ç”¨1234567891011121314151617181920212223242526272829303132333435363738394041424344æµ‹è¯•ä½¿ç”¨import {COSSingle,COSMultiple,Credential} from '@/pkg/cos/index.js';const upload=()=&gt;{ var cre= new Credential({ TmpSecretId:&quot;AKIDC5DKwFpmKLYEV4jkyB6MzHSA2RJBwQuCowagLCXuU-8gjebR3mKRreLCoGI77y&quot;, TmpSecretKey:&quot;pcqawQkKxJz9dTWg+5ndBLVowHW/is1S6J+jBtY4M=&quot;, XCosSecurityToken:&quot;d7YzDoYn03sPOuolg9Zj17hWJ6oTBqXa876a52cdb6c39574696f11dabb4dcc1MxnevotTIlzOwvElw6cIdIMEEuPMs642ww2kn3WvepO0jK1rE8JC6iZb9xT9_r8eJwpEitqqpCDedHEoYQ-zf0HM9DsbSI-t3iuDnVunzxr2qwKo4RGa6CMyotXMkYvnDsuDWVHLfY47GWEcXGpaXV2Oqco3zX3KOilU9AzA7Q0FjIlx4bGOYGUEmuquqbjAvz_USAdxjYCdq1Ia5x8nv-JYb0xEQfK79UrwFU87fu8n-kVhIaOWofbMj9EwSOYpCjn_LRxvYxnObV6PB9ytbuj20QRjtVmFVBLcrY5qlXw29UhU0IttCc7a2xxCNNQq5shQIZeaDoew6gS1gQMKgwUQLP9hE-2OPLHTq15T7miB2orMDEOHK-4aCFGZCKABLvHGaQFisE7bQ0DwNNpSeJI6R_sf2-PSgP4nfE6HUxTSLaigHlBEBkIwnNydcJoTZIjcHiVT2dA4u6t9O2sd5EOAeopRaI7dEKQykBHeJojaIg4oOHL6t2IkSZX4eW8Caml9J7dPN20wufjwOU_IVbZLuDG79Gyj2TjAuFSxsq5lORoempn3RTL6dU9YW5_k0b5eQq6VMQ-9u-EJWf6n9iwvXv0BUe3qMcyF1sC2O8-qAm4MBx1rTGRNCUeOx0f&quot;, StartTime:1686408158, ExpiredTime:1686415358, Bucket:&quot;test2-1257289329&quot;, Region:&quot;ap-chengdu&quot;, BucketPath:&quot;test/&quot; }) ///ç­›é€‰æ‰å·²ç»ä¸Šä¼ çš„ï¼Œå’Œç»„ç»‡æ•°æ®å¯¹è±¡[{filePath,filename}] ///upæ˜¯æœªä¸Šä¼ çš„æ–‡ä»¶ var target=fdata.value.map(i=&gt;{ if(i.up===false){ return { filePath:i.tempFilePath, } } }) ///å•ä¸ªä¸Šä¼  // COSSingle({ // cre, // filePath:target[0].filePath, // done:function(err,data){ // if(!err){ // ///ä¸Šä¼ æˆåŠŸ // console.log(err,data) // } // } // }) ///å¤šä¸ªæ–‡ä»¶ä¸Šä¼  // COSMultiple(cre,target).then(res=&gt;{ // console.log(&quot;æˆåŠŸ&quot;) // console.log(res) // }).catch(e=&gt;{ // console.log(e) // })} å¦‚æœæ˜¯uniappï¼Œå¯ä»¥æŠŠcos-wx-sdk-v5.jsä¸­çš„wx.uploadFile æ”¹æˆ uni.uploadFileä»£ç  è¡¥å……æœ‰æ—¶å€™ä¼šæŠ¥403çš„é”™ï¼Œé‚£æ˜¯å› ä¸ºè…¾è®¯äº‘åå°é…ç½®é—®é¢˜ 12&lt;Code&gt;AccessDenied&lt;/Code&gt;&lt;Message&gt;Access Denied.&lt;/Message&gt; ä¿®æ”¹ä¸€ä¸‹COSå­˜å‚¨æ¡¶æƒé™é…ç½®è®¿é—®æŠ¥é”™ä¿®æ”¹","link":"/2023/04/15/20230415COS%E5%89%8D%E7%AB%AF%E7%9B%B4%E4%BC%A0/"},{"title":"widgetæˆªå›¾å’Œè·å–widgetå°ºå¯¸","text":"å¯¹widgetè¿›è¡Œæˆªå›¾ 12345678910111213141516171819202122232425GlobalKey globalKey = GlobalKey();RepaintBoundary( key: globalKey, child: QrImage( data: logic.buildQRContent(), size: 134.h, backgroundColor: Colors.white, ),)Future saveImg () async { RenderRepaintBoundary boundary = globalKey.currentContext?.findRenderObject() as RenderRepaintBoundary; ui.Image image = await boundary.toImage(pixelRatio: 10.0); ByteData? byteData = await image.toByteData(format: ui.ImageByteFormat.png); Uint8List? pngBytes = byteData?.buffer.asUint8List(); ///è®¾ç½®å›¾ç‰‡ä¿å­˜çš„è·¯å¾„ String? rootPath=DataPersistence.getAppRootPath()!; String filePath=&quot;$rootPath${DateTime.now().microsecondsSinceEpoch}.jpg&quot;; File file = File(filePath); ///ä¿å­˜å›¾ç‰‡ file.writeAsBytesSync(pngBytes!,flush:true);} è·å–widgetçš„å°ºå¯¸ï¼Œä½ç½®å•¥çš„ 123456789GlobalKey globalKey = GlobalKey();RenderBox? renderBox = globalKey.currentContext?.findRenderObject() as RenderBox;print(renderBox.size.height);print(renderBox.size.width);var offset = renderBox.localToGlobal(Offset.zero); //ç»„ä»¶åæ ‡// var underOffset = renderBox?.localToGlobal(Offset(0.0, renderBox.size.height)); //ç»„ä»¶ä¸‹æ–¹åæ ‡print(offset.dx);print(offset.dy);","link":"/2023/03/15/20230315widget%E6%88%AA%E5%9B%BE%E5%92%8C%E8%8E%B7%E5%8F%96widget%E5%B0%BA%E5%AF%B8/"}],"tags":[{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"webå‰ç«¯","slug":"webå‰ç«¯","link":"/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"uniapp","slug":"uniapp","link":"/tags/uniapp/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","link":"/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"exceljs","slug":"exceljs","link":"/tags/exceljs/"},{"name":"sheetjs","slug":"sheetjs","link":"/tags/sheetjs/"},{"name":"nuxtjs","slug":"nuxtjs","link":"/tags/nuxtjs/"},{"name":"vue","slug":"vue","link":"/tags/vue/"},{"name":"gulp","slug":"gulp","link":"/tags/gulp/"},{"name":"http","slug":"http","link":"/tags/http/"},{"name":"pinia","slug":"pinia","link":"/tags/pinia/"},{"name":"cryptojs","slug":"cryptojs","link":"/tags/cryptojs/"},{"name":"golang","slug":"golang","link":"/tags/golang/"},{"name":"webAssembly","slug":"webAssembly","link":"/tags/webAssembly/"},{"name":"Google Sign","slug":"Google-Sign","link":"/tags/Google-Sign/"},{"name":"Face Sign","slug":"Face-Sign","link":"/tags/Face-Sign/"},{"name":"im","slug":"im","link":"/tags/im/"},{"name":"flutter","slug":"flutter","link":"/tags/flutter/"},{"name":"linux","slug":"linux","link":"/tags/linux/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"etcd","slug":"etcd","link":"/tags/etcd/"},{"name":"æå…‰æ¨é€","slug":"æå…‰æ¨é€","link":"/tags/%E6%9E%81%E5%85%89%E6%8E%A8%E9%80%81/"},{"name":"react","slug":"react","link":"/tags/react/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"COS","slug":"COS","link":"/tags/COS/"}],"categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","link":"/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"flutter","slug":"flutter","link":"/categories/flutter/"},{"name":"linux","slug":"linux","link":"/categories/linux/"},{"name":"docker","slug":"docker","link":"/categories/docker/"},{"name":"golang","slug":"golang","link":"/categories/golang/"},{"name":"git","slug":"git","link":"/categories/git/"},{"name":"golang","slug":"webå‰ç«¯/golang","link":"/categories/web%E5%89%8D%E7%AB%AF/golang/"}]}